{"version":3,"sources":["layout/themeContext.js","context/Socket/SocketContext.js","translate/languages/pt.js","translate/languages/index.js","translate/languages/en.js","translate/languages/es.js","translate/i18n.js","errors/toastError.js","services/api.js","hooks/useWhatsApps/index.js","context/WhatsApp/WhatsAppsContext.js","hooks/useAuth.js/index.js","context/Auth/AuthContext.js","rules.js","components/Can/index.js","pages/ToDoList/index.js","hooks/usePlans/index.js","hooks/useVersion/index.js","layout/MainListItems.js","context/Tickets/TicketsContext.js","components/ButtonWithSpinner/index.js","components/MarkdownWrapper/index.js","components/ContactTag/index.js","components/ModalImageCors/index.js","components/ConfirmationModal/index.js","context/ReplyingMessage/ReplyingMessageContext.js","components/EditMessageModal/index.js","context/ForwarMessage/ForwardMessageContext.js","components/ContactModal/index.js","components/ForwardMessageModal/index.js","components/MessageOptionsMenu/index.js","components/LocationPreview/index.js","components/NewTicketModal/index.js","components/VCardPreview/index.js","components/MessagesList/SelectMessageCheckbox.js","components/MessagesList/index.js","components/TicketHeaderSkeleton/index.js","components/TicketHeader/index.js","helpers/getInitials.js","helpers/colorGenerator.js","components/TicketInfo/index.js","components/TicketMessagesDialog/index.js","hooks/useQueues/index.js","components/TransferTicketModalCustom/index.js","components/TicketListItemCustom/index.js","hooks/useTickets/index.js","components/NotificationsPopOver/index.js","components/NotificationsVolume/index.js","components/QueueSelect/index.js","components/UserModal/index.js","components/BackdropLoading/index.js","components/DarkMode/index.js","components/AnnouncementsPopover/index.js","hooks/useDate/index.js","pages/Chat/ChatPopover.js","layout/index.js","components/Dashboard/CardCounter.js","components/Dashboard/TableAttendantsStatus.js","hooks/useDashboard/index.js","hooks/useContacts/index.js","hooks/useMessages/index.js","pages/Dashboard/ChartsUser.js","pages/Dashboard/ChartsDate.js","pages/Dashboard/index.js","components/TicketsListSkeleton/index.js","components/TicketsListCustom/index.js","components/TabPanel/index.js","components/TicketsQueueSelect/index.js","components/TagsFilter/index.js","components/UsersFilter/index.js","components/TicketsManagerTabs/index.js","components/ContactDrawerSkeleton/index.js","components/ContactForm/index.js","components/ContactNotesDialogListItem/index.js","hooks/useTicketNotes/index.js","components/ContactNotes/index.js","components/ContactDrawer/index.js","components/MessageInputCustom/RecordingTimer.js","components/MessageInputCustom/ProgressBarCustom.js","hooks/useQuickMessages/index.js","components/MessageInputCustom/index.js","hooks/useLocalStorage/index.js","components/TagsContainer/index.js","components/OutlinedDiv/index.js","components/MessageVariablesPicker/index.js","components/ScheduleModal/index.js","components/TicketOptionsMenu/index.js","components/TicketActionButtonsCustom/index.js","components/Ticket/index.js","pages/TicketsCustom/index.js","components/TicketAdvancedLayout/index.js","pages/TicketsAdvanced/index.js","pages/TicketResponsiveContainer/index.js","pages/Signup/index.js","pages/Login/index.js","utils/FormatMask.js","utils/formatSerializedId.js","components/MainContainer/index.js","components/MainHeader/index.js","components/MainHeaderButtonsWrapper/index.js","components/Title/index.js","components/TableRowSkeleton/index.js","components/WhatsAppModal/index.js","components/QrcodeModal/index.js","pages/Connections/index.js","components/SchedulesForm/index.js","hooks/useCompanies/index.js","components/QueueSelectCustom/index.js","components/ModalUsers/index.js","components/CompaniesManager/index.js","components/PlansManager/index.js","hooks/useHelps/index.js","components/HelpsManager/index.js","hooks/useSettings/index.js","components/OnlyForSuperUser/index.js","components/Settings/Options.js","components/Settings/Uploader.js","pages/Companies/index.js","pages/SettingsCustom/index.js","components/FormFields/InputField.js","components/FormFields/SelectField.js","components/CheckoutPage/Forms/AddressForm.js","components/CheckoutPage/Forms/PaymentForm.js","components/CheckoutPage/ReviewOrder/styles.js","components/CheckoutPage/ReviewOrder/ShippingDetails.js","components/CheckoutPage/ReviewOrder/index.js","components/CheckoutPage/ReviewOrder/ReviewOrder.js","components/CheckoutPage/CheckoutSuccess/style.js","components/CheckoutPage/CheckoutSuccess/CheckoutSuccess.js","components/CheckoutPage/CheckoutSuccess/index.js","components/CheckoutPage/FormModel/checkoutFormModel.js","components/CheckoutPage/FormModel/validationSchema.js","components/CheckoutPage/FormModel/formInitialValues.js","components/CheckoutPage/styles.js","components/CheckoutPage/index.js","components/CheckoutPage/CheckoutPage.js","components/SubscriptionModal/index.js","pages/Financeiro/index.js","components/UserModal/statusIcon.js","pages/Users/index.js","pages/Contacts/index.js","components/ColorPicker/index.js","components/QueueOptions/index.js","components/QueueModal/index.js","pages/Queues/index.js","components/TagModal/index.js","pages/Tags/index.js","pages/MessagesAPI/index.js","pages/Helps/index.js","components/ContactListDialog/index.js","pages/ContactLists/index.js","components/ContactListItemModal/index.js","hooks/useContactLists/index.js","pages/ContactListItems/index.js","components/QuickMessageDialog/index.js","pages/QuickMessages/index.js","pages/Kanban/index.js","routes/Route.js","pages/Schedules/index.js","components/CampaignModal/index.js","pages/Campaigns/index.js","pages/CampaignsConfig/index.js","pages/CampaignReport/index.js","components/AnnouncementModal/index.js","pages/Annoucements/index.js","pages/Chat/ChatList.js","pages/Chat/ChatMessages.js","pages/Chat/index.js","pages/Subscription/index.js","components/FileModal/index.js","pages/Files/index.js","components/QueueSelectSingle/index.js","components/PromptModal/index.js","pages/Prompts/index.js","components/QueueIntegrationModal/index.js","pages/QueueIntegration/index.js","pages/ForgetPassWord/index.js","routes/index.js","App.js","index.js","serviceWorker.js","assets/wa-background.png","assets/wa-background-dark.png","assets/planilha.xlsx","assets/sound.mp3","assets/chat_notify.mp3","assets/n8n.png","assets/dialogflow.png","assets/webhook.png","assets/typebot.jpg","assets/wa-background-light.png","assets/wa-background-dark.jpg"],"names":["ColorModeContext","React","createContext","toggleColorMode","ManagedSocket","constructor","socketManager","this","rawSocket","currentSocket","callbacks","joins","on","_this$rawSocket$io$op","io","opts","query","r","recovered","refreshJoinsOnReady","j","console","debug","emit","event","params","off","callback","onReady","push","i","findIndex","c","splice","_len","arguments","length","Array","_key","startsWith","substring","log","disconnect","DummySocket","SocketManager","currentCompanyId","currentUserId","socketReady","getSocket","companyId","_this","userId","localStorage","getItem","warn","removeAllListeners","token","JSON","parse","isExpired","setTimeout","window","location","reload","openSocket","process","transports","pingTimeout","pingInterval","reason","connect","_len2","_key2","onAny","_len3","args","_key3","socket","callbackReady","once","onConnect","SocketContext","messages","pt","translations","signup","title","toasts","success","fail","form","name","email","password","buttons","submit","login","register","plans","users","connections","campaigns","schedules","enabled","disabled","clear","delete","save","yes","no","money","companies","plan","auth","dashboard","charts","perDay","deleted","confirmationModal","deleteTitle","deleteMessage","disconnectTitle","disconnectMessage","add","tryAgain","qrcode","newQr","connecting","toolTips","disconnected","content","connected","timeout","table","number","status","lastUpdate","default","actions","session","whatsappModal","edit","tabs","general","assessments","integrations","sendIdQueue","timeSendQueue","queueRedirection","outOfHoursMessage","queueRedirectionDesc","prompt","expiresTicket","expiresInactiveMessage","greetingMessage","complationMessage","okAdd","okEdit","cancel","qrCode","message","contacts","deletedAll","searchPlaceholder","deleteAllTitle","importTitle","deleteAllMessage","importMessage","importTitlte","import","importSheet","export","whatsapp","queueIntegrationModal","id","type","projectName","language","jsonContent","urlN8N","typebotSlug","typebotExpires","typebotKeywordFinish","typebotKeywordRestart","typebotRestartMessage","typebotUnknownMessage","typebotDelayMessage","test","testSuccess","addSuccess","editSuccess","sideMenu","note","options","promptModal","voice","max_tokens","temperature","apikey","max_messages","voiceKey","voiceRegion","prompts","queue","contactModal","mainInfo","extraInfo","extraName","extraValue","addExtraInfo","queueModal","color","ratingMessage","orderQueue","integrationId","attach","userModal","profile","allTicket","allTicketEnabled","allTicketDesabled","scheduleModal","body","contact","sendAt","sentAt","tagModal","chat","noTicketMessage","uploads","titles","titleUploadMsgDragDrop","titleFileList","ticketsManager","newTicket","closeallTicket","ticketsQueueSelect","placeholder","tickets","inbox","closedAllTickets","closedAll","open","resolverd","notification","closed","search","filterConnections","filterContacts","filterConections","filterConectionsOptions","pending","filterUsers","ticketsPerPage","showAll","transferTicketModal","fieldLabel","fieldQueueLabel","fieldQueuePlaceholder","noOptions","ok","ticketsList","pendingHeader","assignedHeader","noTicketsTitle","noTicketsMessage","accept","transfer","reopen","newTicketModal","mainDrawer","listItems","quickMessages","queues","tags","administration","settings","helps","messagesAPI","annoucements","chats","financeiro","files","reports","queueIntegration","appBar","notRegister","user","logout","dateOpen","dateClose","NPS","lastMessage","supportTime","filter","deleteAll","textMessage","mediaMessage","media","notifications","noTickets","noAttachment","dialog","shortcode","geral","visao","mediaName","messageVariablesPicker","label","vars","contactFirstName","contactName","greeting","protocolNumber","date","hour","contactLists","company","contactListItems","lists","contactList","scheduledAt","completedAt","confirmation","new","update","readonly","message1","message2","message3","message4","message5","confirmationMessage1","confirmationMessage2","confirmationMessage3","confirmationMessage4","confirmationMessage5","messagePlaceholder","tagList","fileList","okadd","restart","close","announcements","active","inactive","priority","text","mediaPath","campaignsConfig","queueSelect","inputLabel","online","offline","userCreation","messagesList","header","assignedTo","return","resolve","messagesInput","placeholderOpen","placeholderClosed","signMessage","contactDrawer","fileModal","fileOptions","ticketOptionsMenu","schedule","registerAppointment","appointmentsModal","textarea","titleFrom","confirm","messageOptionsMenu","reply","forward","toForward","react","backendErrors","ERR_NO_OTHER_WHATSAPP","ERR_NO_DEF_WAPP_FOUND","ERR_WAPP_NOT_INITIALIZED","ERR_WAPP_CHECK_CONTACT","ERR_WAPP_INVALID_CONTACT","ERR_WAPP_DOWNLOAD_MEDIA","ERR_INVALID_CREDENTIALS","ERR_SENDING_WAPP_MSG","ERR_DELETE_WAPP_MSG","ERR_OTHER_OPEN_TICKET","ERR_SESSION_EXPIRED","ERR_USER_CREATION_DISABLED","ERR_NO_PERMISSION","ERR_DUPLICATED_CONTACT","ERR_NO_SETTING_FOUND","ERR_NO_CONTACT_FOUND","ERR_NO_TICKET_FOUND","ERR_NO_USER_FOUND","ERR_NO_WAPP_FOUND","ERR_CREATING_MESSAGE","ERR_CREATING_TICKET","ERR_FETCH_WAPP_MSG","ERR_QUEUE_COLOR_ALREADY_EXISTS","ERR_WAPP_GREETING_REQUIRED","en","es","i18n","use","LanguageDetector","init","defaultNS","fallbackLng","ns","resources","toastError","err","_err$response","_err$response$data","errorMsg","response","data","error","exists","toast","t","toastId","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","isString","api","axios","create","baseURL","withCredentials","openApi","reducer","state","action","payload","whatsApp","whatsAppIndex","s","updatedAt","retries","whatsAppId","useWhatsApps","whatsApps","dispatch","useReducer","loading","setLoading","useState","useContext","useEffect","async","get","fetchSession","whatsappId","WhatsAppsContext","WhatsAppsProvider","_ref","children","createElement","Provider","value","useAuth","history","useHistory","isAuth","setIsAuth","setUser","interceptors","request","config","headers","Promise","reject","_error$response","_error$response2","originalRequest","_retry","post","setItem","stringify","defaults","Authorization","removeItem","handleLogin","userData","has","isArray","setting","find","key","moment","locale","dueDate","vencimento","format","diff","before","isBefore","dias","duration","asDays","Math","round","handleLogout","getCurrentUserInfo","AuthContext","AuthProvider","rules","static","admin","Can","role","perform","check","permissions","staticPermissions","includes","dynamicPermissions","dynamic","permissionCondition","defaultProps","useStyles","makeStyles","root","display","flexDirection","alignItems","margin","inputContainer","width","marginBottom","input","flexGrow","marginRight","listContainer","height","marginTop","backgroundColor","borderRadius","list","ToDoList","classes","task","setTask","tasks","setTasks","editIndex","setEditIndex","savedTasks","className","TextField","onChange","target","variant","Button","onClick","handleAddTask","trim","now","Date","newTasks","createdAt","List","map","index","ListItem","ListItemText","primary","secondary","toLocaleString","ListItemSecondaryAction","IconButton","handleEditTask","EditIcon","handleDeleteTask","DeleteIcon","usePlans","getPlanList","url","method","responseData","finder","remove","getPlanCompany","useVersion","getVersion","ListSubheader","logoutButton","palette","sair","main","ListItemLink","props","icon","to","renderLink","useMemo","forwardRef","itemProps","ref","RouterLink","Object","assign","button","dense","component","ListItemIcon","newChats","forEach","chatIndex","u","chatId","MainListItems","drawerClose","collapsed","connectionWarning","setConnectionWarning","openCampaignSubmenu","setOpenCampaignSubmenu","showCampaigns","setShowCampaigns","showKanban","setShowKanban","showOpenAi","setShowOpenAi","showIntegrations","setShowIntegrations","showSchedules","setShowSchedules","showInternalChat","setShowInternalChat","showExternalApi","setShowExternalApi","invisible","setInvisible","pageNumber","setPageNumber","searchParam","version","setVersion","_version","fetchVersion","planConfigs","useCampaigns","useKanban","useOpenAi","useIntegrations","useSchedules","useInternalChat","useExternalApi","fetchData","delayDebounceFn","fetchChats","clearTimeout","unreadsCount","chatUser","unreads","whats","records","style","overflowY","Fragment","hidden","position","fontSize","textAlign","paddingLeft","inset","Typography","fontWeight","WhatsAppIcon","FlashOnIcon","LoyaltyRoundedIcon","BorderColorIcon","ContactPhoneOutlinedIcon","Schedule","LocalOfferIcon","Badge","ForumIcon","HelpOutlineIcon","small","DashboardOutlinedIcon","ListIcon","PeopleIcon","super","AnnouncementIcon","AllInclusive","DeviceHubOutlined","badgeContent","SyncAltIcon","AttachFile","AccountTreeOutlinedIcon","PeopleAltOutlinedIcon","CodeRoundedIcon","LocalAtmIcon","SettingsOutlinedIcon","Divider","padding","handleClickLogout","RotateRight","TicketsContext","TicketsContextProvider","currentTicket","setCurrentTicket","code","uuid","buttonProgress","green","top","left","marginLeft","ButtonWithSpinner","rest","CircularProgress","size","elements","allowedElements","CustomLink","rel","MarkdownWrapper","_ref2","mediaType","boldRegex","tildaRegex","replace","markdownOptions","disableParsingRawHTML","forceInline","overrides","a","element","el","matches","match","vcardStyle","border","avatar","infoStyle","p","Avatar","src","profilePicUrl","alt","Markdown","tag","whiteSpace","ContactTag","toUpperCase","messageMedia","objectFit","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","ModalImageCors","imageUrl","fetching","setFetching","blobUrl","setBlobUrl","responseType","URL","createObjectURL","Blob","fetchImage","ModalImage","smallSrcSet","medium","large","ConfirmationModal","onClose","onConfirm","Dialog","aria-labelledby","DialogTitle","DialogContent","dividers","DialogActions","ReplyMessageContext","ReplyMessageProvider","replyingMessage","setReplyingMessage","backgroundSize","backgroundImage","mode","whatsBackground","whatsBackgroundDark","justifyContent","paddingBottom","scrollbarStyles","minHeight","minWidth","textContentItem","overflowWrap","messageRight","maxWidth","alignSelf","paddingRight","paddingTop","inputmsg","timestamp","bottom","right","titleBackground","emojiBox","borderTop","zIndex","EditMessageModal","onSave","editedMessage","setEditedMessage","showEmoji","setShowEmoji","inputMessage","setInputMessage","emojiOptionsRef","useRef","modalRef","current","modalRect","getBoundingClientRect","emojiOptionsRect","desiredPosition","PaperProps","edge","aria-label","CloseIcon","Box","fontStyle","Paper","InputBase","flex","multiline","maxRows","e","inputProps","read","fromMe","mediaUrl","quotedMsg","handleSave","CheckCircleIcon","ForwardMessageContext","ForwardMessageProvider","showSelectMessageCheckbox","setShowSelectMessageCheckbox","selectedMessages","setSelectedMessages","forwardMessageModalOpen","setForwardMessageModalOpen","flexWrap","textField","spacing","extraAttr","btnWrapper","ContactSchema","Yup","shape","min","max","required","ContactModal","contactId","initialValues","isMounted","initialState","setContact","prevState","fetchContact","handleClose","scroll","Formik","enableReinitialize","validationSchema","onSubmit","values","put","handleSaveContact","setSubmitting","errors","touched","isSubmitting","Form","gutterBottom","Field","as","autoFocus","Boolean","helperText","fullWidth","FieldArray","_ref3","info","DeleteOutlineIcon","ForwardMessageModal","modalOpen","optionsContacts","setOptionsContacts","setSearchParam","selectedContact","setSelectedContact","newContact","setNewContact","contactModalOpen","setContactModalOpen","sending","setSending","messageSending","setMessageSending","setSignMessage","fetchContacts","sleep","ms","createFilterOptions","handleCloseContactModal","Autocomplete","clearOnBlur","autoHighlight","freeSolo","clearOnEscape","getOptionLabel","optionL","renderOption","filterOptions","createAddContactOption","filtered","inputValue","newValue","handleSelectOption","renderInput","onKeyPress","InputProps","endAdornment","FormControlLabel","labelPlacement","control","Switch","checked","responseList","messageId","contactL","handleForwardMessage","iconButton","gridContainer","addCircleButton","popoverContent","maxHeight","boxShadow","webkitBoxShadow","hideScrollbar","overflow","MessageOptionsMenu","menuOpen","anchorEl","confirmationOpen","setConfirmationOpen","confirmationEditOpen","setEditMessageOpenModal","messageEdit","setMessageEdit","reactionAnchorEl","setReactionAnchorEl","moreAnchorEl","setMoreAnchorEl","closeReactionsMenu","closeMoreReactionsMenu","handleReactToMessage","reactionType","availableReactions","ForwardModal","Menu","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem","handleSetShowSelectCheckbox","hanldeReplyMessage","currentTarget","Popover","Grid","container","slice","reaction","item","AddCircleOutlineIcon","LocationPreview","image","link","description","handleLocation","float","dangerouslySetInnerHTML","__html","NewTicketModal","_user$queues","initialContact","setOptions","selectedQueue","setSelectedQueue","selectedWhatsapp","setSelectedWhatsapp","whatsapps","setWhatsapps","openAlert","setOpenAlert","userTicketOpen","setUserTicketOpen","queueTicketOpen","setQueueTicketOpen","then","handleSaveTicket","queueId","ticket","option","lineHeight","renderOptionLabel","xs","Select","displayEmpty","MenuProps","renderValue","q","w","VCardPreview","numbers","useTheme","isModalOpen","setModalOpen","isContactValid","setContactValid","newTicketModalOpen","setNewTicketModalOpen","contactTicket","setContactTicket","contactObj","alreadyExists","existingContact","invalido","createTicket","Modal","transform","background","paper","outline","handleQueueSelection","handleCloseOrOpenTicket","vcard","SelectMessageCheckbox","isChecked","setIsChecked","isMessageSelected","some","m","Checkbox","handleSelectMessage","updatedList","messagesListWrapper","circleLoading","opacity","messageLeft","quotedContainerLeft","quotedSideColorLeft","quotedContainerRight","quotedMsgRight","quotedSideColorRight","messageActionsButton","messageContactName","textContentItemEdited","textContentItemDeleted","forwardMessage","dailyTimestamp","dailyTimestampText","ackIcons","verticalAlign","deletedIcon","ackDoneAllIcon","downloadMedia","newMessages","messageIndex","newMessage","messageToUpdate","MessagesList","ticketId","isGroup","hasMore","setHasMore","lastMessageRef","selectedMessage","setSelectedMessage","setAnchorEl","messageOptionsMenuOpen","currentTicketId","isIOS","navigator","userAgent","MSStream","scrollToBottom","fetchMessages","scrollIntoView","handleOpenMessageOptionsMenu","checkMessageMedia","split","locationParts","imageLocation","linkLocation","descriptionLocation","array","obj","ind","indexOf","controls","startIcon","GetApp","href","renderDailyTimestamps","parseISO","messageDay","previousMessageDay","isSameDay","renderNumberTicket","_message$ticket","_message$ticket$whats","messageTicket","ticketNunberClosed","ticketNunberOpen","renderMessageDivider","renderQuotedMessage","_message$quotedMsg","_message$quotedMsg2","_message$quotedMsg3","_message$quotedMsg3$c","_message$quotedMsg4","clsx","onScroll","scrollTop","document","getElementById","prevPageNumber","renderMessages","_message$contact","_message$contact$name2","_message$contact4","_message$queue","_message$contact2","_message$contact$name","_message$contact3","messageCenter","isDeleted","ExpandMore","xmlns","viewBox","fill","d","onDoubleClick","isForwarded","Reply","Block","badge","overlap","ack","AccessTime","Done","DoneAll","renderMessageAck","ticketHeader","borderBottom","TicketHeaderSkeleton","Card","square","CardHeader","titleTypographyProps","noWrap","subheaderTypographyProps","Skeleton","animation","subheader","tabHeaderBackground","breakpoints","down","TicketHeader","getInitials","string","names","initials","getLuminance","g","b","generateColor","identifier","hash","str","charCodeAt","hashStringToNumber","normalizedHash","abs","generateColorFromHash","luminance","adjustColorForContrast","TicketInfo","userName","setUserName","setContactName","offsetWidth","truncadName","cursor","mainWrapper","borderLeft","transition","transitions","easing","sharp","leavingScreen","mainWrapperShift","easeOut","enteringScreen","TicketMessagesDialog","setDrawerOpen","setTicket","fetchTicket","_data$contact","handleDrawerOpen","renderTicketInfo","useQueues","findAll","TransferTicketModalCustom","ticketid","setQueues","allQueues","setAllQueues","selectedUser","setSelectedUser","findAllQueues","loadQueues","fetchUsers","preventDefault","noOptionsText","FormControl","InputLabel","pendingTicket","queueTag","noTicketsDiv","newMessagesCount","noTicketsText","connectionTag","contactNameWrapper","lastMessageTime","justifySelf","closedBadge","contactLastMessage","badgeStyle","acceptButton","ticketQueueColor","ticketInfo","secondaryContentSecond","alignContent","ticketInfo1","Radiusdot","presence","TicketListItemCustom","_ticket$queue5","_ticket$queue5$name","_ticket$queue6","_ticket$contact","_ticket$contact2","_ticket$contact3","_ticket$contact4","_ticket$contact5","_ticket$contact6","_ticket$whatsapp","_ticket$whatsapp2","_ticket$whatsapp2$nam","_ticket$queue7","_ticket$queue8","_ticket$queue8$name","ticketUser","setTicketUser","ticketQueueName","setTicketQueueName","setTicketQueueColor","setTag","whatsAppName","setWhatsAppName","lastInteractionLabel","setLastInteractionLabel","openTicketMessageDialog","setOpenTicketMessageDialog","useParams","verpreview","setverpreview","transferTicketModalOpen","setTransferTicketModalOpen","_ticket$queue","_ticket$queue$name","_ticket$queue2","_ticket$user","_ticket$user$name","_ticket$whatsapp$name","handleCloseTicket","_ticket$queue3","useIntegration","promptId","updateLastInteractionLabel","labelText","labelColor","renderLastInteractionLabel","lastInteractionDate","timeDifference","hoursDifference","floor","minutesDifference","handleAcepptTicket","settingIndex","handleSendMessage","handleCloseTransferTicketModal","uuidv4","handleSelectTicket","selected","Tooltip","arrow","placement","ListItemAvatar","disableTypography","chatbot","AndroidIcon","grey","VisibilityIcon","blue","composing","recording","unreadMessages","_ticket$queue4","handleReopenTicket","useTickets","queueIds","withUnreadMessages","setTickets","fetchTickets","tabContainer","popoverPaper","noShadow","NotificationsPopOver","volume","ticketIdUrl","pathname","ticketIdRef","isOpen","setIsOpen","setNotifications","showPendingTickets","setShowPendingTickets","setDesktopNotifications","play","useSound","alertSound","soundAlertRef","historyRef","fetchSettings","Notification","requestPermission","processNotifications","newNotifications","ticketIndex","notfiticationIndex","n","String","visibilityState","handleNotifications","urlPicture","renotify","onclick","focus","handleClickAway","NotificationTicket","handleClick","ChatIcon","disableScrollLock","TicketListItem","icons","customBadge","NotificationsVolume","setVolume","VolumeUpIcon","VolumeDownIcon","Slider","step","handleVolumeChange","chips","chip","QueueSelect","selectedQueueIds","multiple","fetchQueues","shrink","labelWidth","_queues$find","_queues$find2","Chip","multFieldLine","formControl","UserSchema","UserModal","loggedInUser","setSelectedQueueIds","setWhatsappId","showPassword","setShowPassword","_data$queues","userQueueIds","fetchUser","handleSaveUser","InputAdornment","VisibilityOff","Visibility","labelId","backdrop","drawer","BackdropLoading","Backdrop","switch","visible","btnHeader","DarkMode","mainPaper","AnnouncementDialog","announcement","aria-describedby","filename","backgroundRepeat","backgroundPosition","DialogContentText","newAnnouncements","announcementIndex","announcementId","AnnouncementsPopover","setAnnouncement","showAnnouncementDialog","setShowAnnouncementDialog","fetchAnnouncements","record","Notifications","scrollHeight","clientHeight","useDate","dateToClient","strDate","isValid","datetimeToClient","dateToDatabase","ChatPopover","notifySound","userObj","senderId","goToMessages","fancyBackground","toolbar","dark","barraSuperior","toolbarIcon","appBarShift","menuButton","menuButtonHidden","drawerPaper","scrollbarStylesSoft","drawerPaperClose","overflowX","up","appBarSpacer","containerWithScroll","logo","LoggedInLayout","_user$company","_user$company2","_user$company3","_user$company4","themeToggle","userModalOpen","setUserModalOpen","setMenuOpen","drawerOpen","drawerVariant","setDrawerVariant","colorMode","greaterThenSm","useMediaQuery","interval","setInterval","clearInterval","handleCloseMenu","logoWithRandom","random","Drawer","REACT_APP_NAME_SYSTEM","ChevronLeftIcon","AppBar","Toolbar","MenuIcon","Brightness7Icon","Brightness4Icon","handleRefreshPage","CachedIcon","aria-controls","aria-haspopup","AccountCircle","handleOpenUserModal","cardAvatar","cardTitle","cardSubtitle","CardCounter","red","pointer","RatingBox","rating","ratingTrunc","trunc","Rating","defaultValue","readOnly","TableAttendantsStatus","attendants","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","k","minutes","avgSupportTime","startOf","ErrorIcon","useDashboard","getReport","useContacts","dateStart","dateEnd","setContacts","count","setCount","useMessages","ChartJS","CategoryScale","LinearScale","BarElement","Title","Legend","ChartDataLabels","responsive","plugins","legend","datalabels","anchor","offset","textStrokeColor","textStrokeWidth","font","weight","ChatsUser","initialDate","setInitialDate","finalDate","setFinalDate","ticketsData","setTicketsData","handleGetTicketsInformation","dataCharts","labels","nome","datasets","quantidade","Stack","direction","sx","my","LocalizationProvider","dateAdapter","AdapterDateFns","adapterLocale","brLocale","DatePicker","Bar","ChartsDate","hasOwnProperty","horario","total","fixedHeightPaper","alignRight","selectContainer","iframeDashboard","customFixedHeightPaper","customFixedHeightPaperLg","card0","card00","card1","card2","card3","card4","card5","card6","card7","card8","card9","fixedHeightPaper2","Dashboard","counters","setCounters","setAttendants","period","setPeriod","filterType","setFilterType","dateFrom","setDateFrom","dateTo","setDateTo","newDate","getDate","month","getMonth","getFullYear","showFilter","setShowFilter","queueTicket","setQueueTicket","days","isEmpty","date_from","date_to","keys","formatTime","firstLoad","Container","sm","md","handleChangeFilterType","FormHelperText","InputLabelProps","handleChangePeriod","elevation","paragraph","totalWhatsappSessions","MobileFriendlyIcon","totalCompanies","StoreIcon","supportHappening","CallIcon","supportPending","HourglassEmptyIcon","supportFinished","all","GetContacts","GroupAddIcon","AccessAlarmIcon","avgWaitTime","TimerIcon","TicketsSkeleton","ticketsListWrapper","ticketsListHeader","ticketsCount","unshift","TicketsListCustom","updateCount","filteredTickets","shouldUpdateTicket","_data$ticket","_data$ticket$queue","TicketsListSkeleton","TabPanel","TicketsQueueSelect","userQueues","TagsFilter","onFiltered","setTags","selecteds","setSelecteds","loadTags","v","renderTags","getTagProps","textShadow","UsersFilter","initialUsers","setUsers","loadUsers","userList","getOptionSelected","toLowerCase","getUserProps","ticketsWrapper","tabsHeader","tabsInternal","settingsIcon","snackbar","yesButton","textTransform","noButton","tab","internalTab","ticketOptionsBox","optionsBackground","ticketSearchLine","serachInputWrapper","searchIcon","searchInput","insiderTabPanel","insiderDoubleTabPanel","labelContainer","iconLabelWrapper","insiderTabLabel","smallFormControl","TicketsManagerTabs","isHoveredAll","setIsHoveredAll","isHoveredNew","setIsHoveredNew","isHoveredResolve","setIsHoveredResolve","isHoveredOpen","setIsHoveredOpen","isHoveredClosed","setIsHoveredClosed","setTab","tabOpen","setTabOpen","showAllTickets","setShowAllTickets","searchInputRef","snackbarOpen","setSnackbarOpen","openCount","setOpenCount","pendingCount","setPendingCount","selectedTags","setSelectedTags","selectedUsers","setSelectedUsers","searchTimeout","applyPanelStyle","handleSnackbarClose","Tabs","handleChangeTab","indicatorColor","textColor","Tab","MoveToInboxIcon","CheckBoxIcon","SearchIcon","inputRef","searchedTerm","Snackbar","ContentProps","tabsBadge","onMouseEnter","onMouseLeave","AddIcon","handleSnackbarOpen","PlaylistAddCheckOutlinedIcon","handleChangeTabOpen","TicketsList","val","ContactDrawerSkeleton","contactHeader","contactAvatar","contactDetails","contactExtraInfo","textCenter","ContactForm","onCancel","inline","ContactNotesDialogListItem","deleteItem","useTicketNotes","saveNote","deleteNote","listNotes","NoteSchema","ContactNotes","newNote","setNewNote","showOnDeleteDialog","setShowOnDeleteDialog","selectedNote","setSelectedNote","notes","setNotes","handleResetState","loadNotes","openAndFetchData","handleChangeComment","handleOpenDialogDelete","setErrors","rows","flexShrink","borderRight","contactdrawer","ContactDrawer","_contact$extraInfo","handleDrawerClose","openForm","setOpenForm","BackdropProps","ModalProps","CreateIcon","Link","timerBox","RecordingTimer","timer","setTimer","seconds","addZero","LinearProgressWithLabel","mr","LinearProgress","LinearWithValueLabel","useQuickMessages","deleteRecord","Mp3Recorder","MicRecorder","bitRate","bordabox","newMessageBox","newmessagebox","messageInputWrapper","inputdigita","messageInput","sendMessageIcons","ForwardMessageIcons","uploadInput","viewMediaInputWrapper","audioLoading","recorderWrapper","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","replyginMsgContainer","replyginMsgBody","replyginContactMsgSideColor","replyginSelfMsgSideColor","EmojiOptions","handleAddEmoji","MoodIcon","Picker","perLine","showPreview","showSkinTones","onSelect","SignSwitch","isWidthUp","FileInput","handleChangeMedias","disableOption","htmlFor","AttachFileIcon","ActionButtons","ticketStatus","handleCancelAudio","handleUploadAudio","handleStartRecording","handleOpenModalForward","SendIcon","HighlightOffIcon","CheckCircleOutlineIcon","MicIcon","CustomInput","handleInputPaste","handleQuickAnswersClick","setQuickMessages","popupOpen","setPopupOpen","listQuickMessages","truncatedMessage","firstWord","charAt","filteredOptions","setInputRef","closeIcon","isObject","opt","isNil","onInputChange","onPaste","shiftKey","withWidth","_medias$","percentLoading","setPercentLoading","medias","setMedias","setRecording","initialValue","storedValue","setStoredValue","valueToStore","Function","useLocalStorage","emoji","native","selectedMedias","from","clipboardData","blob","extension","formData","FormData","getTime","append","handleUploadQuickMessageMedia","mediaDevices","getUserMedia","audio","start","stop","getMp3","CancelIcon","idx","file","Compressor","quality","alert","onUploadProgress","loaded","catch","ClearIcon","renderReplyingMessage","TagsContainer","createTag","optionsChanged","newTag","syncTags","PaperComponent","InputComponent","other","OutlinedDiv","inputComponent","MessageVariablesPicker","msgVars","msgVar","onMouseDown","ScheduleSchema","ScheduleModal","scheduleId","cleanContact","setSchedule","currentContact","setCurrentContact","attachment","setAttachment","attachmentFile","messageInputRef","customList","prev","capitalize","head","handleAttachmentFile","scheduleData","handleSaveSchedule","setFieldValue","setValueFunc","firstHalfText","selectionStart","secondHalfText","selectionEnd","newCursorPos","setSelectionRange","handleClickMsgVar","DeleteOutline","click","TicketOptionsMenu","scheduleModalOpen","setScheduleModalOpen","setContactId","handleOpenConfirmationModal","keepMounted","handleOpenScheduleModal","handleCloseScheduleModal","actionButtons","TicketActionButtonsCustom","ticketOptionsMenuOpen","customTheme","createTheme","handleUpdateTicketStatus","Replay","UndoRoundedIcon","ThemeProvider","MoreVert","Ticket","TicketActionButtons","MessageInput","chatContainer","chatPapper","contactsWrapper","messagesWrapper","welcomeMsg","boxticket","TicketsCustom","TicketsManager","TicketAdvancedLayout","styled","gridTemplateRows","placeholderContainer","placeholderItem","TicketAdvanced","setOption","BottomNavigation","showLabels","BottomNavigationAction","QuestionAnswerIcon","Tickets","SignUp","allowregister","setallowregister","trial","settrial","fetchallowregister","fetchtrial","allowtrialX","allowregisterX","qs","phone","planId","setPlans","listPlans","CssBaseline","recurrence","campaignsEnabled","handleSignUp","autoComplete","InputMask","mask","field","maxLength","minimumFractionDigits","justify","mt","leftSide","rightSide","inputField","textDecoration","Login","viewregister","setviewregister","handleChangeInput","fetchviewregister","_responsev$data","responsev","viewregisterX","noValidate","FormatMask","setPhoneFormatMask","phoneToFormat","phoneNumberFormatted","removeMask","maskPhonePattern","phoneNumber","formatSerializedId","serializedId","formatMask","mainContainer","contentWrapper","MainContainer","contactsHeader","MainHeader","MainHeaderButtonsWrapper","customTableCell","TableRowSkeleton","columns","_","SessionSchema","memo","isDefault","provider","timeUseBotQueues","maxUseBotQueues","setWhatsApp","selectedQueueId","setSelectedQueueId","selectedPrompt","setSelectedPrompt","setPrompts","whatsQueueIds","transferQueueId","handleChangePrompt","whatsappData","handleSaveWhatsApp","selectedIds","timeToTransfer","selectedId","setQrCode","fontFamily","class","focusable","aria-hidden","QRCode","tooltip","typography","pxToRem","tooltipPopper","CustomToolTip","popper","Connections","whatsAppModalOpen","setWhatsAppModalOpen","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","confirmationModalInitialState","confirmModalInfo","setConfirmModalInfo","restartWhatsapps","handleOpenWhatsAppModal","handleCloseWhatsAppModal","useCallback","handleCloseQrModal","renderActionButtons","handleOpenQrModal","handleStartWhatsAppSession","handleRequestNewQrCode","QrcodeModal","WhatsAppModal","SignalCellularConnectedNoInternet0Bar","CropFree","SignalCellular4Bar","SignalCellularConnectedNoInternet2Bar","renderStatusToolTips","CheckCircle","handleEditWhatsApp","Edit","textfield","row","buttonContainer","SchedulesForm","labelSaveButton","setSchedules","weekday","weekdayEn","startTime","startPause","endPause","endTime","render","arrayHelpers","FastField","NumberFormat","customInput","_ref4","_ref5","_ref6","useCompanies","finding","updateSchedules","QueueSelectCustom","ModalUsers","tableContainer","textRight","CompanyForm","onDelete","modalUser","setModalUser","firstUser","setFirstUser","setRecord","handleCloseModalUsers","resetForm","handleSubmit","setValues","incrementDueDate","handleOpenModalUsers","CompaniesManagerGrid","rowStyle","renderPlan","renderCampaignsStatus","renderStatus","CompaniesManager","showConfirmDialog","setShowConfirmDialog","setRecords","loadPlans","companyList","handleCancel","handleOpenDeleteDialog","handleDelete","PlanManagerForm","useInternal","PlansManagerGrid","renderCampaigns","renderSchedules","renderInternalChat","renderExternalApi","renderKanban","renderOpenAi","renderIntegrations","renderInternal","PlansManager","planList","_data$value","HelpManagerForm","HelpsManagerGrid","video","HelpsManager","useHelps","loadHelps","helpList","useSettings","getAll","OnlyForSuperUser","fontecor","Options","scheduleTypeChanged","currentUser","setCurrentUser","findData","userRating","setUserRating","scheduleType","setScheduleType","callType","setCallType","chatbotType","setChatbotType","CheckMsgIsGroup","setCheckMsgIsGroupType","loadingUserRating","setLoadingUserRating","loadingScheduleType","setLoadingScheduleType","loadingCallType","setLoadingCallType","loadingChatbotType","setLoadingChatbotType","loadingCheckMsgIsGroup","setCheckMsgIsGroup","ipixcType","setIpIxcType","loadingIpIxcType","setLoadingIpIxcType","tokenixcType","setTokenIxcType","loadingTokenIxcType","setLoadingTokenIxcType","ipmkauthType","setIpMkauthType","loadingIpMkauthType","setLoadingIpMkauthType","clientidmkauthType","setClientIdMkauthType","loadingClientIdMkauthType","setLoadingClientIdMkauthType","clientsecretmkauthType","setClientSecrectMkauthType","loadingClientSecrectMkauthType","setLoadingClientSecrectMkauthType","asaasType","setAsaasType","loadingAsaasType","setLoadingAsaasType","loadingtrial","setLoadingtrial","loadingviewregister","setLoadingviewregister","loadingallowregister","setLoadingallowregister","SendGreetingAccepted","setSendGreetingAccepted","loadingSendGreetingAccepted","setLoadingSendGreetingAccepted","SettingsTransfTicket","setSettingsTransfTicket","loadingSettingsTransfTicket","setLoadingSettingsTransfTicket","sendGreetingMessageOneQueues","setSendGreetingMessageOneQueues","loadingSendGreetingMessageOneQueues","setLoadingSendGreetingMessageOneQueues","handleChangeUserRating","handleScheduleType","handleGroupType","handleCallType","handleChatbotType","handleSendGreetingAccepted","handleSettingsTransfTicket","handleSendGreetingMessageOneQueues","scrollButtons","handleallowregister","handleviewregister","handletrial","handleChangeIPIxc","handleChangeTokenIxc","handleChangeIpMkauth","handleChangeClientIdMkauth","handleChangeClientSecrectMkauth","handleChangeAsaas","fileInput","fileInputLabel","Uploader","setFile","uploaded","setUploaded","selectedOption","setSelectedOption","selectedFileName","setSelectedFileName","mensagem","selectedFile","SettingsCustom","setCompany","setSettings","schedulesEnabled","setSchedulesEnabled","getAllSettings","settingList","isSuper","handleTabChange","NewCompaniesManager","InputField","errorText","meta","useField","at","_renderHelperText","SelectField","selectedValue","isError","countries","AddressForm","billingName","setBillingName","addressZipCode","setAddressZipCode","addressStreet","setAddressStreet","addressState","setAddressState","addressCity","setAddressCity","addressDistrict","setAddressDistrict","formField","firstName","address1","city","zipcode","country","ul","listStyle","cardHeader","cardPricing","footer","divider","customCard","custom","Pricing","setActiveStep","activeStep","usersPlans","setUsersPlans","companiesPlans","setCompaniesPlans","connectionsPlans","setConnectionsPlans","storagePlans","setStoragePlans","customValuePlans","setCustomValuePlans","loadCompanies","companiesList","plansCompanies","price","buttonText","buttonVariant","tiers","tier","StarIcon","CardContent","line","CardActions","listItem","PaymentDetails","formValues","newPlan","ReviewOrder","useFormikContext","ShippingDetails","div","Total","SuccessContent","CheckoutSuccess","pix","pixString","copied","setCopied","valor","original","CopyToClipboard","onCopy","handleCopyQR","FaCheckCircle","FaCopy","formId","requiredErrorMsg","lastName","invalidErrorMsg","useAddressForPaymentDetails","invoiceId","nameOnCard","cardNumber","expiryDate","cvv","checkoutFormModel","nullable","stepper","wrapper","CheckoutPage","steps","datePayment","setDatePayment","setinvoiceId","Invoice","currentValidationSchema","isLastStep","_handleBack","Stepper","Step","StepLabel","formInitialValues","newValues","address2","_submitForm","setTouched","PaymentForm","_renderStepContent","invoices","newUsers","userIndex","Invoices","selectedContactId","setSelectedContactId","fetchInvoices","hoje","rowStatus","SubscriptionModal","detail","currency","handleOpenContactModal","UserStatusIcon","Users","deletingUser","setDeletingUser","handleDeleteUser","handleCloseUserModal","startAdornment","handleEditUser","newContacts","contactIndex","Contacts","deletingContact","setDeletingContact","confirmOpen","setConfirmOpen","fileUploadRef","handleDeleteContact","go","handleimportContact","CSVLink","separator","toString","getHours","getMinutes","getDateLastMessage","hadleEditContact","ColorPicker","currentColor","selectedColor","setSelectedColor","BlockPicker","triangle","colors","hex","onChangeComplete","addButton","QueueOptionStepper","updateOptions","activeOption","setActiveOption","handleOption","parentId","optionList","edition","handleEdition","renderTitle","handleOptionChangeTitle","SaveIcon","order","handleDeleteOption","renderMessage","handleOptionChangeMessage","renderStep","StepContent","optionNumber","handleAddOption","nonLinear","orientation","QueueOptions","fetchOptions","addOption","newOption","renderStepper","colorAdorment","QueueSchema","QueueModal","colorPickerModalOpen","setColorPickerModalOpen","setQueue","greetingRef","setIntegrations","queueEditable","setQueueEditable","queueIntegrations","handleSaveQueue","onFocus","Colorize","textField1","integration","newQueues","queueIndex","Queues","queueModalOpen","setQueueModalOpen","handleCloseConfirmationModal","handleDeleteQueue","handleCloseQueueModal","handleOpenQueueModal","handleEditQueue","TagSchema","TagModal","tagId","kanban","setKanban","handleKanbanChange","tagData","handleSaveTag","ColorBox","disableAlpha","hslGradient","newTags","tagIndex","Tags","selectedTag","setSelectedTag","deletingTag","setDeletingTag","tagModalOpen","setTagModalOpen","fetchTags","handleDeleteTag","handleCloseTagModal","handleOpenTagModal","handleEditTag","mainHeader","elementMargin","formContainer","MessagesAPI","formMessageTextData","formMessageMediaData","handleSendTextMessage","firstFile","handleSendMediaMessage","mainPaperContainer","gridTemplateColumns","gap","helpPaper","shadows","paperHover","videoThumbnail","videoTitle","videoDescription","videoModal","videoModalContent","aspectRatio","Helps","selectedVideo","setSelectedVideo","closeVideoModal","handleModalClose","addEventListener","removeEventListener","openVideoModal","frameBorder","allow","allowFullScreen","ContactListSchema","ContactListModal","contactListId","setContactList","fetchContactList","contactListData","handleSaveContactList","newContactLists","contactListIndex","ContactLists","selectedContactList","setSelectedContactList","deletingContactList","setDeletingContactList","contactListModalOpen","setContactListModalOpen","fetchContactLists","handleDeleteContactList","ContactListDialog","handleCloseContactListModal","handleOpenContactListModal","contactsCount","planilhaExemplo","download","DownloadIcon","goToContacts","handleEditContactList","ContactListItemModal","useContactLists","findById","ContactListItems","contactListItemModalOpen","setContactListItemModalOpen","findContactList","handleCloseContactListItemModal","handleImportContacts","goToContactLists","handleOpenContactListItemModal","isWhatsappValid","titleAccess","htmlColor","BlockIcon","path","require","QuickeMessageSchema","QuickMessageDialog","quickemessageId","quickemessage","setQuickemessage","quickemessageData","isMedia","basename","handleSaveQuickeMessage","quickmessages","newQuickmessages","quickemessageIndex","Quickemessages","selectedQuickemessage","setSelectedQuickemessage","deletingQuickemessage","setDeletingQuickemessage","quickemessageModalOpen","setQuickMessageDialogOpen","quickemessages","fetchQuickemessages","handleDeleteQuickemessage","resetPagination","handleCloseQuickMessageDialog","handleOpenQuickMessageDialog","_quickemessage$mediaN","handleEditQuickemessage","Kanban","reloadData","setReloadData","isInitialLoadComplete","setIsInitialLoadComplete","fetchedTags","lista","jsonString","lanes","UserQueue","teste","handleCardClick","cards","popularCards","Board","onCardMoveAcrossLanes","cardId","sourceLaneId","targetLaneId","Route","Component","isPrivate","Redirect","RouterRoute","eventTitleStyle","textOverflow","localizer","momentLocalizer","defaultMessages","time","allDay","week","work_week","day","previous","next","yesterday","tomorrow","today","agenda","noEventsInRange","showMore","scheduleIndex","Schedules","selectedSchedule","setSelectedSchedule","deletingSchedule","setDeletingSchedule","paramName","URLSearchParams","fetchSchedules","handleOpenScheduleModalFromContactId","handleDeleteSchedule","Calendar","formats","agendaDateFormat","weekdayFormat","events","handleEditSchedule","end","startAccessor","endAccessor","tabmsg","campaigntab","CampaignSchema","CampaignModal","campaignId","tagListId","campaign","setCampaign","setContactLists","messageTab","setMessageTab","campaignEditable","setCampaignEditable","tagLists","setTagLists","formattedTagLists","prevCampaignData","entries","moreThenAnHour","Number","isNaN","isEditable","renderMessageField","renderConfirmationMessageField","dataValues","_ref7","handleSaveCampaign","_ref8","fileListId","f","centered","restartCampaign","cancelCampaign","newCampaigns","campaignIndex","Campaigns","selectedCampaign","setSelectedCampaign","deletingCampaign","setDeletingCampaign","campaignModalOpen","setCampaignModalOpen","fetchCampaigns","handleDeleteCampaign","handleCloseCampaignModal","handleOpenCampaignModal","formatStatus","PauseCircleOutlineIcon","PlayCircleOutlineIcon","DescriptionIcon","handleEditCampaign","tabPanelsContainer","initialSettings","messageInterval","longerIntervalAfter","greaterInterval","variables","CampaignsConfig","showVariablesForm","setShowVariablesForm","selectedKey","setSelectedKey","variable","setVariable","settingsList","fromEntries","handleOnChangeVariable","changedProp","handleOnChangeSettings","removeVariable","newList","addVariable","variablesExists","CampaignReport","validContacts","setValidContacts","delivered","setDelivered","confirmationRequested","setConfirmationRequested","confirmed","setConfirmed","percent","setPercent","mounted","findCampaign","valids","isNull","deliveredAt","confirmationRequestedAt","GroupIcon","DoneIcon","DoneAllIcon","ListAltIcon","ScheduleIcon","EventAvailableIcon","AnnouncementSchema","AnnouncementModal","announcementData","handleSaveAnnouncement","Announcements","selectedAnnouncement","setSelectedAnnouncement","deletingAnnouncement","setDeletingAnnouncement","announcementModalOpen","setAnnouncementModalOpen","handleDeleteAnnouncement","handleCloseAnnouncementModal","handleOpenAnnouncementModal","_announcement$mediaNa","handleEditAnnouncement","boxlist","chatList","ChatList","handleSelectChat","handleDeleteChat","handleEditChat","pageInfo","selectedChat","setSelectedChat","getPrimaryText","mainText","getSecondaryText","getItemStyle","ownerId","messageList","chatlist","inputArea","buttonSend","boxLeft","boxRight","ChatMessages","handleLoadMore","scrollToBottomRef","baseRef","contentMessage","setContentMessage","sender","Input","onKeyUp","gridItem","gridItemTab","btnContainer","ChatModal","handleLoadNewChat","setTitle","showDialog","setShowDialog","dialogType","setDialogType","currentChat","setCurrentChat","setChats","chatsPageInfo","setChatsPageInfo","setMessages","messagesPageInfo","setMessagesPageInfo","messagesPage","setMessagesPage","findChats","selectChat","findMessages","changedChats","filteredChats","sendMessage","deleteChat","loadMoreMessages","_formatDate","past","ceil","trialExpiration","FileListSchema","FilesModal","setFiles","selectedFileNames","setSelectedFileNames","setFileList","uploadFiles","filesOptions","fileOption","fileData","handleSaveFileList","minRows","updatedOptions","updatedFileNames","newFiles","fileListIndex","FileLists","selectedFileList","setSelectedFileList","deletingFileList","setDeletingFileList","fileListModalOpen","setFileListModalOpen","fetchFileLists","fileId","handleDeleteFileList","FileModal","handleCloseFileListModal","handleOpenFileListModal","handleEditFileList","QueueSelectSingle","PromptModal","selectedVoice","setSelectedVoice","showApiKey","setShowApiKey","handleToggleApiKey","maxTokens","apiKey","maxMessages","setPrompt","fetchPrompt","handleChangeVoice","promptData","handleSavePrompt","redBox","newPrompts","promptIndex","Prompts","promptModalOpen","setPromptModalOpen","handleDeletePrompt","handleClosePromptModal","handleOpenPromptModal","handleEditPrompt","btnLeft","DialogflowSchema","QueueIntegration","setIntegration","handleSaveDialogflow","xl","helpertext","handleTestSession","newIntegrations","integrationIndex","selectedIntegration","setSelectedIntegration","fetchIntegrations","handleDeleteIntegration","IntegrationModal","handleCloseIntegrationModal","dialogflow","n8n","webhooks","typebot","handleEditIntegration","powered","passwordRegex","ForgetPassword","showAdditionalFields","setShowAdditionalFields","showResetPasswordButton","setShowResetPasswordButton","showConfirmPassword","setShowConfirmPassword","setError","togglePasswordVisibility","toggleConfirmPasswordVisibility","isResetPasswordButtonClicked","newPassword","confirmPassword","when","is","oneOf","otherwise","handleResetPassword","handleSendEmail","VisibilityOffIcon","Routes","BrowserRouter","exact","Signup","TicketResponsiveContainer","QuickMessages","Files","Financeiro","Annoucements","Subscription","Chat","ToastContainer","queryClient","QueryClient","App","setLocale","prefersDarkMode","preferredTheme","setMode","prevMode","textPrimary","borderPrimary","light","announcementspopover","boxchatlist","messageIcons","inputBackground","mediainput","i18nlocale","ptBR","QueryClientProvider","client","ReactDOM","finishProgress","serviceWorker","registration","module","exports"],"mappings":"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7K,WAAY,GACZ8K,YAAa,OAiBAC,OAbW/P,IAAqC,IAApC,QAAEX,EAAO,SAAEY,KAAa+P,GAAMhQ,EACxD,MAAMqF,EAAUpB,KAEhB,OACClhB,IAAAmd,cAACgG,KAAM+C,OAAAC,OAAA,CAACrD,UAAWR,EAAQ8D,OAAQ7f,SAAU+V,GAAa2Q,GACxD/P,EACAZ,GACAtc,IAAAmd,cAAC+P,KAAgB,CAACC,KAAM,GAAIrK,UAAWR,EAAQqK,mB,UCxBnD,MAAMS,GAAW,CAChB,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,SAGKC,GAAkB,CAAC,IAAK,IAAK,SAAU,KAAM,IAAK,OAAQ,OAE1DC,GAAarQ,IAAA,IAAC,SAAEC,KAAauI,GAAOxI,EAAA,OACzCjd,IAAAmd,cAAA,IAAA+I,OAAAC,OAAA,GAAOV,EAAK,CAAExC,OAAO,SAASsK,IAAI,wBAChCrQ,IAgFYsQ,OA5ESC,IAA4B,IAA3B,SAAEvQ,EAAQ,QAAEnT,GAAS0jB,EACzC3iB,EAA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","file":"static/js/main.aa14298a.chunk.js","sourcesContent":["import React from \"react\";\n\nconst ColorModeContext = React.createContext({ toggleColorMode: () => {} });\n\nexport default ColorModeContext;","import { createContext } from \"react\";\nimport openSocket from \"socket.io-client\";\nimport { isExpired, decodeToken } from \"react-jwt\";\n\nclass ManagedSocket {\n  constructor(socketManager) {\n    this.socketManager = socketManager;\n    this.rawSocket = socketManager.currentSocket;\n    this.callbacks = [];\n    this.joins = [];\n\n    this.rawSocket.on(\"connect\", () => {\n      if (this.rawSocket.io.opts.query?.r && !this.rawSocket.recovered) {\n        const refreshJoinsOnReady = () => {\n          for (const j of this.joins) {\n            console.debug(\"refreshing join\", j);\n            this.rawSocket.emit(`join${j.event}`, ...j.params);\n          }\n          this.rawSocket.off(\"ready\", refreshJoinsOnReady);\n        };\n        for (const j of this.callbacks) {\n          this.rawSocket.off(j.event, j.callback);\n          this.rawSocket.on(j.event, j.callback);\n        }\n        \n        this.rawSocket.on(\"ready\", refreshJoinsOnReady);\n      }\n    });\n  }\n  \n  on(event, callback) {\n    if (event === \"ready\" || event === \"connect\") {\n      return this.socketManager.onReady(callback);\n    }\n    this.callbacks.push({event, callback});\n    return this.rawSocket.on(event, callback);\n  }\n  \n  off(event, callback) {\n    const i = this.callbacks.findIndex((c) => c.event === event && c.callback === callback);\n    this.callbacks.splice(i, 1);\n    return this.rawSocket.off(event, callback);\n  }\n  \n  emit(event, ...params) {\n    if (event.startsWith(\"join\")) {\n      this.joins.push({ event: event.substring(4), params });\n      console.log(\"Joining\", { event: event.substring(4), params});\n    }\n    return this.rawSocket.emit(event, ...params);\n  }\n  \n  disconnect() {\n    for (const j of this.joins) {\n      this.rawSocket.emit(`leave${j.event}`, ...j.params);\n    }\n    this.joins = [];\n    for (const c of this.callbacks) {\n      this.rawSocket.off(c.event, c.callback);\n    }\n    this.callbacks = [];\n  }\n}\n\nclass DummySocket {\n  on(..._) {}\n  off(..._) {}\n  emit(..._) {}\n  disconnect() {}\n}\n\nconst SocketManager = {\n  currentCompanyId: -1,\n  currentUserId: -1,\n  currentSocket: null,\n  socketReady: false,\n\n  getSocket: function(companyId) {\n    let userId = null;\n    if (localStorage.getItem(\"userId\")) {\n      userId = localStorage.getItem(\"userId\");\n    }\n\n    if (!companyId && !this.currentSocket) {\n      return new DummySocket();\n    }\n\n    if (companyId && typeof companyId !== \"string\") {\n      companyId = `${companyId}`;\n    }\n\n    if (companyId !== this.currentCompanyId || userId !== this.currentUserId) {\n      if (this.currentSocket) {\n        console.warn(\"closing old socket - company or user changed\");\n        this.currentSocket.removeAllListeners();\n        this.currentSocket.disconnect();\n        this.currentSocket = null;\n        this.currentCompanyId = null;\n\t\t    this.currentUserId = null;\n      }\n\n      let token = JSON.parse(localStorage.getItem(\"token\"));\n      if (!token) {\n        return new DummySocket();\n      }\n      \n      if ( isExpired(token) ) {\n        console.warn(\"Expired token, reload after refresh\");\n        setTimeout(() => {\n          window.location.reload();\n        },1000);\n        return new DummySocket();\n      }\n\n      this.currentCompanyId = companyId;\n      this.currentUserId = userId;\n      \n      this.currentSocket = openSocket(process.env.REACT_APP_BACKEND_URL, {\n        transports: [\"websocket\"],\n        pingTimeout: 18000,\n        pingInterval: 18000,\n        query: { token },\n      });\n\n      this.currentSocket.io.on(\"reconnect_attempt\", () => {\n        this.currentSocket.io.opts.query.r = 1;\n        token = JSON.parse(localStorage.getItem(\"token\"));\n        if ( isExpired(token) ) {\n          console.warn(\"Refreshing\");\n          window.location.reload();\n        } else {\n          console.warn(\"Using new token\");\n          this.currentSocket.io.opts.query.token = token;\n        }\n      });\n      \n      this.currentSocket.on(\"disconnect\", (reason) => {\n        console.warn(`socket disconnected because: ${reason}`);\n        if (reason.startsWith(\"io server disconnect\")) {\n          console.warn(\"tryng to reconnect\", this.currentSocket);\n          token = JSON.parse(localStorage.getItem(\"token\"));\n          \n          if ( isExpired(token) ) {\n            console.warn(\"Expired token - refreshing\");\n            window.location.reload();\n            return;\n          }\n          console.warn(\"Reconnecting using refreshed token\");\n          this.currentSocket.io.opts.query.token = token;\n          this.currentSocket.io.opts.query.r = 1;\n          this.currentSocket.connect();\n        }        \n      });\n      \n      this.currentSocket.on(\"connect\", (...params) => {\n        console.warn(\"socket connected\", params);\n      })\n      \n      this.currentSocket.onAny((event, ...args) => {\n        console.debug(\"Event: \", { socket: this.currentSocket, event, args });\n      });\n      \n      this.onReady(() => {\n        this.socketReady = true;\n      });\n\n    }\n    \n    return new ManagedSocket(this);\n  },\n  \n  onReady: function( callbackReady ) {\n    if (this.socketReady) {\n      callbackReady();\n      return\n    }\n    \n    this.currentSocket.once(\"ready\", () => {\n      callbackReady();\n    });\n  },\n  \n  onConnect: function( callbackReady ) { this.onReady( callbackReady ) },\n\n};\n\nconst SocketContext = createContext()\n\nexport { SocketContext, SocketManager };\n","const messages = {\n  pt: {\n    translations: {\n      signup: {\n        title: \"Cadastre-se\",\n        toasts: {\n          success: \"Usuário criado com sucesso! Faça seu login!!!.\",\n          fail: \"Erro ao criar usuário. Verifique os dados informados.\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Cadastrar\",\n          login: \"Já tem uma conta? Entre!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Entrar\",\n          register: \"Registre-se, agora mesmo!\",\n        },\n      },\n      plans: {\n        form: {\n          name: \"Nome\",\n          users: \"Usuários\",\n          connections: \"Conexões\",\n          campaigns: \"Campanhas\",\n          schedules: \"Agendamentos\",\n          enabled: \"Habilitadas\",\n          disabled: \"Desabilitadas\",\n          clear: \"Cancelar\",\n          delete: \"Excluir\",\n          save: \"Salvar\",\n          yes: \"Sim\",\n          no: \"Não\",\n          money: \"R$\",\n        },\n      },\n      companies: {\n        title: \"Cadastrar Empresa\",\n        form: {\n          name: \"Nome da Empresa\",\n          plan: \"Plano\",\n          token: \"Token\",\n          submit: \"Cadastrar\",\n          success: \"Empresa criada com sucesso!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login efetuado com sucesso!\",\n        },\n        token: \"Token\",\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Atendimentos hoje: \",\n          },\n        },\n      },\n      connections: {\n        title: \"Conexões\",\n        toasts: {\n          deleted: \"Conexão com o WhatsApp excluída com sucesso!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage:\n            \"Tem certeza? Você precisará ler o QR Code novamente.\",\n        },\n        buttons: {\n          add: \"Adicionar WhatsApp\",\n          disconnect: \"desconectar\",\n          tryAgain: \"Tentar novamente\",\n          qrcode: \"QR CODE\",\n          newQr: \"Novo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Falha ao iniciar sessão do WhatsApp\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado à internet e tente novamente, ou solicite um novo QR Code\",\n          },\n          qrcode: {\n            title: \"Esperando leitura do QR Code\",\n            content:\n              \"Clique no botão 'QR CODE' e leia o QR Code com o seu celular para iniciar a sessão\",\n          },\n          connected: {\n            title: \"Conexão estabelecida!\",\n          },\n          timeout: {\n            title: \"A conexão com o celular foi perdida\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado à internet e o WhatsApp esteja aberto, ou clique no botão 'Desconectar' para obter um novo QR Code\",\n          },\n        },\n        table: {\n          name: \"Nome\",\n\t\t  number: \"Número\",\n          status: \"Status\",\n          lastUpdate: \"Última atualização\",\n          default: \"Padrão\",\n          actions: \"Ações\",\n          session: \"Sessão\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Adicionar WhatsApp\",\n          edit: \"Editar WhatsApp\",\n        },\t\t\n\t\t tabs: {\n          general: \"Geral\",\n          messages: \"Mensagens\",\n          assessments: \"Avaliações\",\n          integrations: \"Integrações\",\n          schedules: \"Horário de expediente\",\n\t\t },\n        form: {\n          name: \"Nome\",\n          default: \"Padrão\",\n          sendIdQueue: \"Fila\",\n          timeSendQueue: \"Redirecionar para fila em X minutos\",\n          queueRedirection: \"Redirecionamento de Fila\",\n\t\t  outOfHoursMessage: \"Mensagem de fora de expediente\",\n          queueRedirectionDesc: \"Selecione uma fila para os contatos que não possuem fila serem redirecionados\",\n          prompt: \"Prompt\",\n          //maxUseBotQueues: \"Enviar bot x vezes\",\n          //timeUseBotQueues: \"Intervalo em minutos entre envio de bot\",\n          expiresTicket: \"Encerrar chats abertos após x minutos\",\n          expiresInactiveMessage: \"Mensagem de encerramento por inatividade\",\n\t\t  greetingMessage: \"Mensagem de saudação\",\n          complationMessage: \"Mensagem de conclusão\",\n\t\t  sendIdQueue: \"Fila\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp salvo com sucesso.\",\n      },\n      qrCode: {\n        message: \"Leia o QrCode para iniciar a sessão\",\n      },\n      contacts: {\n        title: \"Contatos\",\n        toasts: {\n          deleted: \"Contato excluído com sucesso!\",\n\t\t  deletedAll: \"Todos contatos excluídos com sucesso!\",\n        },\n\t\t  searchPlaceholder: \"Pesquisar...\",\n          confirmationModal: {\n          deleteTitle: \"Deletar \",\n          deleteAllTitle: \"Deletar Todos\",\n          importTitle: \"Importar contatos\",\n          deleteMessage: \"Tem certeza que deseja deletar este contato? Todos os tickets relacionados serão perdidos.\",\n          deleteAllMessage: \"Tem certeza que deseja deletar todos os contatos? Todos os tickets relacionados serão perdidos.\",\n          importMessage: \"Deseja importar todos os contatos do telefone?\",\n        },\n\t\tconfirmationModal:{\n\t\t\timportTitlte: \"Importar contatos\",\n\t\t\timportMessage: \"Esta ação irá importar os contatos salvos na agenda do WhatsApp. Alguns modelos podem não permitir essa funcionalidade ou de acordo com sua configuração de privacidade! Verifique em até 1 hora o resultado.\",\n\t\t\tdeleteTitle:\"Deletar\",\n\t\t\tdeleteMessage:\"Tem certeza que deseja deletar este contato? Todos os atendimentos relacionados serão perdidos.\",\n\t\t},\n        buttons: {\n          import: \"Importar Contatos\",\n\t\t  importSheet: \"Import. Excel\",\n          add: \"Adicionar Contato\",\n          export: \"Exportar Contatos\",\n          delete: \"Excluir Todos Contatos\"\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Ações\",\n        },\n      },\n      queueIntegrationModal: {\n        title: {\n          add: \"Adicionar projeto\",\n          edit: \"Editar projeto\",\n        },\n        form: {\n          id: \"ID\",\n          type: \"Tipo\",\n          name: \"Nome\",\n          projectName: \"Nome do Projeto\",\n          language: \"Linguagem\",\n          jsonContent: \"JsonContent\",\n          urlN8N: \"URL\",\n          typebotSlug: \"Typebot - Slug\",\n          typebotExpires: \"Tempo em minutos para expirar uma conversa\",\n          typebotKeywordFinish: \"Palavra para finalizar o ticket\",\n          typebotKeywordRestart: \"Palavra para reiniciar o fluxo\",\n          typebotRestartMessage: \"Mensagem ao reiniciar a conversa\",\n          typebotUnknownMessage: \"Mensagem de opção inválida\",\n          typebotDelayMessage: \"Intervalo (ms) entre mensagens\",   \n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n          test: \"Testar Bot\",\n        },\n        messages: {\n          testSuccess: \"Integração testada com sucesso!\",\n          addSuccess: \"Integração adicionada com sucesso.\",\n          editSuccess: \"Integração editada com sucesso.\",\n        },\n      },\n\t  sideMenu: {\n            name: \"Menu Lateral Inicial\",\n            note: \"Se habilitado, o menu lateral irá iniciar fechado\",\n            options: {\n              enabled: \"Aberto\",\n              disabled: \"Fechado\",\n            },\n          },\n      promptModal: {\n        form: {\n          name: \"Nome\",\n          prompt: \"Prompt\",\n          voice: \"Voz\",\n          max_tokens: \"Máximo de Tokens na resposta\",\n          temperature: \"Temperatura\",\n          apikey: \"API Key\",\n          max_messages: \"Máximo de mensagens no Histórico\",\n          voiceKey: \"Chave da API de Voz\",\n          voiceRegion: \"Região de Voz\",\n        },\n        success: \"Prompt salvo com sucesso!\",\n        title: {\n          add: \"Adicionar Prompt\",\n          edit: \"Editar Prompt\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      prompts: {\n        title: \"Prompts\",\n        table: {\n          name: \"Nome\",\n          queue: \"Setor/Fila\",\n          max_tokens: \"Máximo Tokens Resposta\",\n          actions: \"Ações\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida!\",\n        },\n        buttons: {\n          add: \"Adicionar Prompt\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Adicionar contato\",\n          edit: \"Editar contato\",\n        },\n        form: {\n          mainInfo: \"Dados do contato\",\n          extraInfo: \"Informações adicionais\",\n          name: \"Nome\",\n          number: \"Número do Whatsapp\",\n          email: \"Email\",\n          extraName: \"Nome do campo\",\n          extraValue: \"Valor\",\n          whatsapp: \"Conexão Origem: \"\n        },\n        buttons: {\n          addExtraInfo: \"Adicionar informação\",\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contato salvo com sucesso.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Adicionar fila\",\n          edit: \"Editar fila\",\n        },\n\t\tconfirmationModal: {\n\t\t  \"deleteTitle\": \"Excluir\",\n\t\t},\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greetingMessage: \"Mensagem de saudação\",\n          complationMessage: \"Mensagem de conclusão\",\n          outOfHoursMessage: \"Mensagem de fora de expediente\",\n          ratingMessage: \"Mensagem de avaliação\",\n          token: \"Token\",\n          orderQueue: \"Ordem da fila (Bot)\",\n          integrationId: \"Integração\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n\t\t  attach: \"Anexar Arquivo\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Adicionar usuário\",\n          edit: \"Editar usuário\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexão Padrão\",\n\n          allTicket: \"Ticket Sem Fila [Invisível]\",\n          allTicketEnabled: \"Habilitado\",\n          allTicketDesabled: \"Desabilitado\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usuário salvo com sucesso.\",\n      },\n      scheduleModal: {\n        title: {\n          add: \"Novo Agendamento\",\n          edit: \"Editar Agendamento\",\n        },\n        form: {\n          body: \"Mensagem\",\n          contact: \"Contato\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Agendamento salvo com sucesso.\",\n      },\n      tagModal: {\n        title: {\n          add: \"Nova Tag\",\n          edit: \"Editar Tag\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Tag salvo com sucesso.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecione um ticket para começar a conversar.\",\n      },\n      uploads: {\n        titles: {\n          titleUploadMsgDragDrop: \"ARRASTE E SOLTE ARQUIVOS NO CAMPO ABAIXO\",\n          titleFileList: \"Lista de arquivo(s)\"\n        },\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Novo\",\n          closeallTicket: \"Fechar\"\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Filas\",\n      },\n      tickets: {\n        inbox: {\n          closedAllTickets: \"Fechar todos os tickets?\",\n          closedAll: \"Fechar Todos\",\n          newTicket: \"Novo Ticket\",\n          yes: \"SIM\",\n          no: \"NÃO\",\n          open: \"Abertos\",\n          resolverd: \"Resolvidos\",\n        },\n        toasts: {\n          deleted: \"O atendimento que você estava foi deletado.\",\n        },\n        notification: {\n          message: \"Mensagem de\",\n        },\n        tabs: {\n          open: { title: \"Abertas\" },\n          closed: { title: \"Resolvidos\" },\n          search: { title: \"Busca\" },\n        },\n        search: {\n          placeholder: \"Buscar atendimento e mensagens\",\n          filterConnections: \"Filtro por conexões\",\n          filterContacts: \"Filtro por contato\",\n          filterConections: \"Filtro por Conexão\",\n          filterConectionsOptions: {\n            open: \"Aberto\",\n            closed: \"Fechado\",\n            pending: \"Pendente\",\n          },\n          filterUsers: \"Filtro por Usuarios\",\n          ticketsPerPage: \"Tickets por página\"\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Digite para buscar usuários\",\n        fieldQueueLabel: \"Transferir para fila\",\n        fieldQueuePlaceholder: \"Selecione uma fila\",\n        noOptions: \"Nenhum usuário encontrado com esse nome\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Aguardando\",\n        assignedHeader: \"Atendendo\",\n        noTicketsTitle: \"Nada aqui!\",\n        noTicketsMessage:\n          \"Nenhum atendimento encontrado com esse status ou termo pesquisado\",\n        buttons: {\n          accept: \"Aceitar\",\n          closed: \"Finalizar\",\n\t\t  transfer: \"Transferir\",\n          reopen: \"Reabrir\"\n        },\n      },\n      newTicketModal: {\n        title: \"Criar Ticket\",\n        fieldLabel: \"Digite para pesquisar o contato\",\n        add: \"Adicionar\",\n        buttons: {\n          ok: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexões\",\n          tickets: \"Atendimentos\",\n          quickMessages: \"Respostas Rápidas\",\n          contacts: \"Contatos\",\n          queues: \"Filas & Chatbot\",\n          tags: \"Tags\",\n          administration: \"Administração\",\n          users: \"Usuários\",\n          settings: \"Configurações\",\n          helps: \"Ajuda\",\n          messagesAPI: \"API\",\n          schedules: \"Agendamentos\",\n          campaigns: \"Campanhas\",\n          annoucements: \"Informativos\",\n          chats: \"Chat Interno\",\n          financeiro: \"Financeiro\",\n          files: \"Lista de arquivos\",\n          prompts: \"Open.Ai\",\n\t\t  reports: \"Relatórios\",\n          queueIntegration: \"Integrações\",\n        },\n        appBar: {\n          notRegister:\"Sem notificações\",\n          user: {\n            profile: \"Perfil\",\n            logout: \"Sair\",\n          },\n        },\n      },\n      queueIntegration: {\n        title: \"Integrações\",\n        table: {\n          id: \"ID\",\n          type: \"Tipo\",\n          name: \"Nome\",\n          projectName: \"Nome do Projeto\",\n          language: \"Linguagem\",\n          lastUpdate: \"Ultima atualização\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar Projeto\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Você tem certeza? Essa ação não pode ser revertida! e será removida das filas e conexões vinculadas\",\n        },\n      },\n\treports: {\n        title: \"Relatórios de Atendimentos\",\n        table: {\n          id: \"Ticket\",\n          user: \"Usuário\",\n          dateOpen: \"Data Abertura\",\n          dateClose: \"Data Fechamento\",\n          NPS: \"NPS\",\n          status: \"Status\",\n          whatsapp: \"Conexão\",\n          queue: \"Fila\",\n          actions: \"Ações\",\n          lastMessage: \"Últ. Mensagem\",\n          contact: \"Cliente\",\n          supportTime: \"Tempo de Atendimento\"\n        },\n        buttons: {\n          filter: \"Aplicar Filtro\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n      },\t  \n      files: {\n        title: \"Lista de arquivos\",\n        table: {\n          name: \"Nome\",\n          contacts: \"Contatos\",\n          actions: \"Ação\",\n        },\n        toasts: {\n          deleted: \"Lista excluída com sucesso!\",\n          deletedAll: \"Todas as listas foram excluídas com sucesso!\",\n        },\n        buttons: {\n          add: \"Adicionar\",\n          deleteAll: \"Deletar Todos\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteAllTitle: \"Deletar Todos\",\n          deleteMessage: \"Tem certeza que deseja deletar esta lista?\",\n          deleteAllMessage: \"Tem certeza que deseja deletar todas as listas?\",\n        },\n      },\n      messagesAPI: {\n        title: \"API\",\n        textMessage: {\n          number: \"Número\",\n          body: \"Mensagem\",\n          token: \"Token cadastrado\",\n        },\n        mediaMessage: {\n          number: \"Número\",\n          body: \"Nome do arquivo\",\n          media: \"Arquivo\",\n          token: \"Token cadastrado\",\n        },\n      },\n      notifications: {\n        noTickets: \"Nenhuma notificação.\",\n      },\n      quickMessages: {\n        title: \"Respostas Rápidas\",\n        searchPlaceholder: \"Pesquisar...\",\n        noAttachment: \"Sem anexo\",\n        confirmationModal: {\n          deleteTitle: \"Exclusão\",\n          deleteMessage: \"Esta ação é irreversível! Deseja prosseguir?\",\n        },\n        buttons: {\n          add: \"Adicionar\",\n          attach: \"Anexar Arquivo\",\n          cancel: \"Cancelar\",\n          edit: \"Editar\",\n        },\n        toasts: {\n          success: \"Atalho adicionado com sucesso!\",\n          deleted: \"Atalho removido com sucesso!\",\n        },\n        dialog: {\n          title: \"Mensagem Rápida\",\n          shortcode: \"Atalho\",\n          message: \"Resposta\",\n          save: \"Salvar\",\n          cancel: \"Cancelar\",\n          geral: \"Permitir editar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          visao: \"Permitir visão\",\n\t\t  geral: 'Global',\n        },\n        table: {\n          shortcode: \"Atalho\",\n          message: \"Mensagem\",\n          actions: \"Ações\",\n          mediaName: \"Nome do Arquivo\",\n          status: 'Global',\n        },\n      },\n      messageVariablesPicker: {\n        label: \"Variavéis disponíveis\",\n        vars: {\n          contactFirstName: \"Primeiro Nome\",\n          contactName: \"Nome\",\n          greeting: \"Saudação\",\n          protocolNumber: \"Protocolo\",\n          date: \"Data\",\n          hour: \"Hora\",\n        },\n      },\n      contactLists: {\n        title: \"Listas de Contatos\",\n        table: {\n          name: \"Nome\",\n          contacts: \"Contatos\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Nova Lista\",\n        },\n        dialog: {\n          name: \"Nome\",\n          company: \"Empresa\",\n          okEdit: \"Editar\",\n          okAdd: \"Adicionar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        toasts: {\n          deleted: \"Registro excluído\",\n        },\n      },\n      contactListItems: {\n        title: \"Contatos\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Novo\",\n          lists: \"Listas\",\n          import: \"Importar\",\n        },\n        dialog: {\n          name: \"Nome\",\n          number: \"Número\",\n          whatsapp: \"Whatsapp\",\n          email: \"E-mail\",\n          okEdit: \"Editar\",\n          okAdd: \"Adicionar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        table: {\n          name: \"Nome\",\n          number: \"Número\",\n          whatsapp: \"Whatsapp\",\n          email: \"E-mail\",\n          actions: \"Ações\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n          importMessage: \"Deseja importar os contatos desta planilha? \",\n          importTitlte: \"Importar\",\n        },\n        toasts: {\n          deleted: \"Registro excluído\",\n        },\n      },\n      campaigns: {\n        title: \"Campanhas\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Nova Campanha\",\n          contactLists: \"Listas de Contatos\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"Conexão\",\n          contactList: \"Lista de Contatos\",\n          status: \"Status\",\n          scheduledAt: \"Agendamento\",\n          completedAt: \"Concluída\",\n          confirmation: \"Confirmação\",\n          actions: \"Ações\",\n        },\n        dialog: {\n          new: \"Nova Campanha\",\n          update: \"Editar Campanha\",\n          readonly: \"Apenas Visualização\",\n          form: {\n            name: \"Nome\",\n            message1: \"Mensagem 1\",\n            message2: \"Mensagem 2\",\n            message3: \"Mensagem 3\",\n            message4: \"Mensagem 4\",\n            message5: \"Mensagem 5\",\n            confirmationMessage1: \"Mensagem de Confirmação 1\",\n            confirmationMessage2: \"Mensagem de Confirmação 2\",\n            confirmationMessage3: \"Mensagem de Confirmação 3\",\n            confirmationMessage4: \"Mensagem de Confirmação 4\",\n            confirmationMessage5: \"Mensagem de Confirmação 5\",\n            messagePlaceholder: \"Conteúdo da mensagem\",\n            whatsapp: \"Conexão\",\n            status: \"Status\",\n            scheduledAt: \"Agendamento\",\n            confirmation: \"Confirmação\",\n            contactList: \"Lista de Contato\",\n            tagList: \"Lista de Tags\",\n            fileList: \"Lista de Arquivos\"\n          },\n          buttons: {\n            add: \"Adicionar\",\n            edit: \"Atualizar\",\n            okadd: \"Ok\",\n            cancel: \"Cancelar Disparos\",\n            restart: \"Reiniciar Disparos\",\n            close: \"Fechar\",\n            attach: \"Anexar Arquivo\",\n          },\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        toasts: {\n          success: \"Operação realizada com sucesso\",\n          cancel: \"Campanha cancelada\",\n          restart: \"Campanha reiniciada\",\n          deleted: \"Registro excluído\",\n        },\n      },\n      announcements: {\n        active: 'Ativo',\n        inactive: 'Inativo',\n        title: \"Informativos\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Novo Informativo\",\n          contactLists: \"Listas de Informativos\",\n        },\n        table: {\n          priority: \"Prioridade\",\n          title: \"Title\",\n          text: \"Texto\",\n          mediaName: \"Arquivo\",\n          status: \"Status\",\n          actions: \"Ações\",\n        },\n        dialog: {\n          edit: \"Edição de Informativo\",\n          add: \"Novo Informativo\",\n          update: \"Editar Informativo\",\n          readonly: \"Apenas Visualização\",\n          form: {\n            priority: \"Prioridade\",\n            title: \"Title\",\n            text: \"Texto\",\n            mediaPath: \"Arquivo\",\n            status: \"Status\",\n          },\n          buttons: {\n            add: \"Adicionar\",\n            edit: \"Atualizar\",\n            okadd: \"Ok\",\n            cancel: \"Cancelar\",\n            close: \"Fechar\",\n            attach: \"Anexar Arquivo\",\n          },\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        toasts: {\n          success: \"Operação realizada com sucesso\",\n          deleted: \"Registro excluído\",\n        },\n      },\n      campaignsConfig: {\n        title: \"Configurações de Campanhas\",\n      },\n      queues: {\n        title: \"Filas & Chatbot\",\n        table: {\n\t\t  id:\"ID\",\n          name: \"Nome\",\n          color: \"Cor\",\n          greeting: \"Mensagem de saudação\",\n          actions: \"Ações\",\n          orderQueue: \"Ordenação da fila (bot)\",\n        },\n        buttons: {\n          add: \"Adicionar fila\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Você tem certeza? Essa ação não pode ser revertida! Os atendimentos dessa fila continuarão existindo, mas não terão mais nenhuma fila atribuída.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Filas\",\n      },\n      users: {\n        title: \"Usuários\",\n        table: {\n\t\t  id: \"ID\",\n          name: \"Nome\",\n\t\t  status: \"Status\",\n          email: \"Email\",\n          profile: \"Perfil\",\n          actions: \"Ações\",\n        },\n\t\tstatus: {\n          online: \"Usuários online\",\n          offline: \"Usuários offline\",\n        },\n        buttons: {\n          add: \"Adicionar usuário\",\n        },\n        toasts: {\n          deleted: \"Usuário excluído com sucesso.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todos os dados do usuário serão perdidos. Os atendimento abertos deste usuário serão movidos para a fila.\",\n        },\n      },\n      helps: {\n        title: \"Central de Ajuda\",\n      },\n      schedules: {\n        title: \"Agendamentos\",\n        confirmationModal: {\n          deleteTitle: \"Você tem certeza que quer excluir este Agendamento?\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        table: {\n          contact: \"Contato\",\n          body: \"Mensagem\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\",\n          status: \"Status\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Novo Agendamento\",\n        },\n        toasts: {\n          deleted: \"Agendamento excluído com sucesso.\",\n        },\n      },\n      tags: {\n        title: \"Tags\",\n        confirmationModal: {\n          deleteTitle: \"Você tem certeza que quer excluir esta Tag?\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n\t\t  deleteAllMessage: \"Tem certeza que deseja deletar todas as Tags?\",\n\t\t  deleteAllTitle: \"Deletar Todos\",\n        },\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          tickets: \"Registros Tagdos\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Nova Tag\",\n\t\t  deleteAll: \"Deletar Todas\",\n        },\n        toasts: {\n\t\t  deletedAll: \"Todas Tags excluídas com sucesso!\",\n          deleted: \"Tag excluído com sucesso.\",\n        },\n      },\n      settings: {\n        success: \"Configurações salvas com sucesso.\",\n        title: \"Configurações\",\n        settings: {\n          userCreation: {\n            name: \"Criação de usuário\",\n            options: {\n              enabled: \"Ativado\",\n              disabled: \"Desativado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Atribuído à:\",\n          buttons: {\n            return: \"Retornar\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceitar\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Digite uma mensagem\",\n        placeholderClosed:\n          \"Reabra ou aceite esse ticket para enviar uma mensagem.\",\n        signMessage: \"Assinar\",\n      },\n      contactDrawer: {\n        header: \"Dados do contato\",\n        buttons: {\n          edit: \"Editar contato\",\n        },\n        extraInfo: \"Outras informações\",\n      },\n      fileModal: {\n        title: {\n          add: \"Adicionar lista de arquivos\",\n          edit: \"Editar lista de arquivos\",\n        },\n        buttons: {\n          okAdd: \"Salvar\",\n          okEdit: \"Editar\",\n          cancel: \"Cancelar\",\n          fileOptions: \"Adicionar arquivo\",\n        },\n        form: {\n          name: \"Nome da lista de arquivos\",\n          message: \"Detalhes da lista\",\n          fileOptions: \"Lista de arquivos\",\n          extraName: \"Mensagem para enviar com arquivo\",\n          extraValue: \"Valor da opção\",\n        },\n        success: \"Lista de arquivos salva com sucesso!\",\n      },\n      ticketOptionsMenu: {\n        schedule: \"Agendamento\",\n        delete: \"Deletar\",\n        transfer: \"Transferir\",\n        registerAppointment: \"Observações do Contato\",\n        appointmentsModal: {\n          title: \"Observações do Contato\",\n          textarea: \"Observação\",\n          placeholder: \"Insira aqui a informação que deseja registrar\",\n        },\n        confirmationModal: {\n          title: \"Deletar o ticket\",\n\t\t  titleFrom: \"do contato \",\n          message:\n            \"Atenção! Todas as mensagens relacionadas ao ticket serão perdidas.\",\n        },\n        buttons: {\n          delete: \"Excluir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Deletar\",\n        reply: \"Responder\",\n\t\tedit: 'Editar Mensagem',\n\t\tforward: \"Encaminhar\",\n        toForward: \"Encaminhar\",\n\t\treact: \"Reagir\",\n        confirmationModal: {\n          title: \"Apagar mensagem?\",\n          message: \"Esta ação não pode ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP: \"Deve haver pelo menos um WhatsApp padrão.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"Nenhum WhatsApp padrão encontrado. Verifique a página de conexões.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sessão do WhatsApp não foi inicializada. Verifique a página de conexões.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"Não foi possível verificar o contato do WhatsApp. Verifique a página de conexões\",\n        ERR_WAPP_INVALID_CONTACT: \"Este não é um número de Whatsapp válido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"Não foi possível baixar mídia do WhatsApp. Verifique a página de conexões.\",\n        ERR_INVALID_CREDENTIALS:\n          \"Erro de autenticação. Por favor, tente novamente.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Erro ao enviar mensagem do WhatsApp. Verifique a página de conexões.\",\n        ERR_DELETE_WAPP_MSG: \"Não foi possível excluir a mensagem do WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"Já existe um tíquete aberto para este contato.\",\n        ERR_SESSION_EXPIRED: \"Sessão expirada. Por favor entre.\",\n        ERR_USER_CREATION_DISABLED:\n          \"A criação do usuário foi desabilitada pelo administrador.\",\n        ERR_NO_PERMISSION: \"Você não tem permissão para acessar este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"Já existe um contato com este número.\",\n        ERR_NO_SETTING_FOUND: \"Nenhuma configuração encontrada com este ID.\",\n        ERR_NO_CONTACT_FOUND: \"Nenhum contato encontrado com este ID.\",\n        ERR_NO_TICKET_FOUND: \"Nenhum tíquete encontrado com este ID.\",\n        ERR_NO_USER_FOUND: \"Nenhum usuário encontrado com este ID.\",\n        ERR_NO_WAPP_FOUND: \"Nenhum WhatsApp encontrado com este ID.\",\n        ERR_CREATING_MESSAGE: \"Erro ao criar mensagem no banco de dados.\",\n        ERR_CREATING_TICKET: \"Erro ao criar tíquete no banco de dados.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Esta cor já está em uso, escolha outra.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"A mensagem de saudação é obrigatório quando há mais de uma fila.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","import { messages as portugueseMessages } from \"./pt\";\nimport { messages as englishMessages } from \"./en\";\nimport { messages as spanishMessages } from \"./es\";\n\nconst messages = {\n\t...portugueseMessages,\n\t...englishMessages,\n\t...spanishMessages,\n};\n\nexport { messages };\n","const messages = {\n\ten: {\n\t\ttranslations: {\n\t\t\tsignup: {\n\t\t\t\ttitle: \"Sign up\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"User created successfully! Please login!\",\n\t\t\t\t\tfail: \"Error creating user. Check the reported data.\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Register\",\n\t\t\t\t\tlogin: \"Already have an account? Log in!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tlogin: {\n\t\t\t\ttitle: \"Login\",\n\t\t\t\tform: {\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Enter\",\n\t\t\t\t\tregister: \"Don't have an account? Register!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tauth: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"Login successfully!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tdashboard: {\n\t\t\t\tcharts: {\n\t\t\t\t\tperDay: {\n\t\t\t\t\t\ttitle: \"Tickets today: \",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tconnections: {\n\t\t\t\ttitle: \"Connections\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"WhatsApp connection deleted sucessfully!\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage: \"Are you sure? It cannot be reverted.\",\n\t\t\t\t\tdisconnectTitle: \"Disconnect\",\n\t\t\t\t\tdisconnectMessage: \"Are you sure? You'll need to read QR Code again.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add WhatsApp\",\n\t\t\t\t\tdisconnect: \"Disconnect\",\n\t\t\t\t\ttryAgain: \"Try Again\",\n\t\t\t\t\tqrcode: \"QR CODE\",\n\t\t\t\t\tnewQr: \"New QR CODE\",\n\t\t\t\t\tconnecting: \"Connectiing\",\n\t\t\t\t},\n\t\t\t\ttoolTips: {\n\t\t\t\t\tdisconnected: {\n\t\t\t\t\t\ttitle: \"Failed to start WhatsApp session\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and try again, or request a new QR Code\",\n\t\t\t\t\t},\n\t\t\t\t\tqrcode: {\n\t\t\t\t\t\ttitle: \"Waiting for QR Code read\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Click on 'QR CODE' button and read the QR Code with your cell phone to start session\",\n\t\t\t\t\t},\n\t\t\t\t\tconnected: {\n\t\t\t\t\t\ttitle: \"Connection established\",\n\t\t\t\t\t},\n\t\t\t\t\ttimeout: {\n\t\t\t\t\t\ttitle: \"Connection with cell phone has been lost\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tstatus: \"Status\",\n\t\t\t\t\tlastUpdate: \"Last Update\",\n\t\t\t\t\tdefault: \"Default\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t\tsession: \"Session\",\n\t\t\t\t},\n\t\t\t},\n\t\t\twhatsappModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add WhatsApp\",\n\t\t\t\t\tedit: \"Edit WhatsApp\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tdefault: \"Default\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"WhatsApp saved successfully.\",\n\t\t\t},\n\t\t\tqrCode: {\n\t\t\t\tmessage: \"Read QrCode to start the session\",\n\t\t\t},\n\t\t\tcontacts: {\n\t\t\t\ttitle: \"Contacts\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Contact deleted sucessfully!\",\n\t\t\t\t},\n\t\t\t\tsearchPlaceholder: \"Search ...\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\timportTitlte: \"Import contacts\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Are you sure you want to delete this contact? All related tickets will be lost.\",\n\t\t\t\t\timportMessage: \"Do you want to import all contacts from the phone?\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\timport: \"Import Contacts\",\n\t\t\t\t\tadd: \"Add Contact\",\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\twhatsapp: \"WhatsApp\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tcontactModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add contact\",\n\t\t\t\t\tedit: \"Edit contact\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tmainInfo: \"Contact details\",\n\t\t\t\t\textraInfo: \"Additional information\",\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tnumber: \"Whatsapp number\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\textraName: \"Field name\",\n\t\t\t\t\textraValue: \"Value\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\taddExtraInfo: \"Add information\",\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Contact saved successfully.\",\n\t\t\t},\n\t\t\tqueueModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add queue\",\n\t\t\t\t\tedit: \"Edit queue\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreetingMessage: \"Greeting Message\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tuserModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add user\",\n\t\t\t\t\tedit: \"Edit user\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"User saved successfully.\",\n\t\t\t},\n\t\t\tchat: {\n\t\t\t\tnoTicketMessage: \"Select a ticket to start chatting.\",\n\t\t\t},\n\t\t\tticketsManager: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tnewTicket: \"New\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsQueueSelect: {\n\t\t\t\tplaceholder: \"Queues\",\n\t\t\t},\n\t\t\ttickets: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"The ticket you were on has been deleted.\",\n\t\t\t\t},\n\t\t\t\tnotification: {\n\t\t\t\t\tmessage: \"Message from\",\n\t\t\t\t},\n\t\t\t\ttabs: {\n\t\t\t\t\topen: { title: \"Inbox\" },\n\t\t\t\t\tclosed: { title: \"Resolved\" },\n\t\t\t\t\tsearch: { title: \"Search\" },\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\tplaceholder: \"Search tickets and messages.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tshowAll: \"All\",\n\t\t\t\t},\n\t\t\t},\n\t\t\ttransferTicketModal: {\n\t\t\t\ttitle: \"Transfer Ticket\",\n\t\t\t\tfieldLabel: \"Type to search for users\",\n\t\t\t\tnoOptions: \"No user found with this name\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Transfer\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsList: {\n\t\t\t\tpendingHeader: \"Queue\",\n\t\t\t\tassignedHeader: \"Working on\",\n\t\t\t\tnoTicketsTitle: \"Nothing here!\",\n\t\t\t\tnoTicketsMessage: \"No tickets found with this status or search term.\",\n\t\t\t\tbuttons: {\n\t\t\t\t\taccept: \"Accept\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tnewTicketModal: {\n\t\t\t\ttitle: \"Create Ticket\",\n\t\t\t\tfieldLabel: \"Type to search for a contact\",\n\t\t\t\tadd: \"Add\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmainDrawer: {\n\t\t\t\tlistItems: {\n\t\t\t\t\tdashboard: \"Dashboard\",\n\t\t\t\t\tconnections: \"Connections\",\n\t\t\t\t\ttickets: \"Tickets\",\n\t\t\t\t\tcontacts: \"Contacts\",\n\t\t\t\t\tqueues: \"Queues\",\n\t\t\t\t\tadministration: \"Administration\",\n\t\t\t\t\tusers: \"Users\",\n\t\t\t\t\tsettings: \"Settings\",\n\t\t\t\t},\n\t\t\t\tappBar: {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t\t\tlogout: \"Logout\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tnotifications: {\n\t\t\t\tnoTickets: \"No notifications.\",\n\t\t\t},\n\t\t\tqueues: {\n\t\t\t\ttitle: \"Queues\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreeting: \"Greeting message\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add queue\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tqueueSelect: {\n\t\t\t\tinputLabel: \"Queues\",\n\t\t\t},\n\t\t\tusers: {\n\t\t\t\ttitle: \"Users\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add user\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"User deleted sucessfully.\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"All user data will be lost. Users' open tickets will be moved to queue.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tsettings: {\n\t\t\t\tsuccess: \"Settings saved successfully.\",\n\t\t\t\ttitle: \"Settings\",\n\t\t\t\tsettings: {\n\t\t\t\t\tuserCreation: {\n\t\t\t\t\t\tname: \"User creation\",\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tenabled: \"Enabled\",\n\t\t\t\t\t\t\tdisabled: \"Disabled\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesList: {\n\t\t\t\theader: {\n\t\t\t\t\tassignedTo: \"Assigned to:\",\n\t\t\t\t\tbuttons: {\n\t\t\t\t\t\treturn: \"Return\",\n\t\t\t\t\t\tresolve: \"Resolve\",\n\t\t\t\t\t\treopen: \"Reopen\",\n\t\t\t\t\t\taccept: \"Accept\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesInput: {\n\t\t\t\tplaceholderOpen: \"Type a message\",\n\t\t\t\tplaceholderClosed: \"Reopen or accept this ticket to send a message.\",\n\t\t\t\tsignMessage: \"Sign\",\n\t\t\t},\n\t\t\tcontactDrawer: {\n\t\t\t\theader: \"Contact details\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tedit: \"Edit contact\",\n\t\t\t\t},\n\t\t\t\textraInfo: \"Other information\",\n\t\t\t},\n\t\t\tticketOptionsMenu: {\n\t\t\t\tdelete: \"Delete\",\n\t\t\t\ttransfer: \"Transfer\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Delete ticket #\",\n\t\t\t\t\ttitleFrom: \"from contact \",\n\t\t\t\t\tmessage: \"Attention! All ticket's related messages will be lost.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tdelete: \"Delete\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tconfirmationModal: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tconfirm: \"Ok\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessageOptionsMenu: {\n\t\t\t\tdelete: \"Delete\",\n\t\t\t\treply: \"Reply\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Delete message?\",\n\t\t\t\t\tmessage: \"This action cannot be reverted.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tbackendErrors: {\n\t\t\t\tERR_NO_OTHER_WHATSAPP:\n\t\t\t\t\t\"There must be at lest one default WhatsApp connection.\",\n\t\t\t\tERR_NO_DEF_WAPP_FOUND:\n\t\t\t\t\t\"No default WhatsApp found. Check connections page.\",\n\t\t\t\tERR_WAPP_NOT_INITIALIZED:\n\t\t\t\t\t\"This WhatsApp session is not initialized. Check connections page.\",\n\t\t\t\tERR_WAPP_CHECK_CONTACT:\n\t\t\t\t\t\"Could not check WhatsApp contact. Check connections page.\",\n\t\t\t\tERR_WAPP_INVALID_CONTACT: \"This is not a valid whatsapp number.\",\n\t\t\t\tERR_WAPP_DOWNLOAD_MEDIA:\n\t\t\t\t\t\"Could not download media from WhatsApp. Check connections page.\",\n\t\t\t\tERR_INVALID_CREDENTIALS: \"Authentication error. Please try again.\",\n\t\t\t\tERR_SENDING_WAPP_MSG:\n\t\t\t\t\t\"Error sending WhatsApp message. Check connections page.\",\n\t\t\t\tERR_DELETE_WAPP_MSG: \"Couldn't delete message from WhatsApp.\",\n\t\t\t\tERR_OTHER_OPEN_TICKET:\n\t\t\t\t\t\"There's already an open ticket for this contact.\",\n\t\t\t\tERR_SESSION_EXPIRED: \"Session expired. Please login.\",\n\t\t\t\tERR_USER_CREATION_DISABLED:\n\t\t\t\t\t\"User creation was disabled by administrator.\",\n\t\t\t\tERR_NO_PERMISSION: \"You don't have permission to access this resource.\",\n\t\t\t\tERR_DUPLICATED_CONTACT: \"A contact with this number already exists.\",\n\t\t\t\tERR_NO_SETTING_FOUND: \"No setting found with this ID.\",\n\t\t\t\tERR_NO_CONTACT_FOUND: \"No contact found with this ID.\",\n\t\t\t\tERR_NO_TICKET_FOUND: \"No ticket found with this ID.\",\n\t\t\t\tERR_NO_USER_FOUND: \"No user found with this ID.\",\n\t\t\t\tERR_NO_WAPP_FOUND: \"No WhatsApp found with this ID.\",\n\t\t\t\tERR_CREATING_MESSAGE: \"Error while creating message on database.\",\n\t\t\t\tERR_CREATING_TICKET: \"Error while creating ticket on database.\",\n\t\t\t\tERR_FETCH_WAPP_MSG:\n\t\t\t\t\t\"Error fetching the message in WhtasApp, maybe it is too old.\",\n\t\t\t\tERR_QUEUE_COLOR_ALREADY_EXISTS:\n\t\t\t\t\t\"This color is already in use, pick another one.\",\n\t\t\t\tERR_WAPP_GREETING_REQUIRED:\n\t\t\t\t\t\"Greeting message is required if there is more than one queue.\",\n\t\t\t},\n\t\t},\n\t},\n};\n\nexport { messages };\n","const messages = {\n  es: {\n    translations: {\n      signup: {\n        title: \"Registrarse\",\n        toasts: {\n          success: \"¡Usuario creado exitosamente! ¡Inicie sesión!\",\n          fail: \"Error al crear usuario. Verifique los datos ingresados.\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo electrónico\",\n          password: \"Contraseña\",\n        },\n        buttons: {\n          submit: \"Registrarse\",\n          login: \"¿Ya tienes una cuenta? ¡Inicia sesión!\",\n        },\n      },\n      login: {\n        title: \"Iniciar sesión\",\n        form: {\n          email: \"Correo electrónico\",\n          password: \"Contraseña\",\n        },\n        buttons: {\n          submit: \"Iniciar sesión\",\n          register: \" ¡Crea tu cuenta en solo unos clics!\",\n        },\n      },\n      plans: {\n        form: {\n          name: \"Nombre\",\n          users: \"Usuarios\",\n          connections: \"Conexiones\",\n          campaigns: \"Campañas\",\n          schedules: \"Programaciones\",\n          enabled: \"Habilitadas\",\n          disabled: \"Deshabilitadas\",\n          clear: \"Cancelar\",\n          delete: \"Eliminar\",\n          save: \"Guardar\",\n          yes: \"Sí\",\n          no: \"No\",\n          money: \"R$\",\n        },\n      },\n      companies: {\n        title: \"Registrar Empresa\",\n        form: {\n          name: \"Nombre de la Empresa\",\n          plan: \"Plan\",\n          token: \"Token\",\n          submit: \"Registrar\",\n          success: \"¡Empresa creada exitosamente!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"¡Inicio de sesión exitoso!\",\n        },\n        token: \"Token\",\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Atenciones de hoy: \",\n          },\n        },\n      },\n      connections: {\n        title: \"Conexiones\",\n        toasts: {\n          deleted: \"¡Conexión con WhatsApp eliminada exitosamente!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Eliminar\",\n          deleteMessage: \"¿Estás seguro? Esta acción no se puede deshacer.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage:\n            \"¿Estás seguro? Deberás volver a leer el código QR.\",\n        },\n        buttons: {\n          add: \"Agregar WhatsApp\",\n          disconnect: \"desconectar\",\n          tryAgain: \"Intentar de nuevo\",\n          qrcode: \"CÓDIGO QR\",\n          newQr: \"Nuevo CÓDIGO QR\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Error al iniciar sesión en WhatsApp\",\n            content:\n              \"Asegúrate de que tu teléfono esté conectado a internet e inténtalo nuevamente, o solicita un nuevo código QR\",\n          },\n          qrcode: {\n            title: \"Esperando lectura del código QR\",\n            content:\n              \"Haz clic en el botón 'CÓDIGO QR' y lee el código QR con tu teléfono para iniciar sesión\",\n          },\n          connected: {\n            title: \"¡Conexión establecida!\",\n          },\n          timeout: {\n            title: \"Se perdió la conexión con el teléfono\",\n            content:\n              \"Asegúrate de que tu teléfono esté conectado a internet y WhatsApp esté abierto, o haz clic en el botón 'Desconectar' para obtener un nuevo código QR\",\n          },\n        },\n\t\ttable: {\n  name: \"Nombre\",\n  status: \"Estado\",\n  lastUpdate: \"Última actualización\",\n  default: \"Predeterminado\",\n  actions: \"Acciones\",\n  session: \"Sesión\",\n},\nwhatsappModal: {\n  title: {\n    add: \"Agregar WhatsApp\",\n    edit: \"Editar WhatsApp\",\n  },\n  tabs: {\n    general: \"General\",\n    messages: \"Mensajes\",\n    assessments: \"Evaluaciones\",\n    integrations: \"Integraciones\",\n    schedules: \"Horario de expediente\",\n  },\n  form: {\n    name: \"Nombre\",\n    default: \"Predeterminado\",\n    sendIdQueue: \"Fila\",\n    timeSendQueue: \"Redireccionar a cola en X minutos\",\n    queueRedirection: \"Redirección de cola\",\n    outOfHoursMessage: \"Mensaje de fuera de expediente\",\n    queueRedirectionDesc: \"Seleccione una fila para redirigir los contactos que no tienen cola\",\n    prompt: \"Prompt\",\n    expiresTicket: \"Cerrar chats abiertos después de X minutos\",\n    expiresInactiveMessage: \"Mensaje de cierre por inactividad\",\n    greetingMessage: \"Mensaje de saludo\",\n    complationMessage: \"Mensaje de conclusión\",\n    sendIdQueue: \"Fila\",\n  },\n  buttons: {\n    okAdd: \"Agregar\",\n    okEdit: \"Guardar\",\n    cancel: \"Cancelar\",\n  },\n  success: \"WhatsApp guardado con éxito.\",\n},\nqrCode: {\n  message: \"Lea el código QR para iniciar sesión\",\n},\ncontacts: {\n  title: \"Contactos\",\n  toasts: {\n    deleted: \"Contacto eliminado con éxito!\",\n    deletedAll: \"Todos los contactos eliminados con éxito!\",\n  },\n  searchPlaceholder: \"Buscar...\",\n  confirmationModal: {\n    deleteTitle: \"Eliminar \",\n    deleteAllTitle: \"Eliminar Todos\",\n    importTitle: \"Importar contactos\",\n    deleteMessage: \"¿Seguro que desea eliminar este contacto? Se perderán todos los tickets relacionados.\",\n    deleteAllMessage: \"¿Seguro que desea eliminar todos los contactos? Se perderán todos los tickets relacionados.\",\n    importMessage: \"¿Desea importar todos los contactos del teléfono?\",\n  },\n  buttons: {\n    import: \"Importar Contactos\",\n    add: \"Agregar Contacto\",\n    export: \"Exportar Contactos\",\n    delete: \"Eliminar Todos Contactos\",\n  },\n  table: {\n    name: \"Nombre\",\n    whatsapp: \"WhatsApp\",\n    email: \"Correo electrónico\",\n    actions: \"Acciones\",\n  },\n},\nqueueIntegrationModal: {\n  title: {\n    add: \"Agregar proyecto\",\n    edit: \"Editar proyecto\",\n  },\n  form: {\n    id: \"ID\",\n    type: \"Tipo\",\n    name: \"Nombre\",\n    projectName: \"Nombre del Proyecto\",\n    language: \"Lenguaje\",\n    jsonContent: \"JsonContent\",\n    urlN8N: \"URL\",\n    typebotSlug: \"Typebot - Slug\",\n    typebotExpires: \"Tiempo en minutos para expirar una conversación\",\n    typebotKeywordFinish: \"Palabra para finalizar el ticket\",\n    typebotKeywordRestart: \"Palabra para reiniciar el flujo\",\n    typebotRestartMessage: \"Mensaje al reiniciar la conversación\",\n    typebotUnknownMessage: \"Mensaje de opción inválida\",\n    typebotDelayMessage: \"Intervalo (ms) entre mensajes\",\n  },\n  buttons: {\n    okAdd: \"Agregar\",\n    okEdit: \"Guardar\",\n    cancel: \"Cancelar\",\n    test: \"Probar Bot\",\n  },\n  messages: {\n    testSuccess: \"Integración probada con éxito!\",\n    addSuccess: \"Integración agregada con éxito.\",\n    editSuccess: \"Integración editada con éxito.\",\n  },\n},\nsideMenu: {\n  name: \"Menú Lateral Inicial\",\n  note: \"Si está habilitado, el menú lateral se iniciará cerrado\",\n  options: {\n    enabled: \"Abierto\",\n    disabled: \"Cerrado\",\n  },\n},\npromptModal: {\n  form: {\n    name: \"Nombre\",\n    prompt: \"Prompt\",\n    voice: \"Voz\",\n    max_tokens: \"Máximo de Tokens en la respuesta\",\n    temperature: \"Temperatura\",\n    apikey: \"API Key\",\n    max_messages: \"Máximo de mensajes en el Historial\",\n    voiceKey: \"Clave de la API de Voz\",\n    voiceRegion: \"Región de Voz\",\n  },\n  success: \"Prompt guardado con éxito!\",\n  title: {\n    add: \"Agregar Prompt\",\n    edit: \"Editar Prompt\",\n  },\n  buttons: {\n    okAdd: \"Agregar\",\n    okEdit: \"Guardar\",\n    cancel: \"Cancelar\",\n  },\n},\nprompts: {\n  title: \"Prompts\",\n  table: {\n    name: \"Nombre\",\n    queue: \"Sector/Cola\",\n    max_tokens: \"Máximo Tokens Respuesta\",\n    actions: \"Acciones\",\n  },\n  confirmationModal: {\n    deleteTitle: \"Eliminar\",\n    deleteMessage: \"¿Está seguro? ¡Esta acción no se puede deshacer!\",\n  },\n  buttons: {\n    add: \"Agregar Prompt\",\n  },\n},\ncontactModal: {\n  title: {\n    add: \"Agregar contacto\",\n    edit: \"Editar contacto\",\n  },\n  form: {\n    mainInfo: \"Datos del contacto\",\n    extraInfo: \"Información adicional\",\n    name: \"Nombre\",\n    number: \"Número de Whatsapp\",\n    email: \"Email\",\n    extraName: \"Nombre del campo\",\n    extraValue: \"Valor\",\n    whatsapp: \"Conexión Origen: \"\n  },\n  buttons: {\n    addExtraInfo: \"Agregar información\",\n    okAdd: \"Agregar\",\n    okEdit: \"Guardar\",\n    cancel: \"Cancelar\",\n  },\n  success: \"Contacto guardado con éxito.\",\n},\nqueueModal: {\n  title: {\n    add: \"Agregar cola\",\n    edit: \"Editar cola\",\n  },\n  form: {\n    name: \"Nombre\",\n    color: \"Color\",\n    greetingMessage: \"Mensaje de saludo\",\n    complationMessage: \"Mensaje de conclusión\",\n    outOfHoursMessage: \"Mensaje de fuera de horario\",\n    ratingMessage: \"Mensaje de evaluación\",\n    token: \"Token\",\n    orderQueue: \"Orden de la cola (Bot)\",\n    integrationId: \"Integración\",\n  },\n  buttons: {\n    okAdd: \"Agregar\",\n    okEdit: \"Guardar\",\n    cancel: \"Cancelar\",\n  },\n},\nuserModal: {\n  title: {\n    add: \"Agregar usuario\",\n    edit: \"Editar usuario\",\n  },\n  form: {\n    name: \"Nombre\",\n    email: \"Email\",\n    password: \"Contraseña\",\n    profile: \"Perfil\",\n    whatsapp: \"Conexión Predeterminada\",\n\n    allTicket: \"Ticket Sin Cola [Invisible]\",\n    allTicketEnabled: \"Habilitado\",\n    allTicketDesabled: \"Deshabilitado\",\n  },\n  buttons: {\n    okAdd: \"Agregar\",\n    okEdit: \"Guardar\",\n    cancel: \"Cancelar\",\n  },\n  success: \"Usuario guardado con éxito.\",\n},\nscheduleModal: {\n  title: {\n    add: \"Nuevo Agendamiento\",\n    edit: \"Editar Agendamiento\",\n  },\n  form: {\n    body: \"Mensaje\",\n    contact: \"Contacto\",\n    sendAt: \"Fecha de Agendamiento\",\n    sentAt: \"Fecha de Envío\",\n  },\n  buttons: {\n    okAdd: \"Agregar\",\n    okEdit: \"Guardar\",\n    cancel: \"Cancelar\",\n  },\n  success: \"Agendamiento guardado con éxito.\",\n},\ntagModal: {\n  title: {\n    add: \"Nueva Etiqueta\",\n    edit: \"Editar Etiqueta\",\n  },\n  form: {\n    name: \"Nombre\",\n    color: \"Color\",\n  },\n  buttons: {\n    okAdd: \"Agregar\",\n    okEdit: \"Guardar\",\n    cancel: \"Cancelar\",\n  },\n  success: \"Etiqueta guardada con éxito.\",\n},\nchat: {\n  noTicketMessage: \"Seleccione un ticket para comenzar a conversar.\",\n},\nuploads: {\n  titles: {\n    titleUploadMsgDragDrop: \"ARRASTRE Y SUELTE ARCHIVOS EN EL CAMPO ABAJO\",\n    titleFileList: \"Lista de archivo(s)\"\n  },\n},\nticketsManager: {\n  buttons: {\n    newTicket: \"Nuevo\",\n  },\n},\nticketsQueueSelect: {\n  placeholder: \"Colas\",\n},\ntickets: {\n  toasts: {\n    deleted: \"La atención en la que estaba ha sido eliminada.\",\n  },\n  notification: {\n    message: \"Mensaje de\",\n  },\n  tabs: {\n    open: { title: \"Abiertas\" },\n    closed: { title: \"Resueltos\" },\n    search: { title: \"Búsqueda\" },\n  },\n  search: {\n    placeholder: \"Buscar atención y mensajes\",\n  },\n  buttons: {\n    showAll: \"Todos\",\n  },\n},\ntransferTicketModal: {\n    title: \"Transferir Ticket\",\n    fieldLabel: \"Escribe para buscar usuarios\",\n    fieldQueueLabel: \"Transferir a cola\",\n    fieldQueuePlaceholder: \"Seleccione una cola\",\n    noOptions: \"No se encontraron usuarios con ese nombre\",\n    buttons: {\n      ok: \"Transferir\",\n      cancel: \"Cancelar\",\n    },\n  },\n  ticketsList: {\n    pendingHeader: \"Pendiente\",\n    assignedHeader: \"Atendiendo\",\n    noTicketsTitle: \"¡Nada aquí!\",\n    noTicketsMessage:\n      \"No se encontraron tickets con este estado o término de búsqueda\",\n    buttons: {\n      accept: \"Aceptar\",\n      closed: \"Finalizar\",\n      reopen: \"Reabrir\"\n    },\n  },\n  newTicketModal: {\n    title: \"Crear Ticket\",\n    fieldLabel: \"Escribe para buscar el contacto\",\n    add: \"Agregar\",\n    buttons: {\n      ok: \"Guardar\",\n      cancel: \"Cancelar\",\n    },\n  },\n  mainDrawer: {\n    listItems: {\n      dashboard: \"Tablero\",\n      connections: \"Conexiones\",\n      tickets: \"Tickets\",\n      quickMessages: \"Respuestas Rápidas\",\n      contacts: \"Contactos\",\n      queues: \"Colas y Chatbot\",\n      tags: \"Etiquetas\",\n      administration: \"Administración\",\n      users: \"Usuarios\",\n      settings: \"Configuraciones\",\n      helps: \"Ayuda\",\n      messagesAPI: \"API\",\n      schedules: \"Agendamientos\",\n      campaigns: \"Campañas\",\n      annoucements: \"Anuncios\",\n      chats: \"Chat Interno\",\n      financeiro: \"Financiero\",\n      files: \"Lista de archivos\",\n      prompts: \"Open.Ai\",\n      queueIntegration: \"Integraciones\",\n    },\n    appBar: {\n      notRegister:\"Sin notificaciones\",\n      user: {\n        profile: \"Perfil\",\n        logout: \"Salir\",\n      },\n    },\n  },\n  queueIntegration: {\n    title: \"Integraciones\",\n    table: {\n      id: \"ID\",\n      type: \"Tipo\",\n      name: \"Nombre\",\n      projectName: \"Nombre del Proyecto\",\n      language: \"Idioma\",\n      lastUpdate: \"Última actualización\",\n      actions: \"Acciones\",\n    },\n    buttons: {\n      add: \"Agregar Proyecto\",\n    },\n    searchPlaceholder: \"Buscar...\",\n    confirmationModal: {\n      deleteTitle: \"Eliminar\",\n      deleteMessage:\n        \"¿Estás seguro? ¡Esta acción no se puede deshacer! y se eliminará de las colas y conexiones vinculadas\",\n    },\n  },\n  files: {\n    title: \"Lista de archivos\",\n    table: {\n      name: \"Nombre\",\n      contacts: \"Contactos\",\n      actions: \"Acción\",\n    },\n    toasts: {\n      deleted: \"¡Lista eliminada correctamente!\",\n      deletedAll: \"¡Todas las listas se han eliminado correctamente!\",\n    },\n    buttons: {\n      add: \"Agregar\",\n      deleteAll: \"Eliminar Todos\",\n    },\n    confirmationModal: {\n      deleteTitle: \"Eliminar\",\n      deleteAllTitle: \"Eliminar Todos\",\n      deleteMessage: \"¿Estás seguro de que deseas eliminar esta lista?\",\n      deleteAllMessage: \"¿Estás seguro de que deseas eliminar todas las listas?\",\n    },\n  },\n  messagesAPI: {\n    title: \"API\",\n    textMessage: {\n      number: \"Número\",\n      body: \"Mensaje\",\n      token: \"Token registrado\",\n    },\n    mediaMessage: {\n      number: \"Número\",\n      body: \"Nombre del archivo\",\n      media: \"Archivo\",\n      token: \"Token registrado\",\n    },\n  },\n  notifications: {\n    noTickets: \"No hay notificaciones.\",\n  },\n  quickMessages: {\n    title: \"Respuestas Rápidas\",\n    searchPlaceholder: \"Buscar...\",\n    noAttachment: \"Sin adjunto\",\n    confirmationModal: {\n      deleteTitle: \"Eliminación\",\n      deleteMessage: \"¡Esta acción es irreversible! ¿Quieres continuar?\",\n    },\n    buttons: {\n      add: \"Agregar\",\n      attach: \"Adjuntar Archivo\",\n      cancel: \"Cancelar\",\n      edit: \"Editar\",\n    },\n    toasts: {\n      success: \"¡Atajo agregado correctamente!\",\n      deleted: \"¡Atajo eliminado correctamente!\",\n    },\n    dialog: {\n      title: \"Mensaje Rápido\",\n      shortcode: \"Atajo\",\n      message: \"Respuesta\",\n      save: \"Guardar\",\n      cancel: \"Cancelar\",\n      geral: \"Permitir editar\",\n      add: \"Agregar\",\n      edit: \"Editar\",\n      visao: \"Permitir vista\",\n    },\n    table: {\n      shortcode: \"Atajo\",\n      message: \"Mensaje\",\n      actions: \"Acciones\",\n      mediaName: \"Nombre del Archivo\",\n      status: \"Estado\",\n    },\n  },\n  messageVariablesPicker: {\n    label: \"Variables disponibles\",\n    vars: {\n      contactFirstName: \"Primer Nombre\",\n      contactName: \"Nombre\",\n      greeting: \"Saludo\",\n      protocolNumber: \"Protocolo\",\n      date: \"Fecha\",\n      hour: \"Hora\",\n    },\n  },\n  contactLists: {\n    title: \"Listas de Contactos\",\n    table: {\n      name: \"Nombre\",\n      contacts: \"Contactos\",\n      actions: \"Acciones\",\n    },\n    buttons: {\n      add: \"Nueva Lista\",\n    },\n    dialog: {\n      name: \"Nombre\",\n      company: \"Empresa\",\n      okEdit: \"Editar\",\n      okAdd: \"Agregar\",\n      add: \"Agregar\",\n      edit: \"Editar\",\n      cancel: \"Cancelar\",\n    },\n    confirmationModal: {\n      deleteTitle: \"Eliminar\",\n      deleteMessage: \"Esta acción no se puede deshacer.\",\n    },\n    toasts: {\n      deleted: \"Registro eliminado\",\n    },\n  },\n  contactListItems: {\n    title: \"Contactos\",\n    searchPlaceholder: \"Búsqueda\",\n    buttons: {\n      add: \"Nuevo\",\n      lists: \"Listas\",\n      import: \"Importar\",\n    },\n    dialog: {\n      name: \"Nombre\",\n      number: \"Número\",\n      whatsapp: \"Whatsapp\",\n      email: \"Correo electrónico\",\n      okEdit: \"Editar\",\n      okAdd: \"Agregar\",\n      add: \"Agregar\",\n      edit: \"Editar\",\n      cancel: \"Cancelar\",\n    },\n    table: {\n      name: \"Nombre\",\n      number: \"Número\",\n      whatsapp: \"Whatsapp\",\n      email: \"Correo electrónico\",\n      actions: \"Acciones\",\n    },\n    confirmationModal: {\n      deleteTitle: \"Eliminar\",\n      deleteMessage: \"Esta acción no se puede deshacer.\",\n      importMessage: \"¿Desea importar los contactos de esta hoja de cálculo?\",\n      importTitlte: \"Importar\",\n    },\n    toasts: {\n      deleted: \"Registro eliminado\",\n    },\n  },\n  campaigns: {\n    title: \"Campañas\",\n    searchPlaceholder: \"Búsqueda\",\n    buttons: {\n      add: \"Nueva Campaña\",\n      contactLists: \"Listas de Contactos\",\n    },\n    table: {\n      name: \"Nombre\",\n      whatsapp: \"Conexión\",\n      contactList: \"Lista de Contactos\",\n      status: \"Estado\",\n      scheduledAt: \"Programada\",\n      completedAt: \"Completada\",\n      confirmation: \"Confirmación\",\n      actions: \"Acciones\",\n    },\n    dialog: {\n      new: \"Nueva Campaña\",\n      update: \"Editar Campaña\",\n      readonly: \"Solo Lectura\",\n      form: {\n        name: \"Nombre\",\n        message1: \"Mensaje 1\",\n        message2: \"Mensaje 2\",\n        message3: \"Mensaje 3\",\n        message4: \"Mensaje 4\",\n        message5: \"Mensaje 5\",\n        confirmationMessage1: \"Mensaje de Confirmación 1\",\n        confirmationMessage2: \"Mensaje de Confirmación 2\",\n        confirmationMessage3: \"Mensaje de Confirmación 3\",\n        confirmationMessage4: \"Mensaje de Confirmación 4\",\n        confirmationMessage5: \"Mensaje de Confirmación 5\",\n        messagePlaceholder: \"Contenido del mensaje\",\n        whatsapp: \"Conexión\",\n        status: \"Estado\",\n        scheduledAt: \"Programada\",\n        confirmation: \"Confirmación\",\n        contactList: \"Lista de Contacto\",\n        tagList: \"Lista de Etiquetas\",\n        fileList: \"Lista de Archivos\"\n      },\n      buttons: {\n        add: \"Agregar\",\n        edit: \"Actualizar\",\n        okadd: \"Ok\",\n        cancel: \"Cancelar\",\n        restart: \"Reiniciar Campañas\",\n        close: \"Cerrar\",\n        attach: \"Adjuntar Archivo\",\n      },\n    },\n    confirmationModal: {\n      deleteTitle: \"Eliminar\",\n      deleteMessage: \"Esta acción no se puede deshacer.\",\n    },\n    toasts: {\n      success: \"Operación realizada correctamente\",\n      cancel: \"Campaña cancelada\",\n      restart: \"Campañas reiniciadas\",\n      deleted: \"Registro eliminado\",\n    },\n  },\n  announcements: {\n    active: 'Activo',\n    inactive: 'Inactivo',\n    title: \"Informativos\",\n    searchPlaceholder: \"Búsqueda\",\n    buttons: {\n      add: \"Nuevo Informativo\",\n      contactLists: \"Listas de Informativos\",\n    },\n    table: {\n      priority: \"Prioridad\",\n      title: \"Título\",\n      text: \"Texto\",\n      mediaName: \"Archivo\",\n      status: \"Estado\",\n      actions: \"Acciones\",\n    },\n    dialog: {\n      edit: \"Editar Informativo\",\n      add: \"Nuevo Informativo\",\n      update: \"Editar Informativo\",\n      readonly: \"Solo Lectura\",\n      form: {\n        priority: \"Prioridad\",\n        title: \"Título\",\n        text: \"Texto\",\n        mediaPath: \"Archivo\",\n        status: \"Estado\",\n      },\n      buttons: {\n        add: \"Agregar\",\n        edit: \"Actualizar\",\n        okadd: \"Ok\",\n        cancel: \"Cancelar\",\n        close: \"Cerrar\",\n        attach: \"Adjuntar Archivo\",\n      },\n    },\n    confirmationModal: {\n      deleteTitle: \"Eliminar\",\n      deleteMessage: \"Esta acción no se puede deshacer.\",\n    },\n    toasts: {\n      success: \"Operación realizada correctamente\",\n      deleted: \"Registro eliminado\",\n    },\n  },\n  campaignsConfig: {\n    title: \"Configuraciones de Campañas\",\n  },\n  queues: {\n    title: \"Colas y Chatbot\",\n    table: {\n      id:\"ID\",\n      name: \"Nombre\",\n      color: \"Color\",\n      greeting: \"Mensaje de bienvenida\",\n      actions: \"Acciones\",\n      orderQueue: \"Orden de la cola (bot)\",\n    },\n    buttons: {\n      add: \"Agregar cola\",\n    },\n    confirmationModal: {\n      deleteTitle: \"Eliminar\",\n      deleteMessage:\n        \"¿Estás seguro? ¡Esta acción no se puede deshacer! Los tickets de esta cola seguirán existiendo pero ya no tendrán ninguna cola asignada.\",\n    },\n  },\n  queueSelect: {\n    inputLabel: \"Colas\",\n  },\n  users: {\n    title: \"Usuarios\",\n    table: {\n\t  id: \"ID\",\n      name: \"Nombre\",\n      email: \"Email\",\n      profile: \"Perfil\",\n      actions: \"Acciones\",\n    },\n    buttons: {\n      add: \"Agregar usuario\",\n    },\n    toasts: {\n      deleted: \"Usuario eliminado correctamente.\",\n    },\n    confirmationModal: {\n      deleteTitle: \"Eliminar\",\n      deleteMessage:\n        \"Todos los datos del usuario se perderán. Los tickets abiertos de este usuario se moverán a la cola.\",\n    },\n  },\n  helps: {\n    title: \"Centro de Ayuda\",\n  },\n  schedules: {\n    title: \"Agendamientos\",\n    confirmationModal: {\n      deleteTitle: \"¿Estás seguro que quieres eliminar este Agendamiento?\",\n      deleteMessage: \"Esta acción no se puede deshacer.\",\n    },\n    table: {\n      contact: \"Contacto\",\n      body: \"Mensaje\",\n      sendAt: \"Fecha de Agendamiento\",\n      sentAt: \"Fecha de Envío\",\n      status: \"Estado\",\n      actions: \"Acciones\",\n    },\n    buttons: {\n      add: \"Nuevo Agendamiento\",\n    },\n    toasts: {\n      deleted: \"Agendamiento eliminado correctamente.\",\n    },\n  },\n  tags: {\n    title: \"Etiquetas\",\n    confirmationModal: {\n      deleteTitle: \"¿Estás seguro que quieres eliminar esta Etiqueta?\",\n      deleteMessage: \"Esta acción no se puede deshacer.\",\n\t  deleteAllMessage: \"¿Estás seguro que quieres eliminar todas las Etiquetas?\",\n\t  deleteAllTitle: \"Eliminar Todas\",\n    },\n    table: {\n      name: \"Nombre\",\n      color: \"Color\",\n      tickets: \"Tickets Etiquetados\",\n      actions: \"Acciones\",\n    },\n    buttons: {\n      add: \"Nueva Etiqueta\",\n\t  deleteAll: \"Eliminar Todas\",\n    },\n    toasts: {\n\t  deletedAll: \"¡Todas las Etiquetas se han eliminado correctamente!\",\n      deleted: \"Etiqueta eliminada correctamente.\",\n    },\n  },\n  settings: {\n    success: \"Configuraciones guardadas correctamente.\",\n    title: \"Configuraciones\",\n    settings: {\n      userCreation: {\n        name: \"Creación de usuario\",\n        options: {\n          enabled: \"Habilitado\",\n          disabled: \"Deshabilitado\",\n        },\n      },\n    },\n  },\n  messagesList: {\n    header: {\n      assignedTo: \"Asignado a:\",\n      buttons: {\n        return: \"Volver\",\n        resolve: \"Resolver\",\n        reopen: \"Reabrir\",\n        accept: \"Aceptar\",\n      },\n    },\n  },\n  messagesInput: {\n    placeholderOpen: \"Escribe un mensaje\",\n    placeholderClosed:\n      \"Reabra o acepte este ticket para enviar un mensaje.\",\n    signMessage: \"Firmar\",\n  },\n  contactDrawer: {\n    header: \"Datos del contacto\",\n    buttons: {\n      edit: \"Editar contacto\",\n    },\n    extraInfo: \"Información adicional\",\n  },\n  fileModal: {\n    title: {\n      add: \"Agregar lista de archivos\",\n      edit: \"Editar lista de archivos\",\n    },\n    buttons: {\n      okAdd: \"Guardar\",\n      okEdit: \"Editar\",\n      cancel: \"Cancelar\",\n      fileOptions: \"Agregar archivo\",\n    },\n    form: {\n      name: \"Nombre de la lista de archivos\",\n      message: \"Detalles de la lista\",\n      fileOptions: \"Lista de archivos\",\n      extraName: \"Mensaje para enviar con archivo\",\n      extraValue: \"Valor de la opción\",\n    },\n    success: \"Lista de archivos guardada correctamente!\",\n  },\n  ticketOptionsMenu: {\n    schedule: \"Programación\",\n    delete: \"Eliminar\",\n    transfer: \"Transferir\",\n    registerAppointment: \"Observaciones del Contacto\",\n    appointmentsModal: {\n      title: \"Observaciones del Contacto\",\n      textarea: \"Observación\",\n      placeholder: \"Inserta aquí la información que deseas registrar\",\n    },\n    confirmationModal: {\n      title: \"Eliminar el ticket\",\n\t  titleFrom: \"del contacto \",\n      message:\n        \"¡Atención! Todos los mensajes relacionados con el ticket se perderán.\",\n    },\n    buttons: {\n      delete: \"Eliminar\",\n      cancel: \"Cancelar\",\n    },\n  },\n  confirmationModal: {\n    buttons: {\n      confirm: \"Ok\",\n      cancel: \"Cancelar\",\n    },\n  },\n  messageOptionsMenu: {\n    delete: \"Eliminar\",\n    reply: \"Responder\",\n    confirmationModal: {\n      title: \"¿Eliminar mensaje?\",\n      message: \"Esta acción no se puede deshacer.\",\n    },\n  },\n  backendErrors: {\n    ERR_NO_OTHER_WHATSAPP: \"Debe haber al menos un WhatsApp predeterminado.\",\n    ERR_NO_DEF_WAPP_FOUND:\n      \"No se encontró ningún WhatsApp predeterminado. Comprueba la página de conexiones.\",\n    ERR_WAPP_NOT_INITIALIZED:\n      \"Esta sesión de WhatsApp no se ha inicializado. Comprueba la página de conexiones.\",\n    ERR_WAPP_CHECK_CONTACT:\n      \"No se pudo verificar el contacto de WhatsApp. Comprueba la página de conexiones\",\n    ERR_WAPP_INVALID_CONTACT: \"Este no es un número de WhatsApp válido.\",\n    ERR_WAPP_DOWNLOAD_MEDIA:\n      \"No se pudo descargar medios de WhatsApp. Comprueba la página de conexiones.\",\n    ERR_INVALID_CREDENTIALS:\n      \"Error de autenticación. Por favor, inténtalo de nuevo.\",\n    ERR_SENDING_WAPP_MSG:\n      \"Error al enviar mensaje de WhatsApp. Comprueba la página de conexiones.\",\n    ERR_DELETE_WAPP_MSG: \"No se pudo eliminar el mensaje de WhatsApp.\",\n    ERR_OTHER_OPEN_TICKET: \"Ya hay un ticket abierto para este contacto.\",\n    ERR_SESSION_EXPIRED: \"Sesión expirada. Por favor, inicia sesión.\",\n    ERR_USER_CREATION_DISABLED:\n      \"La creación de usuarios ha sido deshabilitada por el administrador.\",\n    ERR_NO_PERMISSION: \"No tienes permiso para acceder a este recurso.\",\n    ERR_DUPLICATED_CONTACT: \"Ya existe un contacto con este número.\",\n    ERR_NO_SETTING_FOUND: \"No se encontró ninguna configuración con esta ID.\",\n    ERR_NO_CONTACT_FOUND: \"No se encontró ningún contacto con esta ID.\",\n    ERR_NO_TICKET_FOUND: \"No se encontró ningún ticket con esta ID.\",\n    ERR_NO_USER_FOUND: \"No se encontró ningún usuario con esta ID.\",\n    ERR_NO_WAPP_FOUND: \"No se encontró ningún WhatsApp con esta ID.\",\n    ERR_CREATING_MESSAGE: \"Error al crear mensaje en la base de datos.\",\n    ERR_CREATING_TICKET: \"Error al crear ticket en la base de datos.\",\n    ERR_FETCH_WAPP_MSG:\n      \"Error al obtener mensaje de WhatsApp, puede que sea muy antiguo.\",\n    ERR_QUEUE_COLOR_ALREADY_EXISTS:\n      \"Este color ya está en uso, elige otro.\",\n    ERR_WAPP_GREETING_REQUIRED:\n      \"El saludo es obligatorio cuando hay más de una cola.\",\n      },\n    },\n  },\n },\n};\n\nexport { messages };\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\nimport { messages } from \"./languages\";\n\ni18n.use(LanguageDetector).init({\n\tdebug: false,\n\tdefaultNS: [\"translations\"],\n\tfallbackLng: \"pt\",\n\tns: [\"translations\"],\n\tresources: messages,\n});\n\nexport { i18n };\n","import { toast } from \"react-toastify\";\nimport { i18n } from \"../translate/i18n\";\nimport { isString } from 'lodash';\n\nconst toastError = err => {\n\tconst errorMsg = err.response?.data?.error;\n\tif (errorMsg) {\n\t\tif (i18n.exists(`backendErrors.${errorMsg}`)) {\n\t\t\ttoast.error(i18n.t(`backendErrors.${errorMsg}`), {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t\tautoClose: 2000,\n\t\t\t\thideProgressBar: false,\n\t\t\t\tcloseOnClick: true,\n\t\t\t\tpauseOnHover: false,\n\t\t\t\tdraggable: true,\n\t\t\t\tprogress: undefined,\n\t\t\t\ttheme: \"light\",\n\t\t\t});\n\t\t\treturn\n\t\t} else {\n\t\t\ttoast.error(errorMsg, {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t\tautoClose: 2000,\n\t\t\t\thideProgressBar: false,\n\t\t\t\tcloseOnClick: true,\n\t\t\t\tpauseOnHover: false,\n\t\t\t\tdraggable: true,\n\t\t\t\tprogress: undefined,\n\t\t\t\ttheme: \"light\",\n\t\t\t});\n\t\t\treturn\n\t\t}\n\t} if (isString(err)) {\n\t\ttoast.error(err);\n\t\treturn\n\t} else {\n\t\ttoast.error(\"An error occurred!\");\n\t\treturn\n\t}\n};\n\nexport default toastError;\n","import axios from \"axios\";\n\nconst api = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL,\n\twithCredentials: true,\n});\n\nexport const openApi = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL\n});\n\nexport default api;\n","import { useState, useEffect, useReducer, useContext } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_WHATSAPPS\") {\n    const whatsApps = action.payload;\n\n    return [...whatsApps];\n  }\n\n  if (action.type === \"UPDATE_WHATSAPPS\") {\n    const whatsApp = action.payload;\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\n\n    if (whatsAppIndex !== -1) {\n      state[whatsAppIndex] = whatsApp;\n      return [...state];\n    } else {\n      return [whatsApp, ...state];\n    }\n  }\n\n  if (action.type === \"UPDATE_SESSION\") {\n    const whatsApp = action.payload;\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\n\n    if (whatsAppIndex !== -1) {\n      state[whatsAppIndex].status = whatsApp.status;\n      state[whatsAppIndex].updatedAt = whatsApp.updatedAt;\n      state[whatsAppIndex].qrcode = whatsApp.qrcode;\n      state[whatsAppIndex].retries = whatsApp.retries;\n      return [...state];\n    } else {\n      return [...state];\n    }\n  }\n\n  if (action.type === \"DELETE_WHATSAPPS\") {\n    const whatsAppId = action.payload;\n\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsAppId);\n    if (whatsAppIndex !== -1) {\n      state.splice(whatsAppIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useWhatsApps = () => {\n  const [whatsApps, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(true);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    setLoading(true);\n    const fetchSession = async () => {\n      try {\n        const { data } = await api.get(\"/whatsapp/?session=0\");\n        dispatch({ type: \"LOAD_WHATSAPPS\", payload: data });\n        setLoading(false);\n      } catch (err) {\n        setLoading(false);\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-whatsapp`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_WHATSAPPS\", payload: data.whatsapp });\n      }\n    });\n\n    socket.on(`company-${companyId}-whatsapp`, (data) => {\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_WHATSAPPS\", payload: data.whatsappId });\n      }\n    });\n\n    socket.on(`company-${companyId}-whatsappSession`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_SESSION\", payload: data.session });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager]);\n\n  return { whatsApps, loading };\n};\n\nexport default useWhatsApps;\n","import React, { createContext } from \"react\";\n\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst WhatsAppsContext = createContext();\n\nconst WhatsAppsProvider = ({ children }) => {\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\treturn (\n\t\t<WhatsAppsContext.Provider value={{ whatsApps, loading }}>\n\t\t\t{children}\n\t\t</WhatsAppsContext.Provider>\n\t);\n};\n\nexport { WhatsAppsContext, WhatsAppsProvider };\n","import { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { has, isArray } from \"lodash\";\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport moment from \"moment\";\nconst useAuth = () => {\n  const history = useHistory();\n  const [isAuth, setIsAuth] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState({});\n\n  api.interceptors.request.use(\n    (config) => {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        config.headers[\"Authorization\"] = `Bearer ${JSON.parse(token)}`;\n        setIsAuth(true);\n      }\n      return config;\n    },\n    (error) => {\n      Promise.reject(error);\n    }\n  );\n\n  api.interceptors.response.use(\n    (response) => {\n      return response;\n    },\n    async (error) => {\n      const originalRequest = error.config;\n      if (error?.response?.status === 403 && !originalRequest._retry) {\n        originalRequest._retry = true;\n\n        const { data } = await api.post(\"/auth/refresh_token\");\n        if (data) {\n          localStorage.setItem(\"token\", JSON.stringify(data.token));\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        }\n        return api(originalRequest);\n      }\n      if (error?.response?.status === 401) {\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"companyId\");\n        api.defaults.headers.Authorization = undefined;\n        setIsAuth(false);\n      }\n      return Promise.reject(error);\n    }\n  );\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    (async () => {\n      if (token) {\n        try {\n          const { data } = await api.post(\"/auth/refresh_token\");\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n          setIsAuth(true);\n          setUser(data.user);\n        } catch (err) {\n          toastError(err);\n        }\n      }\n      setLoading(false);\n    })();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    if (companyId) {\n   \n      const socket = socketManager.getSocket(companyId);\n\n      socket.on(`company-${companyId}-user`, (data) => {\n        if (data.action === \"update\" && data.user.id === user.id) {\n          setUser(data.user);\n        }\n      });\n    \n    \n    return () => {\n      socket.disconnect();\n    };\n  }\n  }, [socketManager, user]);\n\n  const handleLogin = async (userData) => {\n    setLoading(true);\n\n    try {\n      const { data } = await api.post(\"/auth/login\", userData);\n      const {\n        user: { companyId, id, company },\n      } = data;\n\n      if (has(company, \"settings\") && isArray(company.settings)) {\n        const setting = company.settings.find(\n          (s) => s.key === \"campaignsEnabled\"\n        );\n        if (setting && setting.value === \"true\") {\n          localStorage.setItem(\"cshow\", null); //regra pra exibir campanhas\n        }\n      }\n\n      moment.locale('pt-br');\n      const dueDate = data.user.company.dueDate;\n      const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n      const vencimento = moment(dueDate).format(\"DD/MM/yyyy\");\n\n      var diff = moment(dueDate).diff(moment(moment()).format());\n\n      var before = moment(moment().format()).isBefore(dueDate);\n      var dias = moment.duration(diff).asDays();\n\n      if (before === true) {\n        localStorage.setItem(\"token\", JSON.stringify(data.token));\n        localStorage.setItem(\"companyId\", companyId);\n        localStorage.setItem(\"userId\", id);\n        localStorage.setItem(\"companyDueDate\", vencimento);\n        api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        setUser(data.user);\n        setIsAuth(true);\n        toast.success(i18n.t(\"auth.toasts.success\"));\n        if (Math.round(dias) < 5) {\n          toast.warn(`Sua assinatura vence em ${Math.round(dias)} ${Math.round(dias) === 1 ? 'dia' : 'dias'} `);\n        }\n        history.push(\"/tickets\");\n        setLoading(false);\n      } else {\n        toastError(`Opss! Sua assinatura venceu ${vencimento}.\nEntre em contato com o Suporte para mais informações! `);\n        setLoading(false);\n      }\n\n      //quebra linha \n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    setLoading(true);\n\n    try {\n      await api.delete(\"/auth/logout\");\n      setIsAuth(false);\n      setUser({});\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"companyId\");\n      localStorage.removeItem(\"userId\");\n      localStorage.removeItem(\"cshow\");\n      api.defaults.headers.Authorization = undefined;\n      setLoading(false);\n      history.push(\"/login\");\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const getCurrentUserInfo = async () => {\n    try {\n      const { data } = await api.get(\"/auth/me\");\n      return data;\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return {\n    isAuth,\n    user,\n    loading,\n    handleLogin,\n    handleLogout,\n    getCurrentUserInfo,\n  };\n};\n\nexport default useAuth;\n","import React, { createContext } from \"react\";\n\nimport useAuth from \"../../hooks/useAuth.js\";\n\nconst AuthContext = createContext();\n\nconst AuthProvider = ({ children }) => {\n\tconst { loading, user, isAuth, handleLogin, handleLogout } = useAuth();\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{ loading, user, isAuth, handleLogin, handleLogout }}\n\t\t>\n\t\t\t{children}\n\t\t</AuthContext.Provider>\n\t);\n};\n\nexport { AuthContext, AuthProvider };\n","const rules = {\n\tuser: {\n\t\tstatic: [],\n\t},\n\n\tadmin: {\n\t\tstatic: [\n\t\t\t\"dashboard:view\",\n\t\t\t\"drawer-admin-items:view\",\n\t\t\t\"tickets-manager:showall\",\n\t\t\t\"user-modal:editProfile\",\n\t\t\t\"user-modal:editQueues\",\n\t\t\t\"ticket-options:deleteTicket\",\n\t\t\t\"contacts-page:deleteContact\",\n\t\t\t\"connections-page:actionButtons\",\n\t\t\t\"connections-page:addConnection\",\n\t\t\t\"connections-page:editOrDeleteConnection\"\n\t\t],\n\t},\n};\n\nexport default rules;\n","import rules from \"../../rules\";\n\nconst check = (role, action, data) => {\n\tconst permissions = rules[role];\n\tif (!permissions) {\n\t\t// role is not present in the rules\n\t\treturn false;\n\t}\n\n\tconst staticPermissions = permissions.static;\n\n\tif (staticPermissions && staticPermissions.includes(action)) {\n\t\t// static rule not provided for action\n\t\treturn true;\n\t}\n\n\tconst dynamicPermissions = permissions.dynamic;\n\n\tif (dynamicPermissions) {\n\t\tconst permissionCondition = dynamicPermissions[action];\n\t\tif (!permissionCondition) {\n\t\t\t// dynamic rule not provided for action\n\t\t\treturn false;\n\t\t}\n\n\t\treturn permissionCondition(data);\n\t}\n\treturn false;\n};\n\nconst Can = ({ role, perform, data, yes, no }) =>\n\tcheck(role, perform, data) ? yes() : no();\n\nCan.defaultProps = {\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport { Can };\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: '2rem'\n  },\n  inputContainer: {\n    display: 'flex',\n    width: '100%',\n    marginBottom: '1rem'\n  },\n  input: {\n    flexGrow: 1,\n    marginRight: '1rem'\n  },\n  listContainer: {\n    width: '100%',\n    height: '100%',\n    marginTop: '1rem',\n    backgroundColor: '#f5f5f5',\n    borderRadius: '5px',\n  },\n  list: {\n    marginBottom: '5px'\n  }\n});\n\nconst ToDoList = () => {\n  const classes = useStyles();\n\n  const [task, setTask] = useState('');\n  const [tasks, setTasks] = useState([]);\n  const [editIndex, setEditIndex] = useState(-1);\n\n  useEffect(() => {\n    const savedTasks = localStorage.getItem('tasks');\n    if (savedTasks) {\n      setTasks(JSON.parse(savedTasks));\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('tasks', JSON.stringify(tasks));\n  }, [tasks]);\n\n  const handleTaskChange = (event) => {\n    setTask(event.target.value);\n  };\n\n  const handleAddTask = () => {\n    if (!task.trim()) {\n      // Impede que o usuário crie uma tarefa sem texto\n      return;\n    }\n\n    const now = new Date();\n    if (editIndex >= 0) {\n      // Editar tarefa existente\n      const newTasks = [...tasks];\n      newTasks[editIndex] = {text: task, updatedAt: now, createdAt: newTasks[editIndex].createdAt};\n      setTasks(newTasks);\n      setTask('');\n      setEditIndex(-1);\n    } else {\n      // Adicionar nova tarefa\n      setTasks([...tasks, {text: task, createdAt: now, updatedAt: now}]);\n      setTask('');\n    }\n  };\n\n  const handleEditTask = (index) => {\n    setTask(tasks[index].text);\n    setEditIndex(index);\n  };\n\n  const handleDeleteTask = (index) => {\n    const newTasks = [...tasks];\n    newTasks.splice(index, 1);\n    setTasks(newTasks);\n  };\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.inputContainer}>\n        <TextField\n          className={classes.input}\n          label=\"Nova tarefa\"\n          value={task}\n          onChange={handleTaskChange}\n          variant=\"outlined\"\n        />\n        <Button variant=\"contained\" color=\"primary\" onClick={handleAddTask}>\n          {editIndex >= 0 ? 'Salvar' : 'Adicionar'}\n        </Button>\n      </div>\n      <div className={classes.listContainer}>\n        <List>\n          {tasks.map((task, index) => (\n            <ListItem key={index} className={classes.list}>\n              <ListItemText primary={task.text} secondary={task.updatedAt.toLocaleString()} />\n              <ListItemSecondaryAction>\n                <IconButton onClick={() => handleEditTask(index)}>\n                  <EditIcon />\n                </IconButton>\n                <IconButton onClick={() => handleDeleteTask(index)}>\n                  <DeleteIcon />\n                </IconButton>\n              </ListItemSecondaryAction>\n            </ListItem>\n          ))}\n        </List>\n      </div>\n    </div>\n  );\n};\n\n\nexport default ToDoList;\n","import api, { openApi } from \"../../services/api\";\n\nconst usePlans = () => {\n\n    const getPlanList = async (params) => {\n        const { data } = await openApi.request({\n            url: '/plans/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/plans/all',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const finder = async (id) => {\n        const { data } = await api.request({\n            url: `/plans/${id}`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/plans',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/plans/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/plans/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n    \n    const getPlanCompany = async (params, id) => {\n        const { data } = await api.request({\n            url: `/companies/listPlan/${id}`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n    \n    const register = async (params) => {\n        const { data } = await api.request({\n            url: '/plans/register',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        getPlanList,\n        list,\n        save,\n        update,\n        finder,\n        remove,\n        getPlanCompany,\n        register\n    }\n}\n\nexport default usePlans;","import api from \"../../services/api\";\n\nconst useVersion = () => {\n\n    const getVersion = async () => {\n        const { data } = await api.request({\n            url: '/version',\n            method: 'GET',\n        });\n        return data;\n    }\n\n    return {\n        getVersion\n    }\n}\n\nexport default useVersion;\n\n\n\n","import React, { useContext, useEffect, useReducer, useState } from \"react\";\nimport { Link as RouterLink, useHistory } from \"react-router-dom\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { Badge, Collapse, List } from \"@material-ui/core\";\nimport DashboardOutlinedIcon from \"@material-ui/icons/DashboardOutlined\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SyncAltIcon from \"@material-ui/icons/SyncAlt\";\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\nimport PeopleAltOutlinedIcon from \"@material-ui/icons/PeopleAltOutlined\";\nimport ContactPhoneOutlinedIcon from \"@material-ui/icons/ContactPhoneOutlined\";\nimport AccountTreeOutlinedIcon from \"@material-ui/icons/AccountTreeOutlined\";\nimport FlashOnIcon from \"@material-ui/icons/FlashOn\";\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\nimport CodeRoundedIcon from \"@material-ui/icons/CodeRounded\";\nimport EventIcon from \"@material-ui/icons/Event\";\nimport LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport ListIcon from \"@material-ui/icons/ListAlt\";\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport LocalAtmIcon from '@material-ui/icons/LocalAtm';\nimport RotateRight from \"@material-ui/icons/RotateRight\";\nimport { i18n } from \"../translate/i18n\";\nimport { WhatsAppsContext } from \"../context/WhatsApp/WhatsAppsContext\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport LoyaltyRoundedIcon from '@material-ui/icons/LoyaltyRounded';\nimport { Can } from \"../components/Can\";\nimport { SocketContext } from \"../context/Socket/SocketContext\";\nimport { isArray } from \"lodash\";\nimport TableChartIcon from '@material-ui/icons/TableChart';\nimport api from \"../services/api\";\nimport BorderColorIcon from '@material-ui/icons/BorderColor';\nimport ToDoList from \"../pages/ToDoList/\";\nimport toastError from \"../errors/toastError\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AllInclusive, AttachFile, BlurCircular, Description, DeviceHubOutlined, Schedule } from '@material-ui/icons';\nimport usePlans from \"../hooks/usePlans\";\nimport Typography from \"@material-ui/core/Typography\";\nimport useVersion from \"../hooks/useVersion\";\n\nconst useStyles = makeStyles((theme) => ({\n  ListSubheader: {\n    height: 26,\n    marginTop: \"-15px\",\n    marginBottom: \"-10px\",\n  },\n    logoutButton: {\n    borderRadius: 10,\n    marginTop: 10,\n    backgroundColor: theme.palette.sair.main,\n    color: theme.palette.text.sair,\n\t},\n}));\n\n\nfunction ListItemLink(props) {\n  const { icon, primary, to, className } = props;\n\n  const renderLink = React.useMemo(\n    () =>\n      React.forwardRef((itemProps, ref) => (\n        <RouterLink to={to} ref={ref} {...itemProps} />\n      )),\n    [to]\n  );\n\n  return (\n    <li>\n      <ListItem button dense component={renderLink} className={className}>\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n        <ListItemText primary={primary} />\n      </ListItem>\n    </li>\n  );\n}\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CHATS\") {\n    const chats = action.payload;\n    const newChats = [];\n\n    if (isArray(chats)) {\n      chats.forEach((chat) => {\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\n        if (chatIndex !== -1) {\n          state[chatIndex] = chat;\n        } else {\n          newChats.push(chat);\n        }\n      });\n    }\n\n    return [...state, ...newChats];\n  }\n\n  if (action.type === \"UPDATE_CHATS\") {\n    const chat = action.payload;\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\n\n    if (chatIndex !== -1) {\n      state[chatIndex] = chat;\n      return [...state];\n    } else {\n      return [chat, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CHAT\") {\n    const chatId = action.payload;\n\n    const chatIndex = state.findIndex((u) => u.id === chatId);\n    if (chatIndex !== -1) {\n      state.splice(chatIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n\n  if (action.type === \"CHANGE_CHAT\") {\n    const changedChats = state.map((chat) => {\n      if (chat.id === action.payload.chat.id) {\n        return action.payload.chat;\n      }\n      return chat;\n    });\n    return changedChats;\n  }\n};\n\nconst MainListItems = (props) => {\n  const classes = useStyles();\n  const { drawerClose, collapsed } = props;\n  const { whatsApps } = useContext(WhatsAppsContext);\n  const { user, handleLogout } = useContext(AuthContext);\n  const [connectionWarning, setConnectionWarning] = useState(false);\n  const [openCampaignSubmenu, setOpenCampaignSubmenu] = useState(false);\n  const [showCampaigns, setShowCampaigns] = useState(false);\n  const [showKanban, setShowKanban] = useState(false);\n  const [showOpenAi, setShowOpenAi] = useState(false);\n  const [showIntegrations, setShowIntegrations] = useState(false); const history = useHistory();\n  const [showSchedules, setShowSchedules] = useState(false);\n  const [showInternalChat, setShowInternalChat] = useState(false);\n  const [showExternalApi, setShowExternalApi] = useState(false);\n\n\n  const [invisible, setInvisible] = useState(true);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam] = useState(\"\");\n  const [chats, dispatch] = useReducer(reducer, []);\n  const { getPlanCompany } = usePlans();\n  \n  const [version, setVersion] = useState(false);\n  \n  \n  const { getVersion } = useVersion();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    async function fetchVersion() {\n      const _version = await getVersion();\n      setVersion(_version.version);\n    }\n    fetchVersion();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n \n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const planConfigs = await getPlanCompany(undefined, companyId);\n\n      setShowCampaigns(planConfigs.plan.useCampaigns);\n      setShowKanban(planConfigs.plan.useKanban);\n      setShowOpenAi(planConfigs.plan.useOpenAi);\n      setShowIntegrations(planConfigs.plan.useIntegrations);\n      setShowSchedules(planConfigs.plan.useSchedules);\n      setShowInternalChat(planConfigs.plan.useInternalChat);\n      setShowExternalApi(planConfigs.plan.useExternalApi);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      fetchChats();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"new-message\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n      if (data.action === \"update\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager]);\n\n  useEffect(() => {\n    let unreadsCount = 0;\n    if (chats.length > 0) {\n      for (let chat of chats) {\n        for (let chatUser of chat.users) {\n          if (chatUser.userId === user.id) {\n            unreadsCount += chatUser.unreads;\n          }\n        }\n      }\n    }\n    if (unreadsCount > 0) {\n      setInvisible(false);\n    } else {\n      setInvisible(true);\n    }\n  }, [chats, user.id]);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"cshow\")) {\n      setShowCampaigns(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      if (whatsApps.length > 0) {\n        const offlineWhats = whatsApps.filter((whats) => {\n          return (\n            whats.status === \"qrcode\" ||\n            whats.status === \"PAIRING\" ||\n            whats.status === \"DISCONNECTED\" ||\n            whats.status === \"TIMEOUT\" ||\n            whats.status === \"OPENING\"\n          );\n        });\n        if (offlineWhats.length > 0) {\n          setConnectionWarning(true);\n        } else {\n          setConnectionWarning(false);\n        }\n      }\n    }, 2000);\n    return () => clearTimeout(delayDebounceFn);\n  }, [whatsApps]);\n\n  const fetchChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleClickLogout = () => {\n    //handleCloseMenu();\n    handleLogout();\n  };\n\n  return (\n    <div onClick={drawerClose}>\n      <Can\n        role={user.profile}\n        perform={\"drawer-service-items:view\"}\n        style={{\n          overflowY: \"scroll\",\n        }}\n        no={() => (\n          <>\n            <ListSubheader\n              hidden={collapsed}\n              style={{\n                position: \"relative\",\n                fontSize: \"17px\",\n                textAlign: \"left\",\n                paddingLeft: 20\n              }}\n              inset\n              color=\"inherit\">\n              <Typography variant=\"overline\" style={{ fontWeight: 'normal' }}>  {i18n.t(\"Atendimento\")} </Typography>\n            </ListSubheader>\n            <>\n\n              <ListItemLink\n                to=\"/tickets\"\n                primary={i18n.t(\"mainDrawer.listItems.tickets\")}\n                icon={<WhatsAppIcon />}\n              />\n              <ListItemLink\n                to=\"/quick-messages\"\n                primary={i18n.t(\"mainDrawer.listItems.quickMessages\")}\n                icon={<FlashOnIcon />}\n              />\n              {showKanban && (\n                <ListItemLink\n                  to=\"/kanban\"\n                  primary=\"Kanban\"\n                  icon={<LoyaltyRoundedIcon />}\n                />\n              )}\n              <ListItemLink\n                to=\"/todolist\"\n                primary={i18n.t(\"Tarefas\")}\n                icon={<BorderColorIcon />}\n              />\n              <ListItemLink\n                to=\"/contacts\"\n                primary={i18n.t(\"mainDrawer.listItems.contacts\")}\n                icon={<ContactPhoneOutlinedIcon />}\n              />\n              {showSchedules && (\n                <>\n                  <ListItemLink\n                    to=\"/schedules\"\n                    primary={i18n.t(\"mainDrawer.listItems.schedules\")}\n                    icon={<Schedule />}\n                  />\n                </>\n              )}\n              <ListItemLink\n                to=\"/tags\"\n                primary={i18n.t(\"mainDrawer.listItems.tags\")}\n                icon={<LocalOfferIcon />}\n              />\n              {showInternalChat && (\n                <>\n                  <ListItemLink\n                    to=\"/chats\"\n                    primary={i18n.t(\"mainDrawer.listItems.chats\")}\n                    icon={\n                      <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\n                        <ForumIcon />\n                      </Badge>\n                    }\n                  />\n                </>\n              )}\n              <ListItemLink\n                to=\"/helps\"\n                primary={i18n.t(\"mainDrawer.listItems.helps\")}\n                icon={<HelpOutlineIcon />}\n              />\n            </>\n          </>\n        )}\n      />\n\n      <Can\n        role={user.profile}\n        perform={\"drawer-admin-items:view\"}\n        yes={() => (\n          <>\n            <ListSubheader\n              hidden={collapsed}\n              style={{\n                position: \"relative\",\n                fontSize: \"17px\",\n                textAlign: \"left\",\n                paddingLeft: 20\n              }}\n              inset\n              color=\"inherit\">\n\n              <Typography variant=\"overline\" style={{ fontWeight: 'normal' }}>  {i18n.t(\"Gerência\")} </Typography>\n            </ListSubheader>\n\n            <ListItemLink\n              small\n              to=\"/\"\n              primary=\"Dashboard\"\n              icon={<DashboardOutlinedIcon />}\n            />\n          </>\n        )}\n      />\n      <Can\n        role={user.profile}\n        perform=\"drawer-admin-items:view\"\n        yes={() => (\n          <>\n\n            {showCampaigns && (\n              <>\n                <ListSubheader\n                  hidden={collapsed}\n                  style={{\n                    position: \"relative\",\n                    fontSize: \"17px\",\n                    textAlign: \"left\",\n                    paddingLeft: 20\n                  }}\n                  inset\n                  color=\"inherit\">\n                  <Typography variant=\"overline\" style={{ fontWeight: 'normal' }}>  {i18n.t(\"Campanhas\")} </Typography>\n                </ListSubheader>\n\n                <ListItemLink\n                  small\n                  to=\"/campaigns\"\n                  primary={i18n.t(\"Listagem\")}\n                  icon={<ListIcon />}\n                />\n\n                <ListItemLink\n                  small\n                  to=\"/contact-lists\"\n                  primary={i18n.t(\"Listas de Contatos\")}\n                  icon={<PeopleIcon />}\n                />\n\n\n                <ListItemLink\n                  small\n                  to=\"/campaigns-config\"\n                  primary={i18n.t(\"Configurações\")}\n                  icon={<ListIcon />}\n                />\n\n\n                {/** \n                <ListItem\n                  button\n                  onClick={() => setOpenCampaignSubmenu((prev) => !prev)}\n                >\n                  <ListItemIcon>\n                    <EventAvailableIcon />\n                  </ListItemIcon>\n                  <ListItemText\n                    primary={i18n.t(\"mainDrawer.listItems.campaigns\")}\n                  />\n                  {openCampaignSubmenu ? (\n                    <ExpandLessIcon />\n                  ) : (\n                    <ExpandMoreIcon />\n                  )}\n                </ListItem>\n                <Collapse\n                  style={{ paddingLeft: 15 }}\n                  in={openCampaignSubmenu}\n                  timeout=\"auto\"\n                  unmountOnExit\n                >\n                  <List component=\"div\" disablePadding>\n                    \n                    <ListItem onClick={() => history.push(\"/campaigns\")} button>\n                      <ListItemIcon>\n                        <ListIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Listagem\" />\n                    </ListItem>\n\n                    <ListItem\n                      onClick={() => history.push(\"/contact-lists\")}\n                      button\n                    >\n                      <ListItemIcon>\n                        <PeopleIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Listas de Contatos\" />\n                    </ListItem>\n\n                    <ListItem\n                      onClick={() => history.push(\"/campaigns-config\")}\n                      button\n                    >\n                      <ListItemIcon>\n                        <SettingsOutlinedIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Configurações\" />\n                    </ListItem>\n\n                  </List>\n                </Collapse>\n                */}\n              </>\n            )}\n\n            <ListSubheader\n              hidden={collapsed}\n              style={{\n                position: \"relative\",\n                fontSize: \"17px\",\n                textAlign: \"left\",\n                paddingLeft: 20\n              }}\n              inset\n              color=\"inherit\">\n              <Typography variant=\"overline\" style={{ fontWeight: 'normal' }}>  {i18n.t(\"Administração\")} </Typography>\n            </ListSubheader>\n\n            {user.super && (\n              <ListItemLink\n                to=\"/announcements\"\n                primary={i18n.t(\"mainDrawer.listItems.annoucements\")}\n                icon={<AnnouncementIcon />}\n              />\n            )}\n            {showOpenAi && (\n              <ListItemLink\n                to=\"/prompts\"\n                primary={i18n.t(\"mainDrawer.listItems.prompts\")}\n                icon={<AllInclusive />}\n              />\n            )}\n\n            {showIntegrations && (\n              <ListItemLink\n                to=\"/queue-integration\"\n                primary={i18n.t(\"mainDrawer.listItems.queueIntegration\")}\n                icon={<DeviceHubOutlined />}\n              />\n            )}\n            <ListItemLink\n              to=\"/connections\"\n              primary={i18n.t(\"mainDrawer.listItems.connections\")}\n              icon={\n                <Badge badgeContent={connectionWarning ? \"!\" : 0} color=\"error\">\n                  <SyncAltIcon />\n                </Badge>\n              }\n            />\n            <ListItemLink\n              to=\"/files\"\n              primary={i18n.t(\"mainDrawer.listItems.files\")}\n              icon={<AttachFile />}\n            />\n            <ListItemLink\n              to=\"/queues\"\n              primary={i18n.t(\"mainDrawer.listItems.queues\")}\n              icon={<AccountTreeOutlinedIcon />}\n            />\n            <ListItemLink\n              to=\"/users\"\n              primary={i18n.t(\"mainDrawer.listItems.users\")}\n              icon={<PeopleAltOutlinedIcon />}\n            />\n            {showExternalApi && (\n              <>\n                <ListItemLink\n                  to=\"/messages-api\"\n                  primary={i18n.t(\"mainDrawer.listItems.messagesAPI\")}\n                  icon={<CodeRoundedIcon />}\n                />\n              </>\n            )}\n            <ListItemLink\n              to=\"/financeiro\"\n              primary={i18n.t(\"mainDrawer.listItems.financeiro\")}\n              icon={<LocalAtmIcon />}\n            />\n\n            <ListItemLink\n              to=\"/settings\"\n              primary={i18n.t(\"mainDrawer.listItems.settings\")}\n              icon={<SettingsOutlinedIcon />}\n            />\n\t\t\t\n\t\t\t\n            {!collapsed && (\n              <React.Fragment>\n                <Divider />\n              {/* \n              // IMAGEM NO MENU\n              <Hidden only={['sm', 'xs']}>\n                <img style={{ width: \"100%\", padding: \"10px\" }} src={logo} alt=\"image\" />            \n              </Hidden> \n              */}\n              <Typography style={{ fontSize: \"12px\", padding: \"10px\", textAlign: \"right\", fontWeight: \"bold\" }}>\n                Versão: {`${version}`}\n\n                </Typography>\n              </React.Fragment>\n            )}\n          </>\n        )}\n      />\n\t  <Divider />\n\t  <li>\n\t\t<ListItem\n          button\n          dense\n          onClick={handleClickLogout}\n          className={classes.logoutButton}\n        >\n          <ListItemIcon>\n            <RotateRight />\n          </ListItemIcon>\n          <ListItemText primary={i18n.t(\"Sair\")} />\n        </ListItem>\n      </li>\n    </div>\n  );\n};\n\nexport default MainListItems;\n","import React, { useState, useEffect, createContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst TicketsContext = createContext();\n\nconst TicketsContextProvider = ({ children }) => {\n\tconst [currentTicket, setCurrentTicket] = useState({ id: null, code: null });\n    const history = useHistory();\n\n    useEffect(() => {\n        if (currentTicket.id !== null) {\n            history.push(`/tickets/${currentTicket.uuid}`);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [currentTicket])\n\n\treturn (\n\t\t<TicketsContext.Provider\n\t\t\tvalue={{ currentTicket, setCurrentTicket }}\n\t\t>\n\t\t\t{children}\n\t\t</TicketsContext.Provider>\n\t);\n};\n\nexport { TicketsContext, TicketsContextProvider };\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport { CircularProgress, Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tbutton: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ButtonWithSpinner = ({ loading, children, ...rest }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Button className={classes.button} disabled={loading} {...rest}>\n\t\t\t{children}\n\t\t\t{loading && (\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t)}\n\t\t</Button>\n\t);\n};\n\nexport default ButtonWithSpinner;\n","import Avatar from \"@material-ui/core/Avatar\";\nimport Markdown from \"markdown-to-jsx\";\nimport React from \"react\";\n\nconst elements = [\n\t\"a\",\n\t\"abbr\",\n\t\"address\",\n\t\"area\",\n\t\"article\",\n\t\"aside\",\n\t\"audio\",\n\t\"b\",\n\t\"base\",\n\t\"bdi\",\n\t\"bdo\",\n\t\"big\",\n\t\"blockquote\",\n\t\"body\",\n\t\"br\",\n\t\"button\",\n\t\"canvas\",\n\t\"caption\",\n\t\"cite\",\n\t\"code\",\n\t\"col\",\n\t\"colgroup\",\n\t\"data\",\n\t\"datalist\",\n\t\"dd\",\n\t\"del\",\n\t\"details\",\n\t\"dfn\",\n\t\"dialog\",\n\t\"div\",\n\t\"dl\",\n\t\"dt\",\n\t\"em\",\n\t\"embed\",\n\t\"fieldset\",\n\t\"figcaption\",\n\t\"figure\",\n\t\"footer\",\n\t\"form\",\n\t\"h1\",\n\t\"h2\",\n\t\"h3\",\n\t\"h4\",\n\t\"h5\",\n\t\"h6\",\n\t\"head\",\n\t\"header\",\n\t\"hgroup\",\n\t\"hr\",\n\t\"html\",\n\t\"i\",\n\t\"iframe\",\n\t\"img\",\n\t\"input\",\n\t\"ins\",\n\t\"kbd\",\n\t\"keygen\",\n\t\"label\",\n\t\"legend\",\n\t\"li\",\n\t\"link\",\n\t\"main\",\n\t\"map\",\n\t\"mark\",\n\t\"marquee\",\n\t\"menu\",\n\t\"menuitem\",\n\t\"meta\",\n\t\"meter\",\n\t\"nav\",\n\t\"noscript\",\n\t\"object\",\n\t\"ol\",\n\t\"optgroup\",\n\t\"option\",\n\t\"output\",\n\t\"p\",\n\t\"param\",\n\t\"picture\",\n\t\"pre\",\n\t\"progress\",\n\t\"q\",\n\t\"rp\",\n\t\"rt\",\n\t\"ruby\",\n\t\"s\",\n\t\"samp\",\n\t\"script\",\n\t\"section\",\n\t\"select\",\n\t\"small\",\n\t\"source\",\n\t\"span\",\n\t\"strong\",\n\t\"style\",\n\t\"sub\",\n\t\"summary\",\n\t\"sup\",\n\t\"table\",\n\t\"tbody\",\n\t\"td\",\n\t\"textarea\",\n\t\"tfoot\",\n\t\"th\",\n\t\"thead\",\n\t\"time\",\n\t\"title\",\n\t\"tr\",\n\t\"track\",\n\t\"u\",\n\t\"ul\",\n\t\"var\",\n\t\"video\",\n\t\"wbr\",\n\n\t// SVG\n\t\"circle\",\n\t\"clipPath\",\n\t\"defs\",\n\t\"ellipse\",\n\t\"foreignObject\",\n\t\"g\",\n\t\"image\",\n\t\"line\",\n\t\"linearGradient\",\n\t\"marker\",\n\t\"mask\",\n\t\"path\",\n\t\"pattern\",\n\t\"polygon\",\n\t\"polyline\",\n\t\"radialGradient\",\n\t\"rect\",\n\t\"stop\",\n\t\"svg\",\n\t\"text\",\n\t\"tspan\",\n];\n\nconst allowedElements = [\"a\", \"b\", \"strong\", \"em\", \"u\", \"code\", \"del\"];\n\nconst CustomLink = ({ children, ...props }) => (\n\t<a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t{children}\n\t</a>\n);\n\nconst MarkdownWrapper = ({ children, message }) => {\n\tlet type = message?.mediaType;\n\tconsole.log('type', type)\n\tconst boldRegex = /\\*(.*?)\\*/g;\n\tconst tildaRegex = /~(.*?)~/g;\n\n\tif (children && boldRegex.test(children)) {\n\t\tchildren = children.replace(boldRegex, \"**$1**\");\n\t}\n\tif (children && tildaRegex.test(children)) {\n\t\tchildren = children.replace(tildaRegex, \"~~$1~~\");\n\t}\n\n\tconst options = React.useMemo(() => {\n\t\tconst markdownOptions = {\n\t\t\tdisableParsingRawHTML: true,\n\t\t\tforceInline: true,\n\t\t\toverrides: {\n\t\t\t\ta: { component: CustomLink },\n\t\t\t},\n\t\t};\n\n\t\telements.forEach(element => {\n\t\t\tif (!allowedElements.includes(element)) {\n\t\t\t\tmarkdownOptions.overrides[element] = el => el.children || null;\n\t\t\t}\n\t\t});\n\n\t\treturn markdownOptions;\n\t}, []);\n\n\tif (!children) return null;\n\tconst regex = /(?<=FN:)(.*)(?=\\n)|(?<=TEL;.*:)(.*)(?=\\n)/g;\n\n\t// Executar a expressão regular na string do vCard\n\tconst matches = children.match(regex);\n\n\t// Extrair o nome e o número de telefone\n\tconst contact = matches ? matches[0] : '';\n\tconst number = matches ? matches[1] : '';\n\tconst vcardStyle = {\n\t\tbackgroundColor: 'rgb(74 222 128)',\n\t\tborder: '1.5px solid green',\n\t\tborderRadius: '4px',\n\t\twidth: '300px',\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tpadding: '5px 0',\n\t};\n\n\tconst avatar = {\n\t\tmarginLeft: '10px',\n\t};\n\n\tconst infoStyle = {\n\t\tmarginLeft: '10px',\n\t};\n\tconst p = {\n\t\tmargin: '2px',\n\t}\n\n\n\tif (type === 'contactMessage') {\n\t\treturn (\n\t\t\t<div style={vcardStyle}>\n\t\t\t\t<Avatar style={avatar} src={message.contact.profilePicUrl} alt=\"contact_image\" />\n\t\t\t\t<div style={infoStyle}>\n\t\t\t\t\t<p style={p}><strong>Nome:</strong> {contact}</p>\n\t\t\t\t\t<p style={p}><strong>Número:</strong> {number}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\treturn <Markdown options={options}>{children}</Markdown>;\n};\n\nexport default MarkdownWrapper;\n","import { makeStyles } from \"@material-ui/styles\";\nimport React from \"react\";\n\nconst useStyles = makeStyles(theme => ({\n    tag: {\n        padding: \"1px 5px\",\n        borderRadius: \"3px\",\n        fontSize: \"0.8em\",\n        fontWeight: \"bold\",\n        color: \"#FFF\",\n        marginRight: \"5px\",\n        whiteSpace: \"nowrap\"\n    }\n}));\n\nconst ContactTag = ({ tag }) => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.tag} style={{ backgroundColor: tag.color, marginTop: \"2px\" }}>\n            {tag.name.toUpperCase()}\n        </div>\n    )\n}\n\nexport default ContactTag;","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport ModalImage from \"react-modal-image\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles(theme => ({\n\tmessageMedia: {\n\t\tobjectFit: \"cover\",\n\t\twidth: 250,\n\t\theight: 200,\n\t\tborderTopLeftRadius: 8,\n\t\tborderTopRightRadius: 8,\n\t\tborderBottomLeftRadius: 8,\n\t\tborderBottomRightRadius: 8,\n\t},\n}));\n\nconst ModalImageCors = ({ imageUrl }) => {\n\tconst classes = useStyles();\n\tconst [fetching, setFetching] = useState(true);\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (!imageUrl) return;\n\t\tconst fetchImage = async () => {\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\n\t\t\t\tresponseType: \"blob\",\n\t\t\t});\n\t\t\tconst url = window.URL.createObjectURL(\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\n\t\t\t);\n\t\t\tsetBlobUrl(url);\n\t\t\tsetFetching(false);\n\t\t};\n\t\tfetchImage();\n\t}, [imageUrl]);\n\n\treturn (\n\t\t<ModalImage\n\t\t\tclassName={classes.messageMedia}\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\n\t\t\talt=\"image\"\n\t\t/>\n\t);\n};\n\nexport default ModalImageCors;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst ConfirmationModal = ({ title, children, open, onClose, onConfirm }) => {\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={() => onClose(false)}\n\t\t\taria-labelledby=\"confirm-dialog\"\n\t\t>\n\t\t\t<DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\n\t\t\t<DialogContent dividers>\n\t\t\t\t<Typography>{children}</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => onClose(false)}\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tonClose(false);\n\t\t\t\t\t\tonConfirm();\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.confirm\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n\nexport default ConfirmationModal;\n","import React, { useState, createContext } from \"react\";\n\nconst ReplyMessageContext = createContext();\n\nconst ReplyMessageProvider = ({ children }) => {\n\tconst [replyingMessage, setReplyingMessage] = useState(null);\n\n\treturn (\n\t\t<ReplyMessageContext.Provider\n\t\t\tvalue={{ replyingMessage, setReplyingMessage }}\n\t\t>\n\t\t\t{children}\n\t\t</ReplyMessageContext.Provider>\n\t);\n};\n\nexport { ReplyMessageContext, ReplyMessageProvider };\n","import React, { useEffect, useState, useRef } from \"react\";\nimport {\n  Box,\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n  Paper,\n  InputBase\n} from \"@material-ui/core\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport whatsBackground from \"../../assets/wa-background.png\";\nimport { makeStyles } from \"@material-ui/core\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport api from \"../../services/api\";\nimport whatsBackgroundDark from \"../../assets/wa-background-dark.png\"\n\nconst useStyles = makeStyles((theme) => ({\n  messagesList: {\n    backgroundSize: \"370px\",\n    backgroundImage: theme.mode === 'light' ? `url(${whatsBackground})` : `url(${whatsBackgroundDark})`, //DARK MODE PLW DESIGN//\n    display: \"flex\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexGrow: 1,\n    padding: \"20px 20px 20px 20px\",\n    overflowY: \"scroll\",\n    \"@media (max-width: 600px)\": {\n      paddingBottom: \"90px\"\n    },\n    ...theme.scrollbarStyles,\n    minHeight: \"150px\",\n    minWidth: \"500px\"\n  },\n  textContentItem: {\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n  messageRight: {\n    fontSize: \"13px\",\n    marginLeft: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 510,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    whiteSpace: \"pre-wrap\",\n    alignSelf: \"flex-end\",\n    borderRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0\n  },\n  inputmsg:{\n\t  backgroundColor: theme.mode === 'light' ? '#FFF' : '#1c1c1c',\n\t  display: \"flex\",\n      width: \"100%\",\n      margin: \"10px 0px 10px 20px\",\n      borderRadius: \"10px\"\n  },\n  timestamp: {\n    fontSize: 11,\n    position: \"absolute\",\n    bottom: 0,\n    right: 5,\n    color: \"#999\"\n  },\n  titleBackground: {\n    color:'#ffff',\n    backgroundColor: \"#00796b\"  , // Cor de fundo desejada\n    marginLeft:'3px'\n  },\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n    zIndex:1\n  },\n}));\n\n// const EmojiOptions = React.forwardRef((props, ref) => {\n//   const { disabled, showEmoji, setShowEmoji, handleAddEmoji } = props;\n//   const classes = useStyles();\n\n//   return (\n//     <>\n//       <IconButton\n//         aria-label=\"emojiPicker\"\n//         component=\"span\"\n//         disabled={disabled}\n//         onClick={(e) => setShowEmoji((prevState) => !prevState)}\n//       >\n//         <MoodIcon className={classes.sendMessageIcons} />\n//       </IconButton>\n\n//       {showEmoji ? (\n//         <div ref={ref} className={classes.emojiBox}>\n//           <EmojiPicker\n//             height={700}\n//             width={400}\n//           />\n//         </div>\n//       ) : null}\n//     </>\n//   );\n// });\n\nconst EditMessageModal = ({ open, onClose, onSave, message }) => {\n  const classes = useStyles();\n  const [editedMessage, setEditedMessage] = useState(null);\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const emojiOptionsRef = useRef(null);\n  const modalRef = useRef(null);\n  \n  useEffect(() => {\n    if (open) {\n      setEditedMessage(message?.body);\n    }\n  }, [open, message]);\n\n  const handleSave = async (editedMessage) => {\n    if(editedMessage){\n      try {\n        const messages = {\n          read: 1,\n          fromMe: true,\n          mediaUrl: \"\",\n          body: editedMessage,\n          quotedMsg: null,\n        };\n        await api.post(`/messages/edit/${message.id}`,messages)\n        onClose(false)\n      } catch (err) {\n        \n      }\n    }\n  };\n\n\n  const setInputValue = (value) => {\n    let emoji = value.native;\n    setEditedMessage(editedMessage ? editedMessage + value.native : emoji);\n  };\n\n  useEffect(() => {\n    if (open) {\n      // Calculate the position for EmojiOptions inside the modal\n      if (open && modalRef.current && emojiOptionsRef.current) {\n      const modalRect = modalRef.current.getBoundingClientRect();\n      const emojiOptionsRect = emojiOptionsRef.current.getBoundingClientRect();\n      const desiredPosition = {\n        top: emojiOptionsRect.height > modalRect.height\n          ? 0\n          : modalRect.height - emojiOptionsRect.height,\n        left: modalRect.width - emojiOptionsRect.width\n      };\n      emojiOptionsRef.current.style.top = `${desiredPosition.top}px`;\n      emojiOptionsRef.current.style.left = `${desiredPosition.left}px`;\n    }\n  };\n  }, [open]);\n\n  return (\n    <Dialog\n      open={open}\n      onClose={() => onClose(false)}\n      aria-labelledby=\"edit-message-dialog\"\n      PaperProps={{\n        style: {\n          zIndex: 1 // Defina um valor alto de zIndex para garantir que o modal sobreponha outros elementos\n        },\n      }}\n      ref={modalRef}\n    >\n      <DialogTitle id=\"edit-message-dialog\" className={classes.titleBackground}>\n       <IconButton edge=\"start\" color=\"inherit\" onClick={() => onClose(false)} aria-label=\"close\">\n          <CloseIcon />\n        </IconButton>\n        Editar Mensagem\n        </DialogTitle>\n      <DialogContent style={{ padding: \"0px\"}}>\n        <Box>\n          <Box className={classes.messagesList} >\n            <Box\n              component=\"div\"\n              className={`${classes.messageRight}`}\n              style={{\n                fontStyle: \"italic\",\n                backgroundColor: \"#d9fdd3\"\n              }}\n            >\n              <Box className={classes.textContentItem}>\n                <Box component=\"div\" style={{ color:  \"#212B36\" }}>\n                  <MarkdownWrapper>{message?.body}</MarkdownWrapper>\n                </Box>\n                {/* <span className={classes.timestamp}>\n                  {format(parseISO(message?.updatedAt), \"HH:mm\")}\n                </span> */}\n              </Box>\n            </Box>\n          </Box>\n          <Paper\n\t\t   \n            component=\"form\"\n            style={{\n              p: \"2px 4px\",\n              display: \"flex\",\n              alignItems: \"center\",\n              borderRadius: \"0px\",\n              backgroundColor: \"#f0f2f5\"\n            }}\n          >\n            <Box\n\t\t\t  className={`${classes.inputmsg}`}\n            >\n              <InputBase\n                style={{ padding: \"15px 0px 15px 15px\", flex: 1 }}\n                multiline\n                maxRows={6}\n                placeholder=\"Search Google Maps\"\n                value={editedMessage}\n                onChange={(e) => setEditedMessage(e.target.value)}\n                inputProps={{ \"aria-label\": \"search google maps\" }}\n              />\n            {/* <EmojiOptions\n              ref={emojiOptionsRef}\n              handleAddEmoji={setInputValue}\n              showEmoji={showEmoji}\n              setShowEmoji={setShowEmoji}\n            /> */}\n            </Box>\n            <IconButton color=\"primary\" aria-label=\"directions\"  onClick={() => handleSave(editedMessage)}>\n              <CheckCircleIcon\n                style={{\n                  width: \"35px\",\n                  height: \"35px\",\n                  color:'#00A884'\n                }}\n              />\n            </IconButton>\n          </Paper>\n        </Box>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default EditMessageModal;","import React, { useState, createContext } from \"react\";\n\nconst ForwardMessageContext = createContext();\n\nconst ForwardMessageProvider = ({ children }) => {\n\tconst [showSelectMessageCheckbox, setShowSelectMessageCheckbox] = useState(false);\n\tconst [selectedMessages, setSelectedMessages] = useState([]);\n\tconst [forwardMessageModalOpen, setForwardMessageModalOpen] = useState(false);\n\treturn (\n\t\t<ForwardMessageContext.Provider\n\t\t\tvalue={{\n\t\t\t\tshowSelectMessageCheckbox, setShowSelectMessageCheckbox,\n\t\t\t\tselectedMessages, setSelectedMessages,\n\t\t\t\tforwardMessageModalOpen, setForwardMessageModalOpen\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</ForwardMessageContext.Provider>\n\t);\n};\n\nexport { ForwardMessageContext, ForwardMessageProvider };\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactModal = ({ open, onClose, contactId, initialValues, onSave }) => {\n\tconst classes = useStyles();\n\tconst isMounted = useRef(true);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tnumber: \"\",\n\t\temail: \"\",\n\t};\n\n\tconst [contact, setContact] = useState(initialState);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst fetchContact = async () => {\n\t\t\tif (initialValues) {\n\t\t\t\tsetContact(prevState => {\n\t\t\t\t\treturn { ...prevState, ...initialValues };\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!contactId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/contacts/${contactId}`);\n\t\t\t\tif (isMounted.current) {\n\t\t\t\t\tconsole.log(data)\n\t\t\t\t\tsetContact(data);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchContact();\n\t}, [contactId, open, initialValues]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetContact(initialState);\n\t};\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contactId) {\n\t\t\t\tawait api.put(`/contacts/${contactId}`, values);\n\t\t\t\thandleClose();\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{contactId\n\t\t\t\t\t\t? `${i18n.t(\"contactModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"contactModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={contact}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ContactSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveContact(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.mainInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.number\")}\n\t\t\t\t\t\t\t\t\tname=\"number\"\n\t\t\t\t\t\t\t\t\terror={touched.number && Boolean(errors.number)}\n\t\t\t\t\t\t\t\t\thelperText={touched.number && errors.number}\n\t\t\t\t\t\t\t\t\tplaceholder=\"5541998608485\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.whatsapp\")} {contact?.whatsapp ? contact?.whatsapp.name : \"\"}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.extraInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<FieldArray name=\"extraInfo\">\n\t\t\t\t\t\t\t\t\t{({ push, remove }) => (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{values.extraInfo &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.length > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.map((info, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraAttr}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-info`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraName\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].name`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraValue\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].value`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(index)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.extraAttr}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginTop: 8 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => push({ name: \"\", value: \"\" })}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`+ ${i18n.t(\"contactModal.buttons.addExtraInfo\")}`}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</FieldArray>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{contactId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ContactModal;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport { FormControlLabel, Switch, Typography } from \"@material-ui/core\";\n\nconst ForwardMessageModal = ({ messages, onClose, modalOpen }) => {\n\tconst [optionsContacts, setOptionsContacts] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedContact, setSelectedContact] = useState(null);\n\tconst [newContact, setNewContact] = useState({});\n\tconst [contactModalOpen, setContactModalOpen] = useState(false);\n\tconst { user } = useContext(AuthContext);\n\tconst [sending, setSending] = useState(false);\n\tconst [messageSending, setMessageSending] = useState('');\n\tconst [signMessage, setSignMessage] = useState(true);\n\n\tuseEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchContacts = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"contacts\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tsetOptionsContacts(data.contacts);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchContacts();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst history = useHistory();\n\n\tconst sleep = (ms) => {\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t};\n\n\tconst handleForwardMessage = async (contactL) => {\n\t\tconst responseList = [];\n\t\tfor (const message of messages) {\n\t\t\tsetSending(true);\n\t\t\ttry {\n\t\t\t\tsetMessageSending(message.id);\n\t\t\t\tconst response = await api.post('/message/forward', { messageId: message.id, contactId: contactL.id, signMessage: signMessage });\n\t\t\t\tresponseList.push(response);\n\t\t\t\tsleep(900);\n\t\t\t} catch (error) {\n\t\t\t\ttoastError(error);\n\t\t\t}\n\t\t}\n\t\tsetSending(false);\n\t\thandleClose();\n\t\t// history.push('/tickets');\n\t}\n\n\tconst handleSelectOption = (e, newValue) => {\n\t\tif (newValue?.number) {\n\t\t\tsetSelectedContact(newValue);\n\t\t} else if (newValue?.name) {\n\t\t\tsetNewContact({ name: newValue.name });\n\t\t\tsetContactModalOpen(true);\n\t\t}\n\t};\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedContact(null);\n\t\tsetSending(false);\n\t};\n\n\tconst handleCloseContactModal = () => {\n\t\tsetContactModalOpen(false);\n\t};\n\n\tconst renderOption = optionL => {\n\t\tif (optionL.number) {\n\t\t\treturn `${optionL.name} - ${optionL.number}`;\n\t\t} else {\n\t\t\treturn `Nenhum contato encontrado com o nome ${optionL.name}`;\n\t\t}\n\t};\n\n\tconst renderOptionLabel = optionL => {\n\t\tif (optionL.number) {\n\t\t\treturn `${optionL.name} - ${optionL.number}`;\n\t\t} else {\n\t\t\treturn `${optionL.name}`;\n\t\t}\n\t};\n\n\tconst filter = createFilterOptions({\n\t\ttrim: true,\n\t});\n\n\tconst createAddContactOption = (filterOptions, params) => {\n\t\tconst filtered = filter(filterOptions, params);\n\n\t\tif (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n\t\t\tfiltered.push({\n\t\t\t\tname: `${params.inputValue}`,\n\t\t\t});\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ContactModal\n\t\t\t\topen={contactModalOpen}\n\t\t\t\tinitialValues={newContact}\n\t\t\t\tonClose={handleCloseContactModal}\n\t\t\t></ContactModal>\n\t\t\t<Dialog open={modalOpen} onClose={handleClose}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\tEncaminhar mensagem\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\toptions={optionsContacts}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstyle={{ width: 300 }}\n\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tclearOnEscape\n\t\t\t\t\t\tgetOptionLabel={renderOptionLabel}\n\t\t\t\t\t\trenderOption={renderOption}\n\t\t\t\t\t\tfilterOptions={createAddContactOption}\n\t\t\t\t\t\tonChange={(e, newValue) => handleSelectOption(e, newValue)}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"newTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tonKeyPress={e => {\n\t\t\t\t\t\t\t\t\tif (loading || !selectedContact) return;\n\t\t\t\t\t\t\t\t\telse if (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\t// handleSaveTicket(selectedContact.id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t{sending && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t<Typography variant=\"body1\" color=\"textSecondary\">\n\t\t\t\t\t\t\t\tEnviando {messageSending}...\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tstyle={{ marginRight: 7, color: \"gray\" }}\n\t\t\t\t\t\tlabel={i18n.t(\"messagesInput.signMessage\")}\n\t\t\t\t\t\tlabelPlacement=\"start\"\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tchecked={signMessage}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetSignMessage(e.target.checked);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tname=\"showAllTickets\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tdisabled={!selectedContact || sending}\n\t\t\t\t\t\tonClick={() => handleForwardMessage(selectedContact)}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\tEncaminhar\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n};\n\nexport default ForwardMessageModal;","import React, { useState, useContext } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport AddCircleOutlineIcon from '@material-ui/icons/Add';\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu, MenuItem, MenuList, Grid, Popover, IconButton, makeStyles } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport EditMessageModal from \"../EditMessageModal\";\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\nimport ForwardModal from \"../../components/ForwardMessageModal\";\nimport {toast} from \"react-toastify\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n\ticonButton: {\n\t  padding: '4px', // Ajuste o valor conforme necessário\n\t},\n\tgridContainer: {\n\t  padding: '10px',\n\t  justifyContent: 'center',\n\t},\n\taddCircleButton: {\n\t  padding: '8px',\n\t  fontSize: '2rem', // Aumentar o tamanho do ícone\n\t  backgroundColor: 'rgb(242 242 247);',\n\t},\n\tpopoverContent: {\n\t  maxHeight: '300px', // Ajuste conforme necessário\n\t  overflowY: 'auto',\n\t  '&::-webkit-scrollbar': {\n\t\twidth: '0.4em',\n\t\theight: '0.4em',\n\t  },\n\t  '&::-webkit-scrollbar-thumb': {\n\t\tbackgroundColor: 'rgba(0,0,0,.1)',\n\t\tborderRadius: '50px',\n\t  },\n\t  '&::-webkit-scrollbar-track': {\n\t\tboxShadow: 'inset 0 0 6px rgba(0,0,0,0.00)',\n\t\twebkitBoxShadow: 'inset 0 0 6px rgba(0,0,0,0.00)',\n\t  },\n\t},\n\thideScrollbar: {\n\t  maxHeight: '300px',\n\t  overflow: 'hidden',\n\t},\n  }));\n\nconst MessageOptionsMenu = ({ message, menuOpen, handleClose, anchorEl }) => {\n\tconst classes = useStyles();\n\tconst { setReplyingMessage } = useContext(ReplyMessageContext);\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst [confirmationEditOpen, setEditMessageOpenModal] = useState(false);\n\tconst [messageEdit, setMessageEdit] = useState(false);\n\tconst [reactionAnchorEl, setReactionAnchorEl] = useState(null);\n\tconst [moreAnchorEl, setMoreAnchorEl] = useState(null);\n\tconst {\n\t\tshowSelectMessageCheckbox,\n\t\tsetShowSelectMessageCheckbox,\n\t\tselectedMessages,\n\t\tforwardMessageModalOpen,\n\t\tsetForwardMessageModalOpen } = useContext(ForwardMessageContext);\n\t\t\n\n\tconst handleDeleteMessage = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/messages/${message.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst openReactionsMenu = (event) => {\n\t\tsetReactionAnchorEl(event.currentTarget);\n\t\thandleClose();\n\t};\n\t\n\tconst closeReactionsMenu = () => {\n\t\tsetReactionAnchorEl(null);\n\t\thandleClose();\n\t};\n\n\tconst openMoreReactionsMenu = (event) => {\n\t\tsetMoreAnchorEl(event.currentTarget);\n\t\tcloseReactionsMenu();  // Fechar o primeiro popover\n\t};\n\n\tconst closeMoreReactionsMenu = () => {\n\t\tsetMoreAnchorEl(null);\n\t};\n\n\tconst handleReactToMessage = async (reactionType) => {\n\t\ttry {\n\t\t\tawait api.post(`/messages/${message.id}/reactions`, { type: reactionType });\n\t\t\ttoast.success(i18n.t(\"messageOptionsMenu.reactionSuccess\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t\tcloseMoreReactionsMenu(); // Fechar o menu de reações ao reagir\n\t};\n\n\t// Array de emojis\n    const availableReactions = [\n\t\t'😀', '😂', '❤️', '👍', '🎉', '😢', '😮', '😡', '👏', '🔥',\n        '🥳', '😎', '🤩', '😜', '🤔', '🙄', '😴', '😇', '🤯', '💩',\n        '🤗', '🤫', '🤭', '🤓', '🤪', '🤥', '🤡', '🤠', '🤢', '🤧',\n        '😷', '🤕', '🤒', '👻', '💀', '☠️', '👽', '👾', '🤖', '🎃',\n        '😺', '😸', '😹', '😻', '😼', '😽', '🙀', '😿', '😾', '🙈',\n        '🙉', '🙊', '🐵', '🐒', '🦍', '🐶', '🐕', '🐩', '🐺', '🦊',\n        '🦝', '🐱', '🐈', '🦁', '🐯', '🐅', '🐆', '🐴', '🐎', '🦄'\n\t];\t\n\n\tconst handleSetShowSelectCheckbox = () => {\n\t\tsetShowSelectMessageCheckbox(!showSelectMessageCheckbox);\n\t\thandleClose();\n\t};\n\n\tconst handleEditMessage = async () => {\n\t\ttry {\n\t\t\tawait api.put(`/messages/${message.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}\n\n\tconst hanldeReplyMessage = () => {\n\t\tsetReplyingMessage(message);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenEditMessageModal = e => {\n\t\tsetEditMessageOpenModal(true);\n\t\tsetMessageEdit(message)\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ForwardModal\n\t\t\tmodalOpen={forwardMessageModalOpen}\n\t\t\tmessages={selectedMessages}\n\t\t\tonClose={(e) => {\n\t\t\t\tsetForwardMessageModalOpen(false);\n\t\t\t\tsetShowSelectMessageCheckbox(false);\n\t\t\t}}\n\t\t\t\t/>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteMessage}\n\t\t\t>\n\t\t\t\t{i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<EditMessageModal\n\t\t\t\ttitle={i18n.t(\"messageOptionsMenu.editMessageModal.title\")}\n\t\t\t\topen={confirmationEditOpen}\n\t\t\t\tonClose={setEditMessageOpenModal}\n\t\t\t\tonSave={handleEditMessage}\n\t\t\t\tmessage={message}\n\t\t\t>\n\t\t\t\t{i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n\t\t\t</EditMessageModal>\n\t\t\t<Menu\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={handleSetShowSelectCheckbox}>\n\t\t\t\t\t{i18n.t(\"messageOptionsMenu.forward\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t{message.fromMe && (\n\t\t\t\t\t<MenuItem onClick={handleOpenEditMessageModal}>\n\t\t\t\t\t\t{i18n.t(\"messageOptionsMenu.edit\")}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t)}\n\t\t\t\t{message.fromMe && (\n\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t{i18n.t(\"messageOptionsMenu.delete\")}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t)}\n\t\t\t\t<MenuItem onClick={hanldeReplyMessage}>\n\t\t\t\t\t{i18n.t(\"messageOptionsMenu.reply\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem onClick={openReactionsMenu}>\n\t\t\t\t{i18n.t(\"messageOptionsMenu.react\")}\n\t\t\t\t</MenuItem>\n\t\t\t</Menu>\n\t\t\t<Popover\n\t\t\t\t\topen={Boolean(reactionAnchorEl)}\n\t\t\t\t\tanchorEl={reactionAnchorEl}\n\t\t\t\t\tonClose={closeReactionsMenu}\n\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\tvertical: 'bottom',\n\t\t\t\t\t\thorizontal: 'right',\n\t\t\t\t\t}}\n\t\t\t\t\ttransformOrigin={{\n\t\t\t\t\t\tvertical: 'top',\n\t\t\t\t\t\thorizontal: 'right',\n\t\t\t\t\t}}\n\t\t\t\t\tPaperProps={{\n\t\t\t\t\t\tstyle: { width: 'auto', maxWidth: '380px', borderRadius: '50px'  }\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div className={classes.hideScrollbar}>\n\t\t\t\t\t<Grid container spacing={1} className={classes.gridContainer}>\n\t\t\t\t\t\t{availableReactions.slice(0, 6).map(reaction => (\n\t\t\t\t\t\t\t<Grid item key={reaction}>\n\t\t\t\t\t\t\t\t<IconButton className={classes.iconButton} onClick={() => handleReactToMessage(reaction)}>\n\t\t\t\t\t\t\t\t\t{reaction}\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<IconButton className={classes.addCircleButton} onClick={openMoreReactionsMenu}>\n\t\t\t\t\t\t\t\t<AddCircleOutlineIcon fontSize=\"normal\" />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t</div>\n\t\t\t\t</Popover>\n\t\t\t\t<Popover\n\t\t\t\t\topen={Boolean(moreAnchorEl)}\n\t\t\t\t\tanchorEl={moreAnchorEl}\n\t\t\t\t\tonClose={closeMoreReactionsMenu}\n\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\tvertical: 'bottom',\n\t\t\t\t\t\thorizontal: 'center',\n\t\t\t\t\t}}\n\t\t\t\t\ttransformOrigin={{\n\t\t\t\t\t\tvertical: 'top',\n\t\t\t\t\t\thorizontal: 'center',\n\t\t\t\t\t}}\n\t\t\t\t\tPaperProps={{\n\t\t\t\t\t\tstyle: { width: 'auto', maxWidth: '400px', borderRadius: '6px' }\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div className={classes.popoverContent}>\n\t\t\t\t\t<Grid container spacing={1} className={classes.gridContainer}>\n\t\t\t\t\t\t{availableReactions.map(reaction => (\n\t\t\t\t\t\t\t<Grid item key={reaction}>\n\t\t\t\t\t\t\t\t<IconButton className={classes.iconButton} onClick={() => handleReactToMessage(reaction)}>\n\t\t\t\t\t\t\t\t\t{reaction}\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t</div>\n\t\t\t\t</Popover>\n\t\t</>\n\t);\n};\n\nMessageOptionsMenu.propTypes = {\n    message: PropTypes.object,\n    menuOpen: PropTypes.bool.isRequired,\n    handleClose: PropTypes.func.isRequired,\n    anchorEl: PropTypes.object,\n    onReaction: PropTypes.func, // Callback opcional chamado após uma reação\n    availableReactions: PropTypes.arrayOf(PropTypes.string) // Lista opcional de reações disponíveis\n}\n\nexport default MessageOptionsMenu;","import React, { useEffect } from 'react';\nimport toastError from \"../../errors/toastError\";\n\nimport { Button, Divider, Typography} from \"@material-ui/core\";\n\nconst LocationPreview = ({ image, link, description }) => {\n    useEffect(() => {}, [image, link, description]);\n\n    const handleLocation = async() => {\n        try {\n            window.open(link);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    return (\n\t\t<>\n\t\t\t<div style={{\n\t\t\t\tminWidth: \"250px\",\n\t\t\t}}>\n\t\t\t\t<div>\n\t\t\t\t\t<div style={{ float: \"left\" }}>\n\t\t\t\t\t\t<img src={image} alt=\"loc\" onClick={handleLocation} style={{ width: \"100px\" }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{ description && (\n\t\t\t\t\t<div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"15px\", marginRight: \"15px\", float: \"left\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: description.replace('\\\\n', '<br />') }}></div>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div style={{ display: \"block\", content: \"\", clear: \"both\" }}></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleLocation}\n\t\t\t\t\t\t\tdisabled={!link}\n\t\t\t\t\t\t>Visualizar</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n\n};\n\nexport default LocationPreview;","import React, { useState, useEffect, useContext } from \"react\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport {  WhatsApp } from \"@material-ui/icons\";\nimport { Grid, ListItemText, MenuItem, Select } from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { toast } from \"react-toastify\";\n//import ShowTicketOpen from \"../ShowTicketOpenModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  online: {\n    fontSize: 11,\n    color: \"#25d366\"\n  },\n  offline: {\n    fontSize: 11,\n    color: \"#e1306c\"\n  }\n}));\n\nconst filter = createFilterOptions({\n  trim: true,\n});\n\nconst NewTicketModal = ({ modalOpen, onClose, initialContact }) => {\n  const classes = useStyles();\n  const [options, setOptions] = useState([]);\n\n  const [loading, setLoading] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedContact, setSelectedContact] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\");\n  const [newContact, setNewContact] = useState({});\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const { user } = useContext(AuthContext);\n  const { companyId, whatsappId } = user;\n\n  const [ openAlert, setOpenAlert ] = useState(false);\n\tconst [ userTicketOpen, setUserTicketOpen] = useState(\"\");\n\tconst [ queueTicketOpen, setQueueTicketOpen] = useState(\"\");\n\n  useEffect(() => {\n    if (initialContact?.id !== undefined) {\n      setOptions([initialContact]);\n      setSelectedContact(initialContact);\n    }\n  }, [initialContact]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        api\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\n          .then(({ data }) => setWhatsapps(data));\n      };\n\n      if (whatsappId !== null && whatsappId!== undefined) {\n        setSelectedWhatsapp(whatsappId)\n      }\n\n      if (user.queues.length === 1) {\n        setSelectedQueue(user.queues[0].id)\n      }\n      fetchContacts();\n      setLoading(false);\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [])\n\n  useEffect(() => {\n    if (!modalOpen || searchParam.length < 3) {\n      setLoading(false);\n      return;\n    }\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"contacts\", {\n            params: { searchParam },\n          });\n          setOptions(data.contacts);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, modalOpen]);\n\n  // const IconChannel = (channel) => {\n  //   switch (channel) {\n  //     case \"facebook\":\n  //       return <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />;\n  //     case \"instagram\":\n  //       return <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />;\n  //     case \"whatsapp\":\n  //       return <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\n  //     default:\n  //       return \"error\";\n  //   }\n  // };\n\n  const handleClose = () => {\n    onClose();\n    setSearchParam(\"\");\n    setOpenAlert(false);\n    setUserTicketOpen(\"\");\n    setQueueTicketOpen(\"\");\n    setSelectedContact(null);\n  };\n\n  const handleCloseAlert = () => {\n    setOpenAlert(false);\n    setLoading(false);\n    setOpenAlert(false);\n    setUserTicketOpen(\"\");\n    setQueueTicketOpen(\"\");\n  };\n\n  const handleSaveTicket = async contactId => {\n    if (!contactId) return;\n    if (selectedQueue === \"\" && user.profile !== 'admin') {\n      toast.error(\"Selecione uma fila\");\n      return;\n    }\n    \n    setLoading(true);\n    try {\n      const queueId = selectedQueue !== \"\" ? selectedQueue : null;\n      const whatsappId = selectedWhatsapp !== \"\" ? selectedWhatsapp : null;\n      const { data: ticket } = await api.post(\"/tickets\", {\n        contactId: contactId,\n        queueId,\n        whatsappId,\n        userId: user.id,\n        status: \"open\",\n      });      \n\n      onClose(ticket);\n    } catch (err) {\n      \n      const ticket  = JSON.parse(err.response.data.error);\n\n      if (ticket.userId !== user?.id) {\n        setOpenAlert(true);\n        setUserTicketOpen(ticket.user.name);\n        setQueueTicketOpen(ticket.queue.name);\n      } else {\n        setOpenAlert(false);\n        setUserTicketOpen(\"\");\n        setQueueTicketOpen(\"\");\n        setLoading(false);\n        onClose(ticket);\n      }\n    }  \n    setLoading(false);\n  };\n\n  const handleSelectOption = (e, newValue) => {\n    if (newValue?.number) {\n      setSelectedContact(newValue);\n    } else if (newValue?.name) {\n      setNewContact({ name: newValue.name });\n      setContactModalOpen(true);\n    }\n  };\n\n  const handleCloseContactModal = () => {\n    setContactModalOpen(false);    \n  };\n\n  const handleAddNewContactTicket = contact => {\n    handleSaveTicket(contact.id);\n  };\n\n  const createAddContactOption = (filterOptions, params) => {\n    const filtered = filter(filterOptions, params);\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n      filtered.push({\n        name: `${params.inputValue}`,\n      });\n    }\n    return filtered;\n  };\n\n  const renderOption = option => {\n    if (option.number) {\n      return <>\n        {/* {IconChannel(option.channel)} */}\n        <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n          {option.name} - {option.number}\n        </Typography>\n      </>\n    } else {\n      return `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n    }\n  };\n\n  const renderOptionLabel = option => {\n    if (option.number) {\n      return `${option.name} - ${option.number}`;\n    } else {\n      return `${option.name}`;\n    }\n  };\n\n  const renderContactAutocomplete = () => {\n    if (initialContact === undefined || initialContact.id === undefined) {\n      return (\n        <Grid xs={12} item>\n          <Autocomplete\n            fullWidth\n            options={options}\n            loading={loading}\n            clearOnBlur\n            autoHighlight\n            freeSolo\n            clearOnEscape\n            getOptionLabel={renderOptionLabel}\n            renderOption={renderOption}\n            filterOptions={createAddContactOption}\n            onChange={(e, newValue) => handleSelectOption(e, newValue)}\n            renderInput={params => (\n              <TextField\n                {...params}\n                label={i18n.t(\"newTicketModal.fieldLabel\")}\n                variant=\"outlined\"\n                autoFocus\n                onChange={e => setSearchParam(e.target.value)}\n                onKeyPress={e => {\n                  if (loading || !selectedContact) return;\n                  else if (e.key === \"Enter\") {\n                    handleSaveTicket(selectedContact.id);\n                  }\n                }}\n                InputProps={{\n                  ...params.InputProps,\n                  endAdornment: (\n                    <React.Fragment>\n                      {loading ? (\n                        <CircularProgress color=\"inherit\" size={20} />\n                      ) : null}\n                      {params.InputProps.endAdornment}\n                    </React.Fragment>\n                  ),\n                }}\n              />\n            )}\n          />\n        </Grid>\n      )\n    }\n    return null;\n  }\n\n  return (\n    <>\n      <ContactModal\n        open={contactModalOpen}\n        initialValues={newContact}\n        onClose={handleCloseContactModal}\n        onSave={handleAddNewContactTicket}\n      ></ContactModal>\n      <Dialog open={modalOpen} onClose={handleClose}>\n        <DialogTitle id=\"form-dialog-title\">\n          {i18n.t(\"newTicketModal.title\")}\n        </DialogTitle>\n        <DialogContent dividers>\n          <Grid style={{ width: 300 }} container spacing={2}>\n            {/* CONTATO */}\n            {renderContactAutocomplete()}\n            {/* FILA */}\n            <Grid xs={12} item>\n              <Select\n                required\n                fullWidth\n                displayEmpty\n                variant=\"outlined\"\n                value={selectedQueue}\n                onChange={(e) => {\n                  setSelectedQueue(e.target.value)\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\",\n                  },\n                  transformOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"left\",\n                  },\n                  getContentAnchorEl: null,\n                }}\n                renderValue={() => {\n                  if (selectedQueue === \"\") {\n                    return \"Selecione uma fila\"\n                  }\n                  const queue = user.queues.find(q => q.id === selectedQueue)\n                  return queue.name\n                }}\n              >\n                {user.queues?.length > 0 &&\n                  user.queues.map((queue, key) => (\n                    <MenuItem dense key={key} value={queue.id}>\n                      <ListItemText primary={queue.name} />\n                    </MenuItem>\n                  ))\n                }\n              </Select>\n            </Grid>\n            {/* CONEXAO */}\n            <Grid xs={12} item>\n              <Select\n                required\n                fullWidth\n                displayEmpty\n                variant=\"outlined\"\n                value={selectedWhatsapp}\n                onChange={(e) => {\n                  setSelectedWhatsapp(e.target.value)\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\",\n                  },\n                  transformOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"left\",\n                  },\n                  getContentAnchorEl: null,\n                }}\n                renderValue={() => {\n                  if (selectedWhatsapp === \"\") {\n                    return \"Selecione uma Conexão\"\n                  }\n                  const whatsapp = whatsapps.find(w => w.id === selectedWhatsapp)\n                  return whatsapp.name\n                }}\n              >\n                {whatsapps?.length > 0 &&\n                  whatsapps.map((whatsapp, key) => (\n                    <MenuItem dense key={key} value={whatsapp.id}>\n                      <ListItemText\n                        primary={\n                          <>\n                            {/* {IconChannel(whatsapp.channel)} */}\n                            <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n                              {whatsapp.name} &nbsp; <p className={(whatsapp.status) === 'CONNECTED' ? classes.online : classes.offline} >({whatsapp.status})</p>\n                            </Typography>\n                          </>\n                        }\n                      />\n                    </MenuItem>\n                  ))}\n              </Select>\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"secondary\"\n            disabled={loading}\n            variant=\"outlined\"\n          >\n            {i18n.t(\"newTicketModal.buttons.cancel\")}\n          </Button>\n          <ButtonWithSpinner\n            variant=\"contained\"\n            type=\"button\"\n            disabled={!selectedContact}\n            onClick={() => handleSaveTicket(selectedContact.id)}\n            color=\"primary\"\n            loading={loading}\n          >\n            {i18n.t(\"newTicketModal.buttons.ok\")}\n          </ButtonWithSpinner>\n        </DialogActions>\n        {/* <ShowTicketOpen\n          isOpen={openAlert}\n          handleClose={handleCloseAlert}\n          user={userTicketOpen}\n          queue={queueTicketOpen}\n\t\t\t  /> */}\n      </Dialog >\n    </>\n  );\n};\nexport default NewTicketModal;","import React, { useEffect, useState, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Button, Divider, } from \"@material-ui/core\";\nimport { useTheme } from \"@material-ui/core/styles\"; // Importar useTheme\nimport NewTicketModal from \"../NewTicketModal\";\n\nconst VCardPreview = ({ contact, numbers }) => {\n    const history = useHistory();\n    const { user } = useContext(AuthContext);\n    const theme = useTheme(); // Usar o hook useTheme para acessar o tema\n\n    const [selectedContact, setContact] = useState({\n        name: \"\",\n        number: 0,\n        profilePicUrl: \"\"\n    });\n\n\tconst [selectedQueue, setSelectedQueue] = useState(\"\");\n\tconst [isModalOpen, setModalOpen] = useState(false);\n    const [isContactValid, setContactValid] = useState(true);\n    const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n    const [contactTicket, setContactTicket] = useState({});\n\n\tconst handleQueueSelection = async (queueId) => {\n        setSelectedQueue(queueId);\n        setModalOpen(false);\n        if (queueId !== \"\") {\n            await createTicket(queueId);\n        }\n    };\n\n    const renderQueueModal = () => {\n        return (\n            <Modal open={isModalOpen} onClose={() => setModalOpen(false)}>\n                <div style={{\n                    position: \"absolute\",\n                    top: \"50%\",\n                    left: \"50%\",\n                    transform: \"translate(-50%, -50%)\",\n                    backgroundColor: theme.palette.background.paper,\n                    padding: \"20px\",\n                    outline: \"none\",\n                }}>\n                    <h2>Selecione a Fila</h2>\n                    {user.queues.map((queue) => (\n                        <div key={queue.id}>\n                            <Button onClick={() => handleQueueSelection(queue.id)}>\n                                {queue.name}\n                            </Button>\n                        </div>\n                    ))}\n                </div>\n            </Modal>\n        );\n    };\n\n    useEffect(() => {\n        const fetchContacts = async () => {\n            try {\n                let contactObj = {\n                    name: contact,\n                    number: numbers.replace(/\\D/g, \"\"),\n                    email: \"\"\n                };\n\n                const { data } = await api.post(\"/contacts\", contactObj);\n\n                if (data.alreadyExists) {\n                    setContact(data.existingContact);\n                } else {\n                    setContact(contactObj);\n                }\n            \n            \tif(data.invalido){\n        \t\t\tsetContactValid(false);\n                }\n            } catch (err) {\n                toastError(err);\n            }\n        };\n\n        const delayDebounceFn = setTimeout(fetchContacts, 1500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [contact, numbers]);\n\n\tconst handleNewChat = () => {\n    \tif (selectedQueue === \"\") {\n        \tsetModalOpen(true);\n    \t} else {\n        \tcreateTicket();\n    \t}\n\t};\n\n    const createTicket = async (queueId) => {\n        try {\n            let contactId = selectedContact.id;\n\n            if (!contactId) {\n                const contactObj = {\n                    name: selectedContact.name,\n                    number: selectedContact.number,\n                    email: \"\"\n                };\n\n                const { data } = await api.post(\"/contacts\", contactObj);\n                contactId = data.existingContact.id;\n            }\n\n            const { data: ticket } = await api.post(\"/tickets\", {\n                contactId,\n                queueId,\n                userId: user.id,\n                status: \"open\",\n            });\n            \n            history.push(`/tickets/${ticket.uuid}`);\n        } catch (err) {\n            toastError(err);\n        }\n    };\n\n    const handleCloseOrOpenTicket = (ticket) => {\n        setNewTicketModalOpen(false);\n        if (ticket !== undefined && ticket.uuid !== undefined) {\n            history.push(`/tickets/${ticket.uuid}`);\n        }\n    };\n\n    return (\n        <>\n    \t\t{renderQueueModal()}\n            <div style={{\n                minWidth: \"250px\",\n            }}>\n            <NewTicketModal\n                modalOpen={newTicketModalOpen}\n                initialContact={selectedContact}\n                onClose={(ticket) => {\n                    handleCloseOrOpenTicket(ticket);\n                }}\n            />\n                <Grid container spacing={1}>\n                    <Grid item xs={1}>\n                        <Avatar src={selectedContact.profilePicUrl} />\n                    </Grid>\n                    <Grid item xs={9}>\n                        <Typography style={{ marginTop: \"12px\", marginLeft: \"10px\", color: theme.palette.text.vcard }} variant=\"subtitle1\" gutterBottom>\n                            {selectedContact.name}\n                        </Typography>\n                    </Grid>\n\t\t\t\t\t<Grid item xs={9}>\n                        <Typography style={{ marginLeft: \"10px\", color: theme.palette.text.vcard }} variant=\"body2\" gutterBottom>\n                            <strong>Nome:</strong> {selectedContact.name}\n                        </Typography>\n                        <Typography style={{ marginLeft: \"10px\", color: theme.palette.text.vcard }} variant=\"body2\" gutterBottom>\n                            <Typography variant=\"body2\" component=\"span\">\n                                <strong>Telefone:</strong> {selectedContact.number}\n                            </Typography>\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Divider />\n                        <Button\n                            fullWidth\n                            color=\"theme.palette.text.vcard\"\n                            onClick={() => {\n                                setContactTicket(selectedContact);\n                                setNewTicketModalOpen(true);\n                            }}\n                            disabled={!selectedContact.number || !isContactValid}\n                        >\n                            {isContactValid ? \"Conversar (Novo Ticket)\" : \"CONTATO FORA DO WHATSAPP\"}\n                        </Button>\n                    </Grid>\n                </Grid>\n            </div>\n        </>\n    );\n};\n\nexport default VCardPreview;\n","import React, { useContext } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport { Checkbox } from \"@material-ui/core\";\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\n\nconst SelectMessageCheckbox = ({ message }) => {\n    const [isChecked, setIsChecked] = React.useState(false);\n    const { \n        showSelectMessageCheckbox,\n        setSelectedMessages,\n        selectedMessages,\n    } = useContext(ForwardMessageContext);\n\n    const handleSelectMessage = (e, message) => {\n        let updatedList = [...selectedMessages];\n\n        if (e.target.checked) {\n            setIsChecked(true);\n            updatedList.push(message);\n        } else {\n            const index = updatedList.findIndex((m) => m.id === message.id);\n            if (index !== -1) {\n                updatedList.splice(index, 1);\n            }\n            setIsChecked(false);\n        }\n\n        setSelectedMessages(updatedList);\n    };\n\n    React.useEffect(() => {\n        const isMessageSelected = selectedMessages.some((m) => m.id === message.id);\n        setIsChecked(isMessageSelected);\n    }, [selectedMessages, message]);\n\n    if (showSelectMessageCheckbox) {\n        return (\n            <Checkbox \n                color=\"primary\" \n                checked={isChecked} \n                onChange={(e) => handleSelectMessage(e, message)} \n            />\n        );\n    } else {\n        return null;\n    }\n};\n\nexport default SelectMessageCheckbox;\n","import React, { useState, useEffect, useReducer, useRef, useContext } from \"react\";\n\nimport { isSameDay, parseISO, format } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  CircularProgress,\n  Divider,\n  IconButton,\n  makeStyles,\n  Badge,\n} from \"@material-ui/core\";\n\nimport {\n  AccessTime,\n  Block,\n  Done,\n  DoneAll,\n  ExpandMore,\n  GetApp,\n  Reply,\n} from \"@material-ui/icons\";\n\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport ModalImageCors from \"../ModalImageCors\";\nimport MessageOptionsMenu from \"../MessageOptionsMenu\";\nimport whatsBackground from \"../../assets/wa-background.png\";\nimport LocationPreview from \"../LocationPreview\";\nimport whatsBackgroundDark from \"../../assets/wa-background-dark.png\"; //DARK MODE PLW DESIGN//\nimport VCardPreview from \"../VCardPreview\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport SelectMessageCheckbox from \"./SelectMessageCheckbox\";\n\nconst useStyles = makeStyles((theme) => ({\n  messagesListWrapper: {\n    overflow: \"hidden\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    width: \"100%\",\n    minWidth: 300,\n    minHeight: 200,\n  },\n\n  messagesList: {\n    backgroundImage: theme.mode === 'light' ? `url(${whatsBackground})` : `url(${whatsBackgroundDark})`, //DARK MODE PLW DESIGN//\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    padding: \"20px 20px 20px 20px\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n\n  circleLoading: {\n    color: green[500],\n    position: \"absolute\",\n    opacity: \"70%\",\n    top: 0,\n    left: \"50%\",\n    marginTop: 12,\n  },\n\n  messageLeft: {\n    marginRight: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#ffffff\",\n    color: \"#303030\",\n    alignSelf: \"flex-start\",\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerLeft: {\n    margin: \"-3px -80px 6px -6px\",\n    overflow: \"hidden\",\n    backgroundColor: \"#f0f0f0\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsg: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  quotedSideColorLeft: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageRight: {\n    marginLeft: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#dcf8c6\",\n    color: \"#303030\",\n    alignSelf: \"flex-end\",\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 0,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerRight: {\n    margin: \"-3px -80px 6px -6px\",\n    overflowY: \"hidden\",\n    backgroundColor: \"#cfe9ba\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsgRight: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    whiteSpace: \"pre-wrap\",\n  },\n\n  quotedSideColorRight: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  messageActionsButton: {\n    display: \"none\",\n    position: \"relative\",\n    color: \"#999\",\n    zIndex: 1,\n    backgroundColor: \"inherit\",\n    opacity: \"90%\",\n    \"&:hover, &.Mui-focusVisible\": { backgroundColor: \"inherit\" },\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n\n  textContentItem: {\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n  \n  textContentItemEdited: {\n    overflowWrap: \"break-word\",\n    padding: \"3px 120px 6px 6px\",\n  },\n\n  textContentItemDeleted: {\n    fontStyle: \"italic\",\n    color: \"rgba(0, 0, 0, 0.36)\",\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n  forwardMessage: {\n    fontSize: 12,\n    fontStyle: \"italic\",\n    position: \"absolute\",\n    top: 0,\n    left: 5,\n    color: \"#999\",\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  messageMedia: {\n    objectFit: \"cover\",\n    width: 250,\n    height: 200,\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n  },\n\n  timestamp: {\n    fontSize: 11,\n    position: \"absolute\",\n    bottom: 0,\n    right: 5,\n    color: \"#999\",\n  },\n\n  dailyTimestamp: {\n    alignItems: \"center\",\n    textAlign: \"center\",\n    alignSelf: \"center\",\n    width: \"110px\",\n    backgroundColor: \"#e1f3fb\",\n    margin: \"10px\",\n    borderRadius: \"10px\",\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  dailyTimestampText: {\n    color: \"#808888\",\n    padding: 8,\n    alignSelf: \"center\",\n    marginLeft: \"0px\",\n  },\n\n  ackIcons: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  deletedIcon: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginRight: 4,\n  },\n\n  ackDoneAllIcon: {\n    color: green[500],\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  downloadMedia: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"inherit\",\n    padding: 10,\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_MESSAGES\") {\n    const messages = action.payload;\n    const newMessages = [];\n\n    messages.forEach((message) => {\n      const messageIndex = state.findIndex((m) => m.id === message.id);\n      if (messageIndex !== -1) {\n        state[messageIndex] = message;\n      } else {\n        newMessages.push(message);\n      }\n    });\n\n    return [...newMessages, ...state];\n  }\n\n  if (action.type === \"ADD_MESSAGE\") {\n    const newMessage = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === newMessage.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = newMessage;\n    } else {\n      state.push(newMessage);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_MESSAGE\") {\n    const messageToUpdate = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === messageToUpdate.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = messageToUpdate;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst MessagesList = ({ ticket, ticketId, isGroup }) => {\n  const classes = useStyles();\n\n  const [messagesList, dispatch] = useReducer(reducer, []);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const lastMessageRef = useRef();\n\n  const [selectedMessage, setSelectedMessage] = useState({});\n  const [anchorEl, setAnchorEl] = useState(null);\n  const messageOptionsMenuOpen = Boolean(anchorEl);\n  const currentTicketId = useRef(ticketId);\n  const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n  const socketManager = useContext(SocketContext);\n  const { setReplyingMessage } = useContext(ReplyMessageContext);\n  const { showSelectMessageCheckbox } = useContext(ForwardMessageContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n\n    currentTicketId.current = ticketId;\n  }, [ticketId]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchMessages = async () => {\n        if (ticketId === undefined) return;\n        try {\n          const { data } = await api.get(\"/messages/\" + ticketId, {\n            params: { pageNumber },\n          });\n\n          if (currentTicketId.current === ticketId) {\n            dispatch({ type: \"LOAD_MESSAGES\", payload: data.messages });\n            setHasMore(data.hasMore);\n            setLoading(false);\n          }\n\n          if (pageNumber === 1 && data.messages.length > 1) {\n            scrollToBottom();\n          }\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchMessages();\n    }, 500);\n    return () => {\n      clearTimeout(delayDebounceFn);\n    };\n  }, [pageNumber, ticketId]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(\"ready\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n    socket.on(`company-${companyId}-appMessage`, (data) => {\n      if (data.action === \"create\" && data.message.ticketId === currentTicketId.current) {\n        dispatch({ type: \"ADD_MESSAGE\", payload: data.message });\n        scrollToBottom();\n      }\n\n      if (data.action === \"update\" && data.message.ticketId === currentTicketId.current) {\n        dispatch({ type: \"UPDATE_MESSAGE\", payload: data.message });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, ticket, socketManager]);\n\n  const loadMore = () => {\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\n  };\n\n  const scrollToBottom = () => {\n    if (lastMessageRef.current) {\n      lastMessageRef.current.scrollIntoView({});\n    }\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore) return;\n    const { scrollTop } = e.currentTarget;\n\n    if (scrollTop === 0) {\n      document.getElementById(\"messagesList\").scrollTop = 1;\n    }\n\n    if (loading) {\n      return;\n    }\n\n    if (scrollTop < 50) {\n      loadMore();\n    }\n  };\n\n  const hanldeReplyMessage = (e, message) => {\n    //if (ticket.status === \"open\" || ticket.status === \"group\") {\n    setAnchorEl(null);\n    setReplyingMessage(message);\n    //}\n  };\n\n  const handleOpenMessageOptionsMenu = (e, message) => {\n    setAnchorEl(e.currentTarget);\n    setSelectedMessage(message);\n  };\n\n  const handleCloseMessageOptionsMenu = (e) => {\n    setAnchorEl(null);\n  };\n\n  const checkMessageMedia = (message) => {\n    if (message.mediaType === \"locationMessage\" && message.body.split('|').length >= 2) {\n      let locationParts = message.body.split('|')\n      let imageLocation = locationParts[0]\n      let linkLocation = locationParts[1]\n\n      let descriptionLocation = null\n\n      if (locationParts.length > 2)\n        descriptionLocation = message.body.split('|')[2]\n\n      return <LocationPreview image={imageLocation} link={linkLocation} description={descriptionLocation} />\n    }\n    else\n    if (message.mediaType === \"contactMessage\") {\n      let array = message.body.split(\"\\n\");\n      let obj = [];\n      let contact = \"\";\n      for (let index = 0; index < array.length; index++) {\n        const v = array[index];\n        let values = v.split(\":\");\n        for (let ind = 0; ind < values.length; ind++) {\n          if (values[ind].indexOf(\"+\") !== -1) {\n            obj.push({ number: values[ind] });\n          }\n          if (values[ind].indexOf(\"FN\") !== -1) {\n            contact = values[ind + 1];\n          }\n        }\n      }\n      //console.log(array);\n      //console.log(contact);\n      //console.log(obj[0].number);\n      return <VCardPreview contact={contact} numbers={obj[0].number} />\n    }\n    /* else if (message.mediaType === \"vcard\") {\n      let array = message.body.split(\"\\n\");\n      let obj = [];\n      let contact = \"\";\n      for (let index = 0; index < array.length; index++) {\n        const v = array[index];\n        let values = v.split(\":\");\n        for (let ind = 0; ind < values.length; ind++) {\n          if (values[ind].indexOf(\"+\") !== -1) {\n            obj.push({ number: values[ind] });\n          }\n          if (values[ind].indexOf(\"FN\") !== -1) {\n            contact = values[ind + 1];\n          }\n        }\n      }\n      return <VcardPreview contact={contact} numbers={obj[0].number} />\n    } */\n    /*else if (message.mediaType === \"multi_vcard\") {\n      console.log(\"multi_vcard\")\n      console.log(message)\n      \n      if(message.body !== null && message.body !== \"\") {\n        let newBody = JSON.parse(message.body)\n        return (\n          <>\n            {\n            newBody.map(v => (\n              <VcardPreview contact={v.name} numbers={v.number} />\n            ))\n            }\n          </>\n        )\n      } else return (<></>)\n    }*/\n    else if (message.mediaType === \"image\") {\n      return <ModalImageCors imageUrl={message.mediaUrl} />;\n    } else if (message.mediaType === \"audio\") {\n\n      //console.log(isIOS);\n\n      if (isIOS) {\n        message.mediaUrl = message.mediaUrl.replace(\"ogg\", \"mp3\");\n\n        return (\n          <audio controls>\n            <source src={message.mediaUrl} type=\"audio/mp3\"></source>\n          </audio>\n        );\n      } else {\n\n        return (\n          <audio controls>\n            <source src={message.mediaUrl} type=\"audio/ogg\"></source>\n          </audio>\n        );\n      }\n    } else if (message.mediaType === \"video\") {\n      return (\n        <video\n          className={classes.messageMedia}\n          src={message.mediaUrl}\n          controls\n        />\n      );\n    } else {\n      return (\n        <>\n          <div className={classes.downloadMedia}>\n            <Button\n              startIcon={<GetApp />}\n              color=\"primary\"\n              variant=\"outlined\"\n              target=\"_blank\"\n              href={message.mediaUrl}\n            >\n              Download\n            </Button>\n          </div>\n          <Divider />\n        </>\n      );\n    }\n};\n\n  /*\n    const renderMessageAck = (message) => {\n      if (message.ack === 1) {\n        return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\n      }\n      if (message.ack === 2) {\n        return <Done fontSize=\"small\" className={classes.ackIcons} />;\n      }\n      if (message.ack === 3) {\n        return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\n      }\n      if (message.ack === 4 || message.ack === 5) {\n        return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} />;\n      }\n    };\n    */\n\n    const renderMessageAck = (message) => {\n      if (message.ack === 0) {\n        return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\n      }\n      if (message.ack === 1) {\n        return <Done fontSize=\"small\" className={classes.ackIcons} />;\n      }\n      if (message.ack === 2) {\n        return <Done fontSize=\"small\" className={classes.ackIcons} />;\n      }\n      if (message.ack === 3) {\n        return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\n      }\n      if (message.ack === 4 || message.ack === 5) {\n        return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} style={{color:'#0377FC'}} />;\n      }\n    };\n\n  const renderDailyTimestamps = (message, index) => {\n    if (index === 0) {\n      return (\n        <span\n          className={classes.dailyTimestamp}\n          key={`timestamp-${message.id}`}\n        >\n          <div className={classes.dailyTimestampText}>\n            {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n          </div>\n        </span>\n      );\n    }\n    if (index < messagesList.length - 1) {\n      let messageDay = parseISO(messagesList[index].createdAt);\n      let previousMessageDay = parseISO(messagesList[index - 1].createdAt);\n\n      if (!isSameDay(messageDay, previousMessageDay)) {\n        return (\n          <span\n            className={classes.dailyTimestamp}\n            key={`timestamp-${message.id}`}\n          >\n            <div className={classes.dailyTimestampText}>\n              {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n            </div>\n          </span>\n        );\n      }\n    }\n    if (index === messagesList.length - 1) {\n      return (\n        <div\n          key={`ref-${message.createdAt}`}\n          ref={lastMessageRef}\n          style={{ float: \"left\", clear: \"both\" }}\n        />\n      );\n    }\n  };\n\n  const renderNumberTicket = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n\n      let messageTicket = message.ticketId;\n      let connectionName = message.ticket?.whatsapp?.name;\n      let previousMessageTicket = messagesList[index - 1].ticketId;\n\n      if (messageTicket !== previousMessageTicket) {\n        return (\n          <center>\n            <div className={classes.ticketNunberClosed}>\n              Conversa encerrada: {format(parseISO(messagesList[index - 1].createdAt), \"dd/MM/yyyy HH:mm:ss\")}\n            </div>\n\n            <div className={classes.ticketNunberOpen}>\n              Conversa iniciada: {format(parseISO(message.createdAt), \"dd/MM/yyyy HH:mm:ss\")}\n            </div>\n          </center>\n        );\n      }\n    }\n  };\n\n  const renderMessageDivider = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n      let messageUser = messagesList[index].fromMe;\n      let previousMessageUser = messagesList[index - 1].fromMe;\n\n      if (messageUser !== previousMessageUser) {\n        return (\n          <span style={{ marginTop: 16 }} key={`divider-${message.id}`}></span>\n        );\n      }\n    }\n  };\n\n  const renderQuotedMessage = (message) => {\n    return (\n      <div\n        className={clsx(classes.quotedContainerLeft, {\n          [classes.quotedContainerRight]: message.fromMe,\n        })}\n      >\n        <span\n          className={clsx(classes.quotedSideColorLeft, {\n            [classes.quotedSideColorRight]: message.quotedMsg?.fromMe,\n          })}\n        ></span>\n        <div className={classes.quotedMsg}>\n          {!message.quotedMsg?.fromMe && (\n            <span className={classes.messageContactName}>\n              {message.quotedMsg?.contact?.name}\n            </span>\n          )}\n\n          {message.quotedMsg.mediaType === \"audio\"\n            && (\n              <div className={classes.downloadMedia}>\n                <audio controls>\n                  <source src={message.quotedMsg.mediaUrl} type=\"audio/ogg\"></source>\n                </audio>\n              </div>\n            )\n          }\n          {message.quotedMsg.mediaType === \"video\"\n            && (\n              <video\n                className={classes.messageMedia}\n                src={message.quotedMsg.mediaUrl}\n                controls\n              />\n            )\n          }\n          {message.quotedMsg.mediaType === \"application\"\n            && (\n              <div className={classes.downloadMedia}>\n                <Button\n                  startIcon={<GetApp />}\n                  color=\"primary\"\n                  variant=\"outlined\"\n                  target=\"_blank\"\n                  href={message.quotedMsg.mediaUrl}\n                >\n                  Download\n                </Button>\n              </div>\n            )\n          }\n\n          {message.quotedMsg.mediaType === \"image\"\n            && (\n              <ModalImageCors imageUrl={message.quotedMsg.mediaUrl} />)\n            || message.quotedMsg?.body}\n\n        </div>\n      </div>\n    );\n  };\n\n  const renderMessages = () => {\n    if (messagesList.length > 0) {\n      const viewMessagesList = messagesList.map((message, index) => {\n\n        if (message.mediaType === \"call_log\") {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageCenter}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n                <div>\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 17\" width=\"20\" height=\"17\">\n                    <path fill=\"#df3333\" d=\"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z\"></path>\n                  </svg> <span>Chamada de voz/vídeo perdida às {format(parseISO(message.createdAt), \"HH:mm\")}</span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n\n        if (!message.fromMe) {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div\n                className={classes.messageLeft}\n                title={message.queueId && message.queue?.name}\n                onDoubleClick={(e) => hanldeReplyMessage(e, message)}\n              >\n                {showSelectMessageCheckbox && (\n                  <SelectMessageCheckbox\n                    // showSelectMessageCheckbox={showSelectMessageCheckbox}\n                    message={message}\n                  // selectedMessagesList={selectedMessagesList}\n                  // setSelectedMessagesList={setSelectedMessagesList}\n                  />\n                )}\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {message.isForwarded && (\n                  <div>\n                    <span className={classes.forwardMessage}\n                    ><Reply style={{ color: \"grey\", transform: 'scaleX(-1)' }} /> Encaminhada\n                    </span>\n                    <br />\n                  </div>\n                )}\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n\n                {/* aviso de mensagem apagado pelo contato */}\n                {message.isDeleted && (\n                  <div>\n                    <span className={\"message-deleted\"}\n                    >Essa mensagem foi apagada pelo contato &nbsp;\n                      <Block\n                        color=\"error\"\n                        fontSize=\"small\"\n                        className={classes.deletedIcon}\n                      />\n                    </span>\n                  </div>\n                )}\n\n                {(message.mediaUrl || message.mediaType === \"locationMessage\" || message.mediaType === \"vcard\" || message.mediaType === \"contactMessage\"\n                  //|| message.mediaType === \"multi_vcard\" \n                ) && checkMessageMedia(message)}\n                <div className={classes.textContentItem}>\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  {message.mediaType !== \"reactionMessage\" && (\n                    <MarkdownWrapper>\n                      {message.mediaType === \"locationMessage\" || message.mediaType === \"contactMessage\" \n                        ? null\n                        : message.body}\n                    </MarkdownWrapper>\n                  )}\n                  {message.quotedMsg && message.mediaType === \"reactionMessage\" && message.body && (\n                    <>\n                      <span style={{ marginLeft: \"0px\", display: 'flex', alignItems: 'center' }}>\n                        <MarkdownWrapper>\n                          {\"_*\" + (message.fromMe ? 'Você' : (message?.contact?.name ?? 'Contato')) + \"*_ reagiu... \"}\n                        </MarkdownWrapper>\n                        <Badge \n                          className={classes.badge}\n                          overlap=\"circular\"\n                          anchorOrigin={{\n                            vertical: 'bottom',\n                            horizontal: 'right',\n                          }}\n                          badgeContent={\n                            <span style={{ fontSize: \"1.2em\", marginTop: \"0\", marginLeft: \"5px\" }}>\n                              {message.body}\n                            </span>\n                          }\n                        >\n                        </Badge>\n                      </span>\n                    </>\n                  )}\n                                  \n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        } else {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageRight}\n              onDoubleClick={(e) => hanldeReplyMessage(e, message)}\n            >\n              {showSelectMessageCheckbox && (\n                <SelectMessageCheckbox\n                  // showSelectMessageCheckbox={showSelectMessageCheckbox}\n                  message={message}\n                // selectedMessagesList={selectedMessagesList}\n                // setSelectedMessagesList={setSelectedMessagesList}\n                />\n              )}\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {message.isForwarded && (\n                  <div>\n                    <span className={classes.forwardMessage}\n                    ><Reply style={{ color: \"grey\", transform: 'scaleX(-1)' }} /> Encaminhada\n                    </span>\n                    <br />\n                  </div>\n                )}\n                {(message.mediaUrl || message.mediaType === \"locationMessage\" || message.mediaType === \"vcard\" || message.mediaType === \"contactMessage\"\n                  //|| message.mediaType === \"multi_vcard\" \n                ) && checkMessageMedia(message)}\n                <div\n                  className={clsx(classes.textContentItem, {\n                    [classes.textContentItemDeleted]: message.isDeleted,\n                  })}\n                >\n                  {message.isDeleted && (\n                    <Block\n                      color=\"disabled\"\n                      fontSize=\"small\"\n                      className={classes.deletedIcon}\n                    />\n                  )}\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  {message.mediaType !== \"reactionMessage\" && message.mediaType !== \"locationMessage\" && (\n                    <MarkdownWrapper>{message.body}</MarkdownWrapper>\n                  )}\n                  {message.quotedMsg && message.mediaType === \"reactionMessage\" && message.body && (\n                    <>\n                      <span style={{ marginLeft: \"0px\", display: 'flex', alignItems: 'center' }}>\n                        <MarkdownWrapper>\n                          {\"_*\" + (message.fromMe ? 'Você' : (message?.contact?.name ?? 'Contato')) + \"*_ reagiu... \"}\n                        </MarkdownWrapper>\n                        <Badge \n                          className={classes.badge}\n                          overlap=\"circular\"\n                          anchorOrigin={{\n                            vertical: 'bottom',\n                            horizontal: 'right',\n                          }}\n                          badgeContent={\n                            <span style={{ fontSize: \"1.2em\", marginTop: \"0\", marginLeft: \"5px\" }}>\n                              {message.body}\n                            </span>\n                          }\n                        >\n                        </Badge>\n                      </span>\n                    </>\n                  )}\n                  \n                \n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                    {renderMessageAck(message)}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n      });\n      return viewMessagesList;\n    } else {\n      return <div>Diga olá para seu novo contato!</div>;\n    }\n  };\n\n  return (\n    <div className={classes.messagesListWrapper}>\n      <MessageOptionsMenu\n        message={selectedMessage}\n        anchorEl={anchorEl}\n        menuOpen={messageOptionsMenuOpen}\n        handleClose={handleCloseMessageOptionsMenu}\n      />\n      <div\n        id=\"messagesList\"\n        className={classes.messagesList}\n        onScroll={handleScroll}\n      >\n        {messagesList.length > 0 ? renderMessages() : []}\n      </div>\n      {loading && (\n        <div>\n          <CircularProgress className={classes.circleLoading} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MessagesList;","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Card, CardHeader } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t},\n}));\n\nconst TicketHeaderSkeleton = () => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Card square className={classes.ticketHeader}>\n\t\t\t<CardHeader\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\tavatar={\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\">\n\t\t\t\t\t\t<Avatar alt=\"contact_image\" />\n\t\t\t\t\t</Skeleton>\n\t\t\t\t}\n\t\t\t\ttitle={<Skeleton animation=\"wave\" width={80} />}\n\t\t\t\tsubheader={<Skeleton animation=\"wave\" width={140} />}\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nexport default TicketHeaderSkeleton;\n","import React from \"react\";\n\nimport { Card } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TicketHeaderSkeleton from \"../TicketHeaderSkeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: theme.palette.tabHeaderBackground,\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tflexWrap: \"wrap\"\n\t\t}\n\t},\n}));\n\n\nconst TicketHeader = ({ loading, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<>\n\t\t\t{loading ? (\n\t\t\t\t<TicketHeaderSkeleton />\n\t\t\t) : (\n\t\t\t\t<Card square className={classes.ticketHeader}>\n\t\t\t\t\t{children}\n\t\t\t\t</Card>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default TicketHeader;\n","var getInitials = function(string) {\n  if (!string) {\n    return \"\";\n  }\n\n  var names = string.split(' '),\n    initials = names[0].substring(0, 1).toUpperCase();\n\n  if (names.length > 1) {\n    initials += names[names.length - 1].substring(0, 1).toUpperCase();\n  }\n  return initials;\n};\n\nexport { getInitials };\n","// colorGenerator.js\n\n// Function to hash a string to a number\nfunction hashStringToNumber(str) {\n  if (!str) {\n    return 0x7F7F7F;  // 50% of all colors\n  }\n  \n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    const char = str.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash |= 0; // Convert to 32bit integer\n  }\n  return hash;\n}\n\n// Function to generate a color from a hash\nfunction generateColorFromHash(hash) {\n  // Normalize the hash value\n  const normalizedHash = Math.abs(hash) % 16777215; // 16777215 is 0xFFFFFF\n  const r = (normalizedHash & 0xFF0000) >> 16;\n  const g = (normalizedHash & 0x00FF00) >> 8;\n  const b = normalizedHash & 0x0000FF;\n  return { r, g, b };\n}\n\n// Function to get the luminance of a color\nfunction getLuminance(r, g, b) {\n  return 0.299 * r + 0.587 * g + 0.114 * b;\n}\n\n// Function to adjust color for contrast\nfunction adjustColorForContrast(r, g, b) {\n  const luminance = getLuminance(r, g, b);\n  const thresholdLow = 50;  // Luminance threshold for dark colors\n  const thresholdHigh = 200; // Luminance threshold for bright colors\n\n  if (luminance < thresholdLow) {\n    // Lighten the color if too dark\n    r = Math.min(255, r + 50);\n    g = Math.min(255, g + 50);\n    b = Math.min(255, b + 50);\n  } else if (luminance > thresholdHigh) {\n    // Darken the color if too bright\n    r = Math.max(0, r - 50);\n    g = Math.max(0, g - 50);\n    b = Math.max(0, b - 50);\n  }\n  return `rgb(${r}, ${g}, ${b})`;\n}\n\n// Main function to generate color from user identifier\nfunction generateColor(identifier) {\n  const hash = hashStringToNumber(identifier);\n  const { r, g, b } = generateColorFromHash(hash);\n  const luminance = getLuminance(r, g, b);\n  const thresholdLow = 50;  // Luminance threshold for dark colors\n  const thresholdHigh = 200; // Luminance threshold for bright colors\n\n  if (luminance < thresholdLow || luminance > thresholdHigh) {\n    return adjustColorForContrast(r, g, b);\n  }\n  return `rgb(${r}, ${g}, ${b})`;\n}\n\n// Export the function\nexport { generateColor };\n","import React, { useState, useEffect } from \"react\";\n\nimport { Avatar, CardHeader } from \"@material-ui/core\";\nimport { getInitials } from \"../../helpers/getInitials\";\nimport { generateColor } from \"../../helpers/colorGenerator\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketInfo = ({ contact, ticket, onClick }) => {\n\tconst { user } = ticket\n\tconst [userName, setUserName] = useState('')\n\tconst [contactName, setContactName] = useState('')\n\n\tuseEffect(() => {\n\t\tif (contact) {\n\t\t\tsetContactName(contact.name);\n\t\t\tif(document.body.offsetWidth < 600) {\n\t\t\t\tif (contact.name.length > 10) {\n\t\t\t\t\tconst truncadName = contact.name.substring(0, 10) + '...';\n\t\t\t\t\tsetContactName(truncadName);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (user && contact) {\n\t\t\tsetUserName(`${i18n.t(\"messagesList.header.assignedTo\")} ${user.name}`);\n\n\t\t\tif(document.body.offsetWidth < 600) {\n\t\t\t\tsetUserName(`${user.name}`);\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\treturn (\n\t\t<CardHeader\n\t\t\tonClick={onClick}\n\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\tavatar={        <Avatar\n          style={{ backgroundColor: generateColor(contact?.number), color: \"white\", fontWeight: \"bold\" }}\n          src={contact.profilePicUrl}\n          alt=\"contact_image\">\n          {getInitials(contact?.name)}\n        </Avatar>}\n\t\t\ttitle={`${contactName} #${ticket.id}`}\n\t\t\tsubheader={ticket.user && `${userName}`}\n\t\t/>\n\t);\n};\n\nexport default TicketInfo;\n","import React, { useContext, useEffect, useState } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  makeStyles,\n} from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport MessagesList from \"../MessagesList\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nexport default function TicketMessagesDialog({ open, handleClose, ticketId }) {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n  const { showSelectMessageCheckbox } = useContext(ForwardMessageContext);\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    let delayDebounceFn = null;\n    if (open) {\n      setLoading(true);\n      delayDebounceFn = setTimeout(() => {\n        const fetchTicket = async () => {\n          try {\n            const { data } = await api.get(\"/tickets/\" + ticketId);\n            const { queueId } = data;\n            const { queues, profile } = user;\n\n            const queueAllowed = queues.find((q) => q.id === queueId);\n            if (queueAllowed === undefined && profile !== \"admin\") {\n              toast.error(\"Acesso não permitido\");\n              history.push(\"/tickets\");\n              return;\n            }\n\n            setContact(data.contact);\n            setTicket(data);\n            setLoading(false);\n          } catch (err) {\n            setLoading(false);\n            toastError(err);\n          }\n        };\n        fetchTicket();\n      }, 500);\n    }\n    return () => {\n      if (delayDebounceFn !== null) {\n        clearTimeout(delayDebounceFn);\n      }\n    };\n  }, [ticketId, user, history, open]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    let socket = null;\n\n    if (open) {\n      const socket = socketManager.getSocket(companyId);\n      socket.on(\"ready\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n      socket.on(`company-${companyId}-ticket`, (data) => {\n        if (data.action === \"update\" && data.ticket.id === ticket.id) {\n          setTicket(data.ticket);\n        }\n\n        if (data.action === \"delete\" && data.ticketId === ticket.id) {\n          // toast.success(\"Ticket deleted sucessfully.\");\n          history.push(\"/tickets\");\n        }\n      });\n\n      socket.on(`company-${companyId}-contact`, (data) => {\n        if (data.action === \"update\") {\n          setContact((prevState) => {\n            if (prevState.id === data.contact?.id) {\n              return { ...prevState, ...data.contact };\n            }\n            return prevState;\n          });\n        }\n      });\n    }\n\n    return () => {\n      if (socket !== null) {\n        socket.disconnect();\n      }\n    };\n  }, [ticketId, ticket, history, open, socketManager]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const renderTicketInfo = () => {\n    if (ticket.user !== undefined) {\n      return (\n        <TicketInfo\n          contact={contact}\n          ticket={ticket}\n          onClick={handleDrawerOpen}\n        />\n      );\n    }\n  };\n\n  const renderMessagesList = () => {\n    return (\n      <Box className={classes.root}>\n        <MessagesList\n          ticket={ticket}\n          ticketId={ticket.id}\n          isGroup={ticket.isGroup}\n        ></MessagesList>\n      </Box>\n    );\n  };\n\n  return (\n    <Dialog maxWidth=\"md\" onClose={handleClose} open={open}>\n      <TicketHeader loading={loading}>{renderTicketInfo()}</TicketHeader>\n      <ReplyMessageProvider>{renderMessagesList()}</ReplyMessageProvider>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Fechar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import api from \"../../services/api\";\n\nconst useQueues = () => {\n\tconst findAll = async () => {\n        const { data } = await api.get(\"/queue\");\n        return data;\n    }\n\n\treturn { findAll };\n};\n\nexport default useQueues;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { Grid, ListItemText, Typography, makeStyles } from \"@material-ui/core\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n  createFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport useQueues from \"../../hooks/useQueues\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  maxWidth: {\n    width: \"100%\",\n  },\n}));\n\nconst filterOptions = createFilterOptions({\n  trim: true,\n});\n\nconst TransferTicketModalCustom = ({ modalOpen, onClose, ticketid }) => {\n  const history = useHistory();\n  const [options, setOptions] = useState([]);\n  const [queues, setQueues] = useState([]);\n  const [allQueues, setAllQueues] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\n  const classes = useStyles();\n  const { findAll: findAllQueues } = useQueues();\n  const isMounted = useRef(true);\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\");\n  const { user } = useContext(AuthContext);\n  const { companyId, whatsappId } = user;\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        api\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\n          .then(({ data }) => setWhatsapps(data));\n      };\n\n      if (whatsappId !== null && whatsappId !== undefined) {\n        setSelectedWhatsapp(whatsappId)\n      }\n\n      if (user.queues.length === 1) {\n        setSelectedQueue(user.queues[0].id)\n      }\n      fetchContacts();\n      setLoading(false);\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [])\n\n  useEffect(() => {\n    if (isMounted.current) {\n      const loadQueues = async () => {\n        const list = await findAllQueues();\n        setAllQueues(list);\n        setQueues(list);\n      };\n      loadQueues();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (!modalOpen || searchParam.length < 3) {\n      setLoading(false);\n      return;\n    }\n    const delayDebounceFn = setTimeout(() => {\n      setLoading(true);\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam },\n          });\n          setOptions(data.users);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, modalOpen]);\n\n  const handleClose = () => {\n    onClose();\n    setSearchParam(\"\");\n    setSelectedUser(null);\n  };\n\n  const handleSaveTicket = async (e) => {\n    e.preventDefault();\n    if (!ticketid) return;\n    if (!selectedQueue || selectedQueue === \"\") return;\n    setLoading(true);\n    try {\n      let data = {};\n\n      if (selectedUser) {\n        data.userId = selectedUser.id;\n      }\n\n      if (selectedQueue && selectedQueue !== null) {\n        data.queueId = selectedQueue;\n\n        if (!selectedUser) {\n          data.status = \"pending\";\n          data.userId = null;\n        }\n      }\n\n      if (selectedWhatsapp) {\n        data.whatsappId = selectedWhatsapp\n      }\n      await api.put(`/tickets/${ticketid}`, data);\n\n      history.push(`/tickets`);\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n  };\n\n  return (\n    <Dialog open={modalOpen} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n      <form onSubmit={handleSaveTicket}>\n        <DialogTitle id=\"form-dialog-title\">\n          {i18n.t(\"transferTicketModal.title\")}\n        </DialogTitle>\n        <DialogContent dividers>\n          <Autocomplete\n            style={{ width: 300, marginBottom: 20 }}\n            getOptionLabel={(option) => `${option.name}`}\n            onChange={(e, newValue) => {\n              setSelectedUser(newValue);\n              if (newValue != null && Array.isArray(newValue.queues)) {\n                setQueues(newValue.queues);\n              } else {\n                setQueues(allQueues);\n                setSelectedQueue(\"\");\n              }\n            }}\n            options={options}\n            filterOptions={filterOptions}\n            freeSolo\n            autoHighlight\n            noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n            loading={loading}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                label={i18n.t(\"transferTicketModal.fieldLabel\")}\n                variant=\"outlined\"\n                autoFocus\n                onChange={(e) => setSearchParam(e.target.value)}\n                InputProps={{\n                  ...params.InputProps,\n                  endAdornment: (\n                    <React.Fragment>\n                      {loading ? (\n                        <CircularProgress color=\"inherit\" size={20} />\n                      ) : null}\n                      {params.InputProps.endAdornment}\n                    </React.Fragment>\n                  ),\n                }}\n              />\n            )}\n          />\n          <FormControl variant=\"outlined\" className={classes.maxWidth}>\n            <InputLabel>\n              {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\n            </InputLabel>\n            <Select\n              value={selectedQueue}\n              onChange={(e) => setSelectedQueue(e.target.value)}\n              label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\n            >\n              {queues.map((queue) => (\n                <MenuItem key={queue.id} value={queue.id}>\n                  {queue.name}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n          {/* CONEXAO */}\n          <Grid container spacing={2} style={{marginTop: '15px'}}>\n            <Grid xs={12} item>\n              <Select\n                required\n                fullWidth\n                displayEmpty\n                variant=\"outlined\"\n                value={selectedWhatsapp}\n                onChange={(e) => {\n                  setSelectedWhatsapp(e.target.value)\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\",\n                  },\n                  transformOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"left\",\n                  },\n                  getContentAnchorEl: null,\n                }}\n                renderValue={() => {\n                  if (selectedWhatsapp === \"\") {\n                    return \"Selecione uma Conexão\"\n                  }\n                  const whatsapp = whatsapps.find(w => w.id === selectedWhatsapp)\n                  return whatsapp.name\n                }}\n              >\n                {whatsapps?.length > 0 &&\n                  whatsapps.map((whatsapp, key) => (\n                    <MenuItem dense key={key} value={whatsapp.id}>\n                      <ListItemText\n                        primary={\n                          <>\n                            {/* {IconChannel(whatsapp.channel)} */}\n                            <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n                              {whatsapp.name} &nbsp; <p className={(whatsapp.status) === 'CONNECTED' ? classes.online : classes.offline} >({whatsapp.status})</p>\n                            </Typography>\n                          </>\n                        }\n                      />\n                    </MenuItem>\n                  ))}\n              </Select>\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"secondary\"\n            disabled={loading}\n            variant=\"outlined\"\n          >\n            {i18n.t(\"transferTicketModal.buttons.cancel\")}\n          </Button>\n          <ButtonWithSpinner\n            variant=\"contained\"\n            type=\"submit\"\n            color=\"primary\"\n            loading={loading}\n          >\n            {i18n.t(\"transferTicketModal.buttons.ok\")}\n          </ButtonWithSpinner>\n        </DialogActions>\n      </form>\n    </Dialog>\n  );\n};\n\nexport default TransferTicketModalCustom;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport clsx from \"clsx\";\nimport { format, isSameDay, parseISO } from \"date-fns\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Box from \"@material-ui/core/Box\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { blue, green, grey } from \"@material-ui/core/colors\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport FaceIcon from \"@material-ui/icons/Face\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport { Chip, Tooltip } from \"@material-ui/core\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\n\nimport AndroidIcon from \"@material-ui/icons/Android\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport ContactTag from \"../ContactTag\";\nimport TicketMessagesDialog from \"../TicketMessagesDialog\";\nimport TransferTicketModalCustom from \"../TransferTicketModalCustom\";\nimport { getInitials } from \"../../helpers/getInitials\";\nimport { generateColor } from \"../../helpers/colorGenerator\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticket: {\n    position: \"relative\",\n  },\n\n  pendingTicket: {\n    cursor: \"unset\",\n  },\n  queueTag: {\n    background: \"#FCFCFC\",\n    color: \"#000\",\n    marginRight: 1,\n    padding: 1,\n    fontWeight: 'bold',\n    paddingLeft: 5,\n    paddingRight: 5,\n    borderRadius: 3,\n    fontSize: \"0.8em\",\n    whiteSpace: \"nowrap\"\n  },\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  newMessagesCount: {\n    position: \"absolute\",\n    alignSelf: \"center\",\n    marginRight: 8,\n    marginLeft: \"auto\",\n    top: \"10px\",\n    left: \"20px\",\n    borderRadius: 0,\n  },\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n  connectionTag: {\n    background: \"green\",\n    color: \"#FFF\",\n    marginRight: 1,\n    padding: 1,\n    fontWeight: 'bold',\n    paddingLeft: 5,\n    paddingRight: 5,\n    borderRadius: 3,\n    fontSize: \"0.8em\",\n    whiteSpace: \"nowrap\"\n  },\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  contactNameWrapper: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    marginLeft: \"5px\",\n  },\n\n  lastMessageTime: {\n    justifySelf: \"flex-end\",\n    textAlign: \"right\",\n    position: \"relative\",\n    top: -21,\n    background: '#333333',\n    color: '#ffffff',\n    border: '1px solid #3a3b6c',\n    borderRadius: 5,\n    padding: 1,\n    paddingLeft: 5,\n    paddingRight: 5,\n    fontSize: '0.9em',\n  },\n\n  closedBadge: {\n    alignSelf: \"center\",\n    justifySelf: \"flex-end\",\n    marginRight: 32,\n    marginLeft: \"auto\",\n  },\n\n  contactLastMessage: {\n    paddingRight: \"0%\",\n    marginLeft: \"5px\",\n  },\n\n\n  badgeStyle: {\n    color: \"white\",\n    backgroundColor: green[500],\n  },\n\n  acceptButton: {\n    position: \"absolute\",\n    right: \"108px\",\n  },\n\n\n  acceptButton: {\n    position: \"absolute\",\n    left: \"50%\",\n  },\n\n\n  ticketQueueColor: {\n    flex: \"none\",\n    width: \"8px\",\n    height: \"100%\",\n    position: \"absolute\",\n    top: \"0%\",\n    left: \"0%\",\n  },\n\n  ticketInfo: {\n    position: \"relative\",\n    top: -13\n  },\n  secondaryContentSecond: {\n    display: 'flex',\n    // marginTop: 5,\n    //marginLeft: \"5px\",\n    alignItems: \"flex-start\",\n    flexWrap: \"wrap\",\n    flexDirection: \"row\",\n    alignContent: \"flex-start\",\n  },\n  ticketInfo1: {\n    position: \"relative\",\n    top: 13,\n    right: 0\n  },\n  Radiusdot: {\n    \"& .MuiBadge-badge\": {\n      borderRadius: 2,\n      position: \"inherit\",\n      height: 16,\n      margin: 2,\n      padding: 3\n    },\n    \"& .MuiBadge-anchorOriginTopRightRectangle\": {\n      transform: \"scale(1) translate(0%, -40%)\",\n    },\n  },\n    presence: {\n    color: theme?.mode === 'light' ? \"blue\" : \"lightgreen\",\n    fontWeight: \"bold\",\n  }\n}));\n  {/*PLW DESIGN INSERIDO O dentro do const handleChangeTab*/}\n  const TicketListItemCustom = ({ ticket }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [ticketUser, setTicketUser] = useState(null);\n  const [ticketQueueName, setTicketQueueName] = useState(null);\n  const [ticketQueueColor, setTicketQueueColor] = useState(null);\n  const [tag, setTag] = useState([]);\n  const [whatsAppName, setWhatsAppName] = useState(null);\n  const [lastInteractionLabel, setLastInteractionLabel] = useState('');\n  const [openTicketMessageDialog, setOpenTicketMessageDialog] = useState(false);\n  const { ticketId } = useParams();\n  const isMounted = useRef(true);\n  const { setCurrentTicket } = useContext(TicketsContext);\n  const { user } = useContext(AuthContext);\n  const [verpreview, setverpreview] = useState(false);\n  const { profile } = user;\n  const [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n  const presenceMessage = { composing: \"Digitando...\", recording: \"Gravando...\" };\n  \n  useEffect(() => {\n    if (ticket.userId && ticket.user) {\n      setTicketUser(ticket.user?.name?.toUpperCase());\n    }\n    setTicketQueueName(ticket.queue?.name?.toUpperCase());\n    setTicketQueueColor(ticket.queue?.color);\n\n    if (ticket.whatsappId && ticket.whatsapp) {\n      setWhatsAppName(ticket.whatsapp.name?.toUpperCase());\n    }\n\n    setTag(ticket?.tags);\n\n    return () => {\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  {/*CÓDIGO NOVO SAUDAÇÃO*/}\n  const handleCloseTicket = async (id) => {\n    setTag(ticket?.tags);\n    setLoading(true);\n    try {\n      await api.put(`/tickets/${id}`, {\n        status: \"closed\",\n        userId: user?.id,\n        queueId: ticket?.queue?.id,\n        useIntegration: false,\n        promptId: null,\n        integrationId: null\n      });\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n    if (isMounted.current) {\n      setLoading(false);\n    }\n    history.push(`/tickets/`);\n  };\n\n  useEffect(() => {\n    const renderLastInteractionLabel = () => {\n      let labelColor = '';\n      let labelText = '';\n\n      if (!ticket.lastMessage) return '';\n\n      const lastInteractionDate = parseISO(ticket.updatedAt);\n      const currentDate = new Date();\n      const timeDifference = currentDate - lastInteractionDate;\n      const hoursDifference = Math.floor(timeDifference / (1000 * 60 * 60));\n      const minutesDifference = Math.floor(timeDifference / (1000 * 60));\n\n\n      if (minutesDifference >= 3 && minutesDifference <= 10) {\n        labelText = `(${minutesDifference} m atrás)`;\n        labelColor = 'green';\n      } else if (minutesDifference >= 30 && minutesDifference < 60) {\n        labelText = `(${minutesDifference} m atrás)`;\n        labelColor = 'Orange';\n      } else if (minutesDifference > 60  && hoursDifference < 24) {\n        labelText = `(${hoursDifference} h atrás)`;\n        labelColor = 'red';\n      } else if (hoursDifference >= 24) {\n        labelText = `(${Math.floor(hoursDifference / 24)} dias atrás)`;\n        labelColor = 'red';\n      }\n\n\n      return { labelText, labelColor };\n    };\n\n    // Função para atualizar o estado do componente\n    const updateLastInteractionLabel = () => {\n      const { labelText, labelColor } = renderLastInteractionLabel();\n      setLastInteractionLabel(\n        <Badge\n          className={classes.lastInteractionLabel}\n          style={{ color: labelColor }}\n        >\n          {labelText}\n        </Badge>\n      );\n      // Agendando a próxima atualização após 30 segundos\n      setTimeout(updateLastInteractionLabel, 30 * 1000);\n    };\n\n    // Inicializando a primeira atualização\n    updateLastInteractionLabel();\n\n  }, [ticket]); // Executando apenas uma vez ao montar o componente\n\n  const handleReopenTicket = async (id) => {\n    setLoading(true);\n    try {\n      await api.put(`/tickets/${id}`, {\n        status: \"open\",\n        userId: user?.id,\n        queueId: ticket?.queue?.id\n      });\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n    if (isMounted.current) {\n      setLoading(false);\n    }\n    history.push(`/tickets/${ticket.uuid}`);\n  };\n\n    const handleAcepptTicket = async (id) => {\n        setLoading(true);\n        try {\n            await api.put(`/tickets/${id}`, {\n                status: \"open\",\n                userId: user?.id,\n            });\n            \n            let settingIndex;\n\n            try {\n                const { data } = await api.get(\"/settings/\");\n                \n                settingIndex = data.filter((s) => s.key === \"sendGreetingAccepted\");\n                \n            } catch (err) {\n                toastError(err);\n                   \n            }\n            \n            if (settingIndex[0].value === \"enabled\" && !ticket.isGroup) {\n                handleSendMessage(ticket.id);\n                \n            }\n\n        } catch (err) {\n            setLoading(false);\n            \n            toastError(err);\n        }\n        if (isMounted.current) {\n            setLoading(false);\n        }\n\n        // handleChangeTab(null, \"tickets\");\n        // handleChangeTab(null, \"open\");\n        history.push(`/tickets/${ticket.uuid}`);\n    };\n\t\n\t    const handleSendMessage = async (id) => {\n        \n        const msg = `{{ms}} *{{name}}*, meu nome é *${user?.name}* e agora vou prosseguir com seu atendimento!`;\n        const message = {\n            read: 1,\n            fromMe: true,\n            mediaUrl: \"\",\n            body: `*Mensagem Automática:*\\n${msg.trim()}`,\n        };\n        try {\n            await api.post(`/messages/${id}`, message);\n        } catch (err) {\n            toastError(err);\n            \n        }\n    };\n\t{/*CÓDIGO NOVO SAUDAÇÃO*/}\n\n  const handleSelectTicket = (ticket) => {\n    const code = uuidv4();\n    const { id, uuid } = ticket;\n    setCurrentTicket({ id, uuid, code });\n  };\n\n\n  const renderTicketInfo = () => {\n    if (ticketUser) {\n\n      return (\n        <>\n          {ticket.chatbot && (\n            <Tooltip title=\"Chatbot\">\n              <AndroidIcon\n                fontSize=\"small\"\n                style={{ color: grey[700], marginRight: 5 }}\n              />\n            </Tooltip>\n          )}\n\n          {/* </span> */}\n        </>\n      );\n    } else {\n      return (\n        <>\n          {ticket.chatbot && (\n            <Tooltip title=\"Chatbot\">\n              <AndroidIcon\n                fontSize=\"small\"\n                style={{ color: grey[700], marginRight: 5 }}\n              />\n            </Tooltip>\n          )}\n        </>\n      );\n    }\n  };\n\n  const handleOpenTransferModal = () => {\n    setTransferTicketModalOpen(true);\n  }\n\n  const handleCloseTransferTicketModal = () => {\n    if (isMounted.current) {\n      setTransferTicketModalOpen(false);\n    }\n  };\n\n  return (\n    <React.Fragment key={ticket.id}>\n\n    <TransferTicketModalCustom\n    modalOpen={transferTicketModalOpen}\n    onClose={handleCloseTransferTicketModal}\n    ticketid={ticket.id}\n  />\n\n      <TicketMessagesDialog\n        open={openTicketMessageDialog}\n\n        handleClose={() => setOpenTicketMessageDialog(false)}\n        ticketId={ticket.id}\n      ></TicketMessagesDialog>\n      <ListItem dense button\n        onClick={(e) => {\n          if (ticket.status === \"pending\") return;\n          handleSelectTicket(ticket);\n        }}\n        selected={ticketId && +ticketId === ticket.id}\n        className={clsx(classes.ticket, {\n          [classes.pendingTicket]: ticket.status === \"pending\",\n        })}\n      >\n        <Tooltip arrow placement=\"right\" title={ticket.queue?.name?.toUpperCase() || \"SEM FILA\"} >\n          <span style={{ backgroundColor: ticket.queue?.color || \"#7C7C7C\" }} className={classes.ticketQueueColor}></span>\n        </Tooltip>\n        <ListItemAvatar>\n          {ticket.status !== \"pending\" ?\n            <Avatar\n              style={{\n                marginTop: \"-20px\",\n                marginLeft: \"-3px\",\n                width: \"55px\",\n                height: \"55px\",\n                borderRadius: \"10%\",\n                backgroundColor: generateColor(ticket?.contact?.number),\n              }}\n              src={ticket?.contact?.profilePicUrl}>\n              {getInitials(ticket?.contact?.name || \"\")}\n              </Avatar>\n            :\n            <Avatar\n              style={{\n                marginTop: \"-30px\",\n                marginLeft: \"0px\",\n                width: \"50px\",\n                height: \"50px\",\n                borderRadius: \"10%\",\n                backgroundColor: generateColor(ticket?.contact?.number),\n              }}\n              src={ticket?.contact?.profilePicUrl}>\n              {getInitials(ticket?.contact?.name || \"\")}\n              </Avatar>\n          }\n        </ListItemAvatar>\n        <ListItemText\n          disableTypography\n\n          primary={\n            <span className={classes.contactNameWrapper}>\n            <Typography\n            noWrap\n            component='span'\n            variant='body2'\n            color='textPrimary'\n          >\n            <strong>{ticket.contact.name} {lastInteractionLabel}</strong>\n        <ListItemSecondaryAction>\n          <Box className={classes.ticketInfo1}>{renderTicketInfo()}</Box>\n        </ListItemSecondaryAction>\n                {profile === \"admin\" && (\n                  <Tooltip title=\"Espiar Conversa\">\n                    <VisibilityIcon\n                      onClick={() => setOpenTicketMessageDialog(true)}\n                      fontSize=\"small\"\n                      style={{\n                        color: blue[700],\n                        cursor: \"pointer\",\n                        marginLeft: 10,\n                        verticalAlign: \"middle\"\n                      }}\n                    />\n                  </Tooltip>\n                )}\n              </Typography>\n        </span>\n\n          }\n          secondary={\n            <span className={classes.contactNameWrapper}>\n\n              <Typography\n                className={classes.contactLastMessage}\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n              >\n                {[\"composing\", \"recording\"].includes(ticket?.presence) ? (\n                  <span className={classes.presence}>\n                    {presenceMessage[ticket.presence]}\n                  </span>\n                ) : (\n                  <>\n                    {ticket.lastMessage.includes('data:image/png;base64') ? <MarkdownWrapper> Localização</MarkdownWrapper> : <MarkdownWrapper>{ticket.lastMessage}</MarkdownWrapper>}\n                  </>\n                )}\n\n                <span style={{ marginTop: 4, }} className={classes.secondaryContentSecond} >\n                  {ticket?.whatsapp?.name ? <Badge className={classes.connectionTag}>{ticket?.whatsapp?.name?.toUpperCase()}</Badge> : <br></br>}\n                  {ticketUser ? <Badge style={{ backgroundColor: \"#000000\" }} className={classes.connectionTag}>{ticketUser}</Badge> : <br></br>}\t\t\t\t  \n                  <Badge style={{ backgroundColor: ticket.queue?.color || \"#7c7c7c\" }} className={classes.connectionTag}>{ticket.queue?.name?.toUpperCase() || \"SEM FILA\"}</Badge>\n                </span>\n\n                {/* <span style={{ marginTop: 2, fontSize: 5 }} className={classes.secondaryContentSecond} >\n                  {ticket?.whatsapp?.name ? <Badge className={classes.connectionTag}>{ticket?.whatsapp?.name?.toUpperCase()}</Badge> : <br></br>}\n                </span> */}\n\n                {/*<span style={{ marginTop: 4, fontSize: 5 }} className={classes.secondaryContentSecond} >\n                  {ticketUser ? <Chip size=\"small\" icon={<FaceIcon />} label={ticketUser} variant=\"outlined\" /> : <br></br>}\n                </span>*/}\n\n                <span style={{ paddingTop: \"2px\" }} className={classes.secondaryContentSecond} >\n                  {tag?.map((tag) => {\n                    return (\n                      <ContactTag tag={tag} key={`ticket-contact-tag-${ticket.id}-${tag.id}`} />\n                    );\n                  })}\n                </span>\n\n              </Typography>\n\n              <Badge\n                className={classes.newMessagesCount}\n                badgeContent={ticket.unreadMessages}\n                classes={{\n                  badge: classes.badgeStyle,\n                }}\n              />\n            </span>\n          }\n\n        />\n        <ListItemSecondaryAction>\n          {ticket.lastMessage && (\n            <>\n\n              <Typography\n                className={classes.lastMessageTime}\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n              >\n\n                {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n                  <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n                ) : (\n                  <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n                )}\n              </Typography>\n\n              <br />\n\n            </>\n          )}\n\n        </ListItemSecondaryAction>\n<span className={classes.secondaryContentSecond}>\n  {ticket.status === \"pending\" && (\n    <>\n      <ButtonWithSpinner\n        style={{\n          backgroundColor: 'green',\n          color: 'white',\n          padding: '0px',\n          bottom: '17px',\n          borderRadius: '0px',\n          left: '8px',\n          fontSize: '0.6rem'\n        }}\n        variant=\"contained\"\n        className={classes.acceptButton}\n        size=\"small\"\n        loading={loading}\n        onClick={e => handleAcepptTicket(ticket.id)}\n      >\n        {i18n.t(\"ticketsList.buttons.accept\")}\n      </ButtonWithSpinner>\n\n      <ButtonWithSpinner\n        style={{\n          backgroundColor: 'red',\n          color: 'white',\n          padding: '0px',\n          bottom: '0px',\n          borderRadius: '0px',\n          left: '8px',\n          fontSize: '0.6rem'\n        }}\n        variant=\"contained\"\n        className={classes.acceptButton}\n        size=\"small\"\n        loading={loading}\n        onClick={e => handleCloseTicket(ticket.id)}\n      >\n        {i18n.t(\"ticketsList.buttons.closed\")}\n      </ButtonWithSpinner>\n    </>\n  )}\n\n  {ticket.status === \"attending\" && (\n    <>\n      <ButtonWithSpinner\n        style={{\n          backgroundColor: 'green',\n          color: 'white',\n          padding: '0px',\n          bottom: '17px',\n          borderRadius: '0px',\n          left: '8px',\n          fontSize: '0.6rem'\n        }}\n        variant=\"contained\"\n        className={classes.acceptButton}\n        size=\"small\"\n        loading={loading}\n        onClick={e => handleAcepptTicket(ticket.id)}\n      >\n        {i18n.t(\"ticketsList.buttons.accept\")}\n      </ButtonWithSpinner>\n\n      <ButtonWithSpinner\n        style={{\n          backgroundColor: 'red',\n          color: 'white',\n          padding: '0px',\n          bottom: '0px',\n          borderRadius: '0px',\n          left: '8px',\n          fontSize: '0.6rem'\n        }}\n        variant=\"contained\"\n        className={classes.acceptButton}\n        size=\"small\"\n        loading={loading}\n        onClick={e => handleCloseTicket(ticket.id)}\n      >\n        {i18n.t(\"ticketsList.buttons.closed\")}\n      </ButtonWithSpinner>\n    </>\n  )}\n\n  {ticket.status !== \"closed\" && ticket.status !== \"pending\" && ticket.status !== \"attending\" && (\n    <>\n      <ButtonWithSpinner\n        style={{\n          backgroundColor: 'blue',\n          color: 'white',\n          padding: '0px',\n          bottom: '17px',\n          borderRadius: '0px',\n          left: '8px',\n          fontSize: '0.6rem'\n        }}\n        variant=\"contained\"\n        className={classes.acceptButton}\n        size=\"small\"\n        loading={loading}\n        onClick={e => handleOpenTransferModal()}\n      >\n        {i18n.t(\"ticketsList.buttons.transfer\")}\n      </ButtonWithSpinner>\n\n      <ButtonWithSpinner\n        style={{\n          backgroundColor: 'red',\n          color: 'white',\n          padding: '0px',\n          bottom: '0px',\n          borderRadius: '0px',\n          left: '8px',\n          fontSize: '0.6rem'\n        }}\n        variant=\"contained\"\n        className={classes.acceptButton}\n        size=\"small\"\n        loading={loading}\n        onClick={e => handleCloseTicket(ticket.id)}\n      >\n        {i18n.t(\"ticketsList.buttons.closed\")}\n      </ButtonWithSpinner>\n    </>\n  )}\n\n  {ticket.status === \"closed\" && (\n    <ButtonWithSpinner\n      style={{\n        backgroundColor: 'red',\n        color: 'white',\n        padding: '0px',\n        bottom: '0px',\n        borderRadius: '0px',\n        left: '8px',\n        fontSize: '0.6rem'\n      }}\n      variant=\"contained\"\n      className={classes.acceptButton}\n      size=\"small\"\n      loading={loading}\n      onClick={e => handleReopenTicket(ticket.id)}\n    >\n      {i18n.t(\"ticketsList.buttons.reopen\")}\n    </ButtonWithSpinner>\n  )}\n</span>\n\n      \n      </ListItem>\n\n      <Divider variant=\"inset\" component=\"li\" />\n    </React.Fragment>\n  );\n};\n\nexport default TicketListItemCustom;\n","import { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useTickets = ({\n  searchParam,\n  tags,\n  users,\n  pageNumber,\n  status,\n  date,\n  updatedAt,\n  showAll,\n  queueIds,\n  withUnreadMessages,\n}) => {\n  const [loading, setLoading] = useState(true);\n  const [hasMore, setHasMore] = useState(false);\n  const [tickets, setTickets] = useState([]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTickets = async () => {\n        try {\n          const { data } = await api.get(\"/tickets\", {\n            params: {\n              searchParam,\n              pageNumber,\n              tags,\n              users,\n              status,\n              date,\n              updatedAt,\n              showAll,\n              queueIds,\n              withUnreadMessages,\n            },\n          });\n          setTickets(data.tickets);\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTickets();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [\n    searchParam,\n    tags,\n    users,\n    pageNumber,\n    status,\n    date,\n    updatedAt,\n    showAll,\n    queueIds,\n    withUnreadMessages,\n  ]);\n\n  return { tickets, loading, hasMore };\n};\n\nexport default useTickets;\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nimport useSound from \"use-sound\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Badge from \"@material-ui/core/Badge\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\n\nimport TicketListItem from \"../TicketListItemCustom\";\nimport useTickets from \"../../hooks/useTickets\";\nimport alertSound from \"../../assets/sound.mp3\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\ttabContainer: {\n\t\toverflowY: \"auto\",\n\t\tmaxHeight: 350,\n\t\t...theme.scrollbarStyles,\n\t},\n\tpopoverPaper: {\n\t\twidth: \"100%\",\n\t\tmaxWidth: 350,\n\t\tmarginLeft: theme.spacing(2),\n\t\tmarginRight: theme.spacing(1),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tmaxWidth: 270,\n\t\t},\n\t},\n\tnoShadow: {\n\t\tboxShadow: \"none !important\",\n\t},\n}));\n\nconst NotificationsPopOver = (volume) => {\n\tconst classes = useStyles();\n\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\tconst ticketIdUrl = +history.location.pathname.split(\"/\")[2];\n\tconst ticketIdRef = useRef(ticketIdUrl);\n\tconst anchorEl = useRef();\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [notifications, setNotifications] = useState([]);\n\n\tconst [showPendingTickets, setShowPendingTickets] = useState(false);\n\n\tconst [, setDesktopNotifications] = useState([]);\n\n\tconst { tickets } = useTickets({ withUnreadMessages: \"true\" });\n\n\tconst [play] = useSound(alertSound, volume);\n\tconst soundAlertRef = useRef();\n\n\tconst historyRef = useRef(history);\n\n  const socketManager = useContext(SocketContext);\n\n\tuseEffect(() => {\n\t\tconst fetchSettings = async () => {\n\t\t\ttry {\n\n\t\t\t\tif (user.allTicket === \"enable\") {\n\t\t\t\t\tsetShowPendingTickets(true);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t  \ttoastError(err);\n\t\t\t}\n\t\t}\n\t  \n\t\tfetchSettings();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsoundAlertRef.current = play;\n\n\t\tif (!(\"Notification\" in window)) {\n\t\t\tconsole.log(\"This browser doesn't support notifications\");\n\t\t} else {\n\t\t\tNotification.requestPermission();\n\t\t}\n\t}, [play]);\n\n\tuseEffect(() => {\n\t\tconst processNotifications = () => {\n\t\t\tif (showPendingTickets) {\n\t\t\t\tsetNotifications(tickets);\n\t\t\t} else {\n\t\t\t\tconst newNotifications = tickets.filter(ticket => ticket.status !== \"pending\");\n\n\t\t\t\tsetNotifications(newNotifications);\n\t\t\t}\n\t\t}\n\n\t\tprocessNotifications();\n\t}, [tickets]);\n\n\tuseEffect(() => {\n\t\tticketIdRef.current = ticketIdUrl;\n\t}, [ticketIdUrl]);\n\n\tuseEffect(() => {\n    const socket = socketManager.getSocket(user.companyId);\n\n\t\tsocket.on(\"ready\", () => socket.emit(\"joinNotification\"));\n\n\t\tsocket.on(`company-${user.companyId}-ticket`, data => {\n\t\t\tif (data.action === \"updateUnread\" || data.action === \"delete\") {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticketId);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState.splice(ticketIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\n\t\t\t\tsetDesktopNotifications(prevState => {\n\t\t\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\t\t\tn => n.tag === String(data.ticketId)\n\t\t\t\t\t);\n\t\t\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\t\t\tprevState[notfiticationIndex].close();\n\t\t\t\t\t\tprevState.splice(notfiticationIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(`company-${user.companyId}-appMessage`, data => {\n\t\t\tif (\n\t\t\t\tdata.action === \"create\" && !data.message.fromMe && \n\t\t\t\t(data.ticket.status !== \"pending\" ) &&\n\t\t\t\t(!data.message.read || data.ticket.status === \"pending\") &&\n\t\t\t\t(data.ticket.userId === user?.id || !data.ticket.userId) &&\n\t\t\t\t(user?.queues?.some(queue => (queue.id === data.ticket.queueId)) || !data.ticket.queueId)\n\t\t\t) {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticket.id);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState[ticketIndex] = data.ticket;\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn [data.ticket, ...prevState];\n\t\t\t\t});\n\n\t\t\t\tconst shouldNotNotificate =\n\t\t\t\t\t(data.message.ticketId === ticketIdRef.current &&\n\t\t\t\t\t\tdocument.visibilityState === \"visible\") ||\n\t\t\t\t\t(data.ticket.userId && data.ticket.userId !== user?.id) ||\n\t\t\t\t\tdata.ticket.isGroup;\n\n\t\t\t\tif (shouldNotNotificate) return;\n\n\t\t\t\thandleNotifications(data);\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [user, showPendingTickets, socketManager]);\n\n\tconst handleNotifications = data => {\n\t\tconst { message, contact, ticket } = data;\n\n\t\tconst options = {\n\t\t\tbody: `${message.body} - ${format(new Date(), \"HH:mm\")}`,\n\t\t\ticon: contact.urlPicture,\n\t\t\ttag: ticket.id,\n\t\t\trenotify: true,\n\t\t};\n\n\t\tconst notification = new Notification(\n\t\t\t`${i18n.t(\"tickets.notification.message\")} ${contact.name}`,\n\t\t\toptions\n\t\t);\n\n\t\tnotification.onclick = e => {\n\t\t\te.preventDefault();\n\t\t\twindow.focus();\n\t\t\thistoryRef.current.push(`/tickets/${ticket.uuid}`);\n\t\t\t// handleChangeTab(null, ticket.isGroup? \"group\" : \"open\");\n\t\t};\n\n\t\tsetDesktopNotifications(prevState => {\n\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\tn => n.tag === notification.tag\n\t\t\t);\n\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\tprevState[notfiticationIndex] = notification;\n\t\t\t\treturn [...prevState];\n\t\t\t}\n\t\t\treturn [notification, ...prevState];\n\t\t});\n\n\t\tsoundAlertRef.current();\n\t};\n\n\tconst handleClick = () => {\n\t\tsetIsOpen(prevState => !prevState);\n\t};\n\n\tconst handleClickAway = () => {\n\t\tsetIsOpen(false);\n\t};\n\n\tconst NotificationTicket = ({ children }) => {\n\t\treturn <div onClick={handleClickAway}>{children}</div>;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<IconButton\n\t\t\t\tonClick={handleClick}\n\t\t\t\tref={anchorEl}\n\t\t\t\taria-label=\"Open Notifications\"\n\t\t\t\tcolor=\"inherit\"\n\t\t\t\tstyle={{color:\"white\"}}\n\t\t\t>\n\t\t\t\t<Badge overlap=\"rectangular\" badgeContent={notifications.length} color=\"secondary\">\n\t\t\t\t\t<ChatIcon />\n\t\t\t\t</Badge>\n\t\t\t</IconButton>\n\t\t\t<Popover\n\t\t\t\tdisableScrollLock\n\t\t\t\topen={isOpen}\n\t\t\t\tanchorEl={anchorEl.current}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tclasses={{ paper: classes.popoverPaper }}\n\t\t\t\tonClose={handleClickAway}\n\t\t\t>\n\t\t\t\t<List dense className={classes.tabContainer}>\n\t\t\t\t\t{notifications.length === 0 ? (\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<ListItemText>{i18n.t(\"notifications.noTickets\")}</ListItemText>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tnotifications.map(ticket => (\n\t\t\t\t\t\t\t<NotificationTicket key={ticket.id}>\n\t\t\t\t\t\t\t\t<TicketListItem ticket={ticket} />\n\t\t\t\t\t\t\t</NotificationTicket>\n\t\t\t\t\t\t))\n\t\t\t\t\t)}\n\t\t\t\t</List>\n\t\t\t</Popover>\n\t\t</>\n\t);\n};\n\nexport default NotificationsPopOver;","import React, { useState, useRef } from \"react\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport VolumeUpIcon from \"@material-ui/icons/VolumeUp\";\nimport VolumeDownIcon from \"@material-ui/icons/VolumeDown\";\n\nimport { Grid, Slider } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    tabContainer: {\n        padding: theme.spacing(2),\n    },\n    popoverPaper: {\n        width: \"100%\",\n        maxWidth: 350,\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(1),\n        [theme.breakpoints.down(\"sm\")]: {\n            maxWidth: 270,\n        },\n    },\n    noShadow: {\n        boxShadow: \"none !important\",\n    },\n    icons: {\n        color: \"#fff\",\n    },\n    customBadge: {\n        backgroundColor: \"#f44336\",\n        color: \"#fff\",\n    },\n}));\n\nconst NotificationsVolume = ({ volume, setVolume }) => {\n    const classes = useStyles();\n\n    const anchorEl = useRef();\n    const [isOpen, setIsOpen] = useState(false);\n\n    const handleClick = () => {\n        setIsOpen((prevState) => !prevState);\n    };\n\n    const handleClickAway = () => {\n        setIsOpen(false);\n    };\n\n    const handleVolumeChange = (value) => {\n        setVolume(value);\n        localStorage.setItem(\"volume\", value);\n    };\n\n    return (\n        <>\n            <IconButton\n                className={classes.icons}\n                onClick={handleClick}\n                ref={anchorEl}\n                aria-label=\"Open Notifications\"\n                // color=\"inherit\"\n                // color=\"secondary\"\n            >\n                <VolumeUpIcon color=\"inherit\" />\n            </IconButton>\n            <Popover\n                disableScrollLock\n                open={isOpen}\n                anchorEl={anchorEl.current}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\",\n                }}\n                classes={{ paper: classes.popoverPaper }}\n                onClose={handleClickAway}\n            >\n                <List dense className={classes.tabContainer}>\n                    <Grid container spacing={2}>\n                        <Grid item>\n                            <VolumeDownIcon />\n                        </Grid>\n                        <Grid item xs>\n                            <Slider\n                                value={volume}\n                                aria-labelledby=\"continuous-slider\"\n                                step={0.1}\n                                min={0}\n                                max={1}\n                                onChange={(e, value) =>\n                                    handleVolumeChange(value)\n                                }\n                            />\n                        </Grid>\n                        <Grid item>\n                            <VolumeUpIcon />\n                        </Grid>\n                    </Grid>\n                </List>\n            </Popover>\n        </>\n    );\n};\n\nexport default NotificationsVolume;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelect = ({ selectedQueueIds, onChange, multiple = true, title = i18n.t(\"queueSelect.inputLabel\") }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\n\t\tfetchQueues();\n\n\t}, []);\n\n\tconst fetchQueues = async () => {\n\t\ttry {\n\t\t\tconst { data } = await api.get(\"/queue\");\n\t\t\tsetQueues(data);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div >\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel shrink={selectedQueueIds ? true : false} >{title}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tlabel={title}\n\t\t\t\t\tmultiple={multiple}\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\n\t\t\t\t\trenderValue={selected => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t\t{selected?.length > 0 && multiple ? (\n\t\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t) :\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={selected}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queues.find(q => q.id === selected)?.color }}\n\t\t\t\t\t\t\t\t\t\t\tlabel={queues.find(q => q.id === selected)?.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{!multiple && <MenuItem value={null}>Nenhum</MenuItem>}\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tCircularProgress,\n\tSelect,\n\tInputLabel,\n\tMenuItem,\n\tFormControl,\n\tTextField,\n\tInputAdornment,\n\tIconButton,\n\tSwitch,\n\tFormControlLabel\n  } from '@material-ui/core';\n  \nimport { Visibility, VisibilityOff } from '@material-ui/icons';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst UserModal = ({ open, onClose, userId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tprofile: \"user\",\n\t\tallTicket: \"desabled\"\n\t};\n\n\tconst { user: loggedInUser } = useContext(AuthContext);\n\n\tconst [user, setUser] = useState(initialState);\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\tconst [whatsappId, setWhatsappId] = useState(false);\n\tconst [showPassword, setShowPassword] = useState(false);\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\n\tuseEffect(() => {\n\t\tconst fetchUser = async () => {\n\t\t\tif (!userId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/users/${userId}`);\n\t\t\t\tsetUser(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t\tconst userQueueIds = data.queues?.map(queue => queue.id);\n\t\t\t\tsetSelectedQueueIds(userQueueIds);\n\t\t\t\tsetWhatsappId(data.whatsappId ? data.whatsappId : '');\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchUser();\n\t}, [userId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetUser(initialState);\n\t};\n\n\tconst handleSaveUser = async values => {\n\t\tconst userData = { ...values, whatsappId, queueIds: selectedQueueIds, allTicket: values.allTicket };\n\t\ttry {\n\t\t\tif (userId) {\n\t\t\t\tawait api.put(`/users/${userId}`, userData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/users\", userData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"userModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{userId\n\t\t\t\t\t\t? `${i18n.t(\"userModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"userModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveUser(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.password\")}\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff /> : <Visibility />}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"profile\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"profile-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"profile-selection\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"admin\">Admin</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"user\">User</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t<QueueSelect\n\t\t\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\n\t\t\t\t\t\t\t\t\t\t\tonChange={values => setSelectedQueueIds(values)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" margin=\"dense\" className={classes.maxWidth} fullWidth>\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.whatsapp\")}\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={whatsappId}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setWhatsappId(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.whatsapp\")}\n\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApps.map((whatsapp) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={whatsapp.id} value={whatsapp.id}>{whatsapp.name}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\tyes={() => (!loading &&\n\t\t\t\t\t\t\t\t\t\t<div className={classes.textField}>\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\n\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.allTicket\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"allTicket.form.viewTags\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"allTicket\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"allTicket-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"allTicket-selection\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enabled\">{i18n.t(\"userModal.form.allTicketEnabled\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"desabled\">{i18n.t(\"userModal.form.allTicketDesabled\")}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"userModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"userModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default UserModal;\n","import React from \"react\";\n\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\",\n\t},\n}));\n\nconst BackdropLoading = () => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Backdrop className={classes.backdrop} open={true}>\n\t\t\t<CircularProgress color=\"inherit\" />\n\t\t</Backdrop>\n\t);\n};\n\nexport default BackdropLoading;\n","import React, { useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { CssBaseline, IconButton } from \"@material-ui/core\";\nimport Brightness4Icon from \"@material-ui/icons/Brightness4\";\nimport Brightness7Icon from \"@material-ui/icons/Brightness7\";\n\nconst useStyles = makeStyles((theme) => ({\n    icons: {\n        color: \"#fff\",\n    },\n    switch: {\n        color: \"#fff\",\n    },\n    visible: {\n        display: \"none\",\n    },\n    btnHeader: {\n        color: \"#fff\",\n    },\n}));\n\nconst DarkMode = (props) => {\n    const classes = useStyles();\n\n    const [theme, setTheme] = useState(\"light\");\n\n    const themeToggle = () => {\n        theme === \"light\" ? setTheme(\"dark\") : setTheme(\"light\");\n    };\n\n    const handleClick = () => {\n        props.themeToggle();\n        themeToggle();\n    };\n\n    return (\n        <>\n            {theme === \"light\" ? (\n                <>\n                    <CssBaseline />\n                    <IconButton\n                        className={classes.icons}\n                        onClick={handleClick}\n                        // ref={anchorEl}\n                        aria-label=\"Dark Mode\"\n                        color=\"inherit\"\n                    >\n                        <Brightness4Icon />\n                    </IconButton>\n                </>\n            ) : (\n                <>\n                    <CssBaseline />\n                    <IconButton\n                        className={classes.icons}\n                        onClick={handleClick}\n                        // ref={anchorEl}\n                        aria-label=\"Dark Mode\"\n                        color=\"inherit\"\n                    >\n                        <Brightness7Icon />\n                    </IconButton>\n                </>\n            )}\n        </>\n    );\n};\n\nexport default DarkMode;\n","import React, { useEffect, useReducer, useState, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport toastError from \"../../errors/toastError\";\nimport Popover from \"@material-ui/core/Popover\";\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\nimport Notifications from \"@material-ui/icons/Notifications\"\n\nimport {\n  Avatar,\n  Badge,\n  IconButton,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Dialog,\n  Paper,\n  Typography,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  DialogContentText,\n} from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { isArray } from \"lodash\";\nimport moment from \"moment\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    maxHeight: 3000,\n    maxWidth: 5000,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nfunction AnnouncementDialog({ announcement, open, handleClose }) {\n  const getMediaPath = (filename) => {\n    return `${process.env.REACT_APP_BACKEND_URL}/public/${filename}`;\n  };\n  return (\n    <Dialog\n      open={open}\n      onClose={() => handleClose()}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{announcement.title}</DialogTitle>\n      <DialogContent>\n        {announcement.mediaPath && (\n          <div\n            style={{\n              border: \"1px solid #f1f1f1\",\n              margin: \"0 auto 20px\",\n              textAlign: \"center\",\n              width: \"400px\",\n              height: 300,\n              backgroundImage: `url(${getMediaPath(announcement.mediaPath)})`,\n              backgroundRepeat: \"no-repeat\",\n              backgroundSize: \"contain\",\n              backgroundPosition: \"center\",\n            }}\n          ></div>\n        )}\n        <DialogContentText id=\"alert-dialog-description\">\n          {announcement.text}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => handleClose()} color=\"primary\" autoFocus>\n          Fechar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\n    const announcements = action.payload;\n    const newAnnouncements = [];\n\n    if (isArray(announcements)) {\n      announcements.forEach((announcement) => {\n        const announcementIndex = state.findIndex(\n          (u) => u.id === announcement.id\n        );\n        if (announcementIndex !== -1) {\n          state[announcementIndex] = announcement;\n        } else {\n          newAnnouncements.push(announcement);\n        }\n      });\n    }\n\n    return [...state, ...newAnnouncements];\n  }\n\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\n    const announcement = action.payload;\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\n\n    if (announcementIndex !== -1) {\n      state[announcementIndex] = announcement;\n      return [...state];\n    } else {\n      return [announcement, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\n    const announcementId = action.payload;\n\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\n    if (announcementIndex !== -1) {\n      state.splice(announcementIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nexport default function AnnouncementsPopover() {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam] = useState(\"\");\n  const [announcements, dispatch] = useReducer(reducer, []);\n  const [invisible, setInvisible] = useState(false);\n  const [announcement, setAnnouncement] = useState({});\n  const [showAnnouncementDialog, setShowAnnouncementDialog] = useState(false);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchAnnouncements();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n    \n    if (!socket) {\n      return () => {}; \n    }\n\n    socket.on(`company-announcement`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\n        setInvisible(false);\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager]);\n\n  const fetchAnnouncements = async () => {\n    try {\n      const { data } = await api.get(\"/announcements/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setInvisible(true);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const borderPriority = (priority) => {\n    if (priority === 1) {\n      return \"4px solid #b81111\";\n    }\n    if (priority === 2) {\n      return \"4px solid orange\";\n    }\n    if (priority === 3) {\n      return \"4px solid grey\";\n    }\n  };\n\n  const getMediaPath = (filename) => {\n    return `${process.env.REACT_APP_BACKEND_URL}/public/${filename}`;\n  };\n\n  const handleShowAnnouncementDialog = (record) => {\n    setAnnouncement(record);\n    setShowAnnouncementDialog(true);\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  return (\n    <div>\n      <AnnouncementDialog\n        announcement={announcement}\n        open={showAnnouncementDialog}\n        handleClose={() => setShowAnnouncementDialog(false)}\n      />\n      <IconButton\n        variant=\"contained\"\n        aria-describedby={id}\n        onClick={handleClick}\n        style={{ color: \"white\" }}\n      >\n        <Badge\n          color=\"secondary\"\n          variant=\"dot\"\n          invisible={invisible || announcements.length < 1}\n        >\n          <Notifications />\n        </Badge>\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <Paper\n          variant=\"outlined\"\n          onScroll={handleScroll}\n          className={classes.mainPaper}\n        >\n          <List\n            component=\"nav\"\n            aria-label=\"main mailbox folders\"\n            style={{ minWidth: 300 }}\n          >\n            {isArray(announcements) &&\n              announcements.map((item, key) => (\n                <ListItem\n                  key={key}\n                  style={{\n                    //background: key % 2 === 0 ? \"#ededed\" : \"white\",\n                    border: \"1px solid #eee\",\n                    borderLeft: borderPriority(item.priority),\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => handleShowAnnouncementDialog(item)}\n                >\n                  {item.mediaPath && (\n                    <ListItemAvatar>\n                      <Avatar\n                        alt={item.mediaName}\n                        src={getMediaPath(item.mediaPath)}\n                      />\n                    </ListItemAvatar>\n                  )}\n                  <ListItemText\n                    primary={item.title}\n                    secondary={\n                      <>\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\n                          {moment(item.createdAt).format(\"DD/MM/YYYY\")}\n                        </Typography>\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\n                        <Typography component=\"span\" variant=\"body2\">\n                          {item.text}\n                        </Typography>\n                      </>\n                    }\n                  />\n                </ListItem>\n              ))}\n            {isArray(announcements) && announcements.length === 0 && (\n              <ListItemText primary=\"Nenhum registro\" />\n            )}\n          </List>\n        </Paper>\n      </Popover>\n    </div>\n  );\n}\n","import moment from \"moment\";\n\nexport function useDate() {\n  function dateToClient(strDate) {\n    if (moment(strDate).isValid()) {\n      return moment(strDate).format(\"DD/MM/YYYY\");\n    }\n    return strDate;\n  }\n\n  function datetimeToClient(strDate) {\n    if (moment(strDate).isValid()) {\n      return moment(strDate).format(\"DD/MM/YYYY HH:mm\");\n    }\n    return strDate;\n  }\n\n  function dateToDatabase(strDate) {\n    if (moment(strDate, \"DD/MM/YYYY\").isValid()) {\n      return moment(strDate).format(\"YYYY-MM-DD HH:mm:ss\");\n    }\n    return strDate;\n  }\n\n  return {\n    dateToClient,\n    datetimeToClient,\n    dateToDatabase,\n  };\n}\n","import React, {\n  useContext,\n  useEffect,\n  useReducer,\n  useRef,\n  useState,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport toastError from \"../../errors/toastError\";\nimport Popover from \"@material-ui/core/Popover\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport {\n  Badge,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { isArray } from \"lodash\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { useDate } from \"../../hooks/useDate\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport notifySound from \"../../assets/chat_notify.mp3\";\nimport useSound from \"use-sound\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    maxHeight: 300,\n    maxWidth: 500,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CHATS\") {\n    const chats = action.payload;\n    const newChats = [];\n\n    if (isArray(chats)) {\n      chats.forEach((chat) => {\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\n        if (chatIndex !== -1) {\n          state[chatIndex] = chat;\n        } else {\n          newChats.push(chat);\n        }\n      });\n    }\n\n    return [...state, ...newChats];\n  }\n\n  if (action.type === \"UPDATE_CHATS\") {\n    const chat = action.payload;\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\n\n    if (chatIndex !== -1) {\n      state[chatIndex] = chat;\n      return [...state];\n    } else {\n      return [chat, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CHAT\") {\n    const chatId = action.payload;\n\n    const chatIndex = state.findIndex((u) => u.id === chatId);\n    if (chatIndex !== -1) {\n      state.splice(chatIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n\n  if (action.type === \"CHANGE_CHAT\") {\n    const changedChats = state.map((chat) => {\n      if (chat.id === action.payload.chat.id) {\n        return action.payload.chat;\n      }\n      return chat;\n    });\n    return changedChats;\n  }\n};\n\nexport default function ChatPopover() {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam] = useState(\"\");\n  const [chats, dispatch] = useReducer(reducer, []);\n  const [invisible, setInvisible] = useState(true);\n  const { datetimeToClient } = useDate();\n  const [play] = useSound(notifySound);\n  const soundAlertRef = useRef();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    soundAlertRef.current = play;\n\n    if (!(\"Notification\" in window)) {\n      console.log(\"This browser doesn't support notifications\");\n    } else {\n      Notification.requestPermission();\n    }\n  }, [play]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchChats();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n    if (!socket) {\n      return () => {}; \n    }\n    \n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"new-message\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n        const userIds = data.newMessage.chat.users.map(userObj => userObj.userId);\n\n        if (userIds.includes(user.id) && data.newMessage.senderId !== user.id) {\n          soundAlertRef.current();\n        }\n      }\n      if (data.action === \"update\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager, user.id]);\n\n  useEffect(() => {\n    let unreadsCount = 0;\n    if (chats.length > 0) {\n      for (let chat of chats) {\n        for (let chatUser of chat.users) {\n          if (chatUser.userId === user.id) {\n            unreadsCount += chatUser.unreads;\n          }\n        }\n      }\n    }\n    if (unreadsCount > 0) {\n      setInvisible(false);\n    } else {\n      setInvisible(true);\n    }\n  }, [chats, user.id]);\n\n  const fetchChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setInvisible(true);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const goToMessages = (chat) => {\n    window.location.href = `/chats/${chat.uuid}`;\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  return (\n    <div>\n      <IconButton\n        aria-describedby={id}\n        variant=\"contained\"\n        color={invisible ? \"default\" : \"inherit\"}\n        onClick={handleClick}\n        style={{ color: \"white\" }}\n      >\n        <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\n          <ForumIcon />\n        </Badge>\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <Paper\n          variant=\"outlined\"\n          onScroll={handleScroll}\n          className={classes.mainPaper}\n        >\n          <List\n            component=\"nav\"\n            aria-label=\"main mailbox folders\"\n            style={{ minWidth: 300 }}\n          >\n            {isArray(chats) &&\n              chats.map((item, key) => (\n                <ListItem\n                  key={key}\n                  style={{\n                    background: key % 2 === 0 ? \"#ededed\" : \"white\",\n                    border: \"1px solid #eee\",\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => goToMessages(item)}\n                  button\n                >\n                  <ListItemText\n                    primary={item.lastMessage}\n                    secondary={\n                      <>\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\n                          {datetimeToClient(item.updatedAt)}\n                        </Typography>\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\n                      </>\n                    }\n                  />\n                </ListItem>\n              ))}\n            {isArray(chats) && chats.length === 0 && (\n              <ListItemText primary={i18n.t(\"mainDrawer.appBar.notRegister\")} />\n            )}\n          </List>\n        </Paper>\n      </Popover>\n    </div>\n  );\n}\n","import React, { useState, useContext, useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport moment from \"moment\";\nimport {\n  makeStyles,\n  Drawer,\n  AppBar,\n  Toolbar,\n  List,\n  Typography,\n  Divider,\n  MenuItem,\n  IconButton,\n  Menu,\n  useTheme,\n  useMediaQuery,\n} from \"@material-ui/core\";\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport CachedIcon from \"@material-ui/icons/Cached\";\n\nimport MainListItems from \"./MainListItems\";\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\nimport NotificationsVolume from \"../components/NotificationsVolume\";\nimport UserModal from \"../components/UserModal\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\nimport DarkMode from \"../components/DarkMode\";\nimport { i18n } from \"../translate/i18n\";\nimport toastError from \"../errors/toastError\";\nimport AnnouncementsPopover from \"../components/AnnouncementsPopover\";\n\n//import logo from \"../assets/logo.png\";\nimport { SocketContext } from \"../context/Socket/SocketContext\";\nimport ChatPopover from \"../pages/Chat/ChatPopover\";\n\nimport { useDate } from \"../hooks/useDate\";\n\nimport ColorModeContext from \"../layout/themeContext\";\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100vh\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"calc(100vh - 56px)\",\n    },\n    backgroundColor: theme.palette.fancyBackground,\n    '& .MuiButton-outlinedPrimary': {\n      color: theme.mode === 'light' ? '#FFF' : '#FFF',\n\t  backgroundColor: theme.mode === 'light' ? '#2f0549' : '#1c1c1c',\n      //border: theme.mode === 'light' ? '1px solid rgba(0 124 102)' : '1px solid rgba(255, 255, 255, 0.5)',\n    },\n    '& .MuiTab-textColorPrimary.Mui-selected': {\n      color: theme.mode === 'light' ? '#2f0549' : '#FFF',\n    }\n  },\n  avatar: {\n    width: \"100%\",\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n    color: theme.palette.dark.main,\n    background: theme.palette.barraSuperior,\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: \"0 8px\",\n    minHeight: \"48px\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"48px\"\n    }\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\"\n    }\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n    fontSize: 14,\n    color: \"white\",\n  },\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\"\n    },\n    ...theme.scrollbarStylesSoft\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9),\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\"\n    }\n  },\n  appBarSpacer: {\n    minHeight: \"48px\",\n  },\n  content: {\n    flex: 1,\n    overflow: \"auto\",\n\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\"\n  },\n  containerWithScroll: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  NotificationsPopOver: {\n    // color: theme.barraSuperior.secondary.main,\n  },\n  logo: {\n    width: \"80%\",\n    height: \"auto\",\n    maxWidth: 180,\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"auto\",\n      height: \"80%\",\n      maxWidth: 180,\n    },\n    logo: theme.logo\n  },\n}));\n\nconst LoggedInLayout = ({ children, themeToggle }) => {\n  const classes = useStyles();\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const { handleLogout, loading } = useContext(AuthContext);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\n  // const [dueDate, setDueDate] = useState(\"\");\n  const { user } = useContext(AuthContext);\n\n  const theme = useTheme();\n  const { colorMode } = useContext(ColorModeContext);\n  const greaterThenSm = useMediaQuery(theme.breakpoints.up(\"sm\"));\n\n  const [volume, setVolume] = useState(localStorage.getItem(\"volume\") || 1);\n\n  const { dateToClient } = useDate();\n\n\n  //################### CODIGOS DE TESTE #########################################\n  // useEffect(() => {\n  //   navigator.getBattery().then((battery) => {\n  //     console.log(`Battery Charging: ${battery.charging}`);\n  //     console.log(`Battery Level: ${battery.level * 100}%`);\n  //     console.log(`Charging Time: ${battery.chargingTime}`);\n  //     console.log(`Discharging Time: ${battery.dischargingTime}`);\n  //   })\n  // }, []);\n\n  // useEffect(() => {\n  //   const geoLocation = navigator.geolocation\n\n  //   geoLocation.getCurrentPosition((position) => {\n  //     let lat = position.coords.latitude;\n  //     let long = position.coords.longitude;\n\n  //     console.log('latitude: ', lat)\n  //     console.log('longitude: ', long)\n  //   })\n  // }, []);\n\n  // useEffect(() => {\n  //   const nucleos = window.navigator.hardwareConcurrency;\n\n  //   console.log('Nucleos: ', nucleos)\n  // }, []);\n\n  // useEffect(() => {\n  //   console.log('userAgent', navigator.userAgent)\n  //   if (\n  //     navigator.userAgent.match(/Android/i)\n  //     || navigator.userAgent.match(/webOS/i)\n  //     || navigator.userAgent.match(/iPhone/i)\n  //     || navigator.userAgent.match(/iPad/i)\n  //     || navigator.userAgent.match(/iPod/i)\n  //     || navigator.userAgent.match(/BlackBerry/i)\n  //     || navigator.userAgent.match(/Windows Phone/i)\n  //   ) {\n  //     console.log('é mobile ', true) //celular\n  //   }\n  //   else {\n  //     console.log('não é mobile: ', false) //nao é celular\n  //   }\n  // }, []);\n  //##############################################################################\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    if (document.body.offsetWidth > 1200) {\n      setDrawerOpen(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerVariant(\"temporary\");\n    } else {\n      setDrawerVariant(\"permanent\");\n    }\n  }, [drawerOpen]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const userId = localStorage.getItem(\"userId\");\n\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-auth`, (data) => {\n      if (data.user.id === +userId) {\n        toastError(\"Sua conta foi acessada em outro computador.\");\n        setTimeout(() => {\n          localStorage.clear();\n          window.location.reload();\n        }, 1000);\n      }\n    });\n\n    socket.emit(\"userStatus\");\n    const interval = setInterval(() => {\n      socket.emit(\"userStatus\");\n    }, 1000 * 60 * 5);\n\n    return () => {\n      socket.disconnect();\n      clearInterval(interval);\n    };\n  }, [socketManager]);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n    setMenuOpen(true);\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n    setMenuOpen(false);\n  };\n\n  const handleOpenUserModal = () => {\n    setUserModalOpen(true);\n    handleCloseMenu();\n  };\n\n  const handleClickLogout = () => {\n    handleCloseMenu();\n    handleLogout();\n  };\n\n  const drawerClose = () => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  const handleRefreshPage = () => {\n    window.location.reload(false);\n  }\n\n  const handleMenuItemClick = () => {\n    const { innerWidth: width } = window;\n    if (width <= 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  const toggleColorMode = () => {\n    colorMode.toggleColorMode();\n  }\n\n  if (loading) {\n    return <BackdropLoading />;\n  }\n  \n  \tconst logo = `${process.env.REACT_APP_BACKEND_URL}/public/logotipos/interno.png`;\n    const randomValue = Math.random(); // Generate a random number\n  \n    const logoWithRandom = `${logo}?r=${randomValue}`;\n\n  return (\n    <div className={classes.root}>\n      <Drawer\n        variant={drawerVariant}\n        className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\n        classes={{\n          paper: clsx(\n            classes.drawerPaper,\n            !drawerOpen && classes.drawerPaperClose\n          ),\n        }}\n        open={drawerOpen}\n      >\n        <div className={classes.toolbarIcon}>\n          <img src={logoWithRandom} style={{ margin: \"0 auto\" , width: \"50%\"}} alt={`${process.env.REACT_APP_NAME_SYSTEM}`} />\n          <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List className={classes.containerWithScroll}>\n          <MainListItems drawerClose={drawerClose} collapsed={!drawerOpen} />\n        </List>\n        <Divider />\n      </Drawer>\n      <UserModal\n        open={userModalOpen}\n        onClose={() => setUserModalOpen(false)}\n        userId={user?.id}\n      />\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, drawerOpen && classes.appBarShift)}\n        color=\"primary\"\n      >\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            variant=\"contained\"\n            aria-label=\"open drawer\"\n            onClick={() => setDrawerOpen(!drawerOpen)}\n            className={clsx(\n              classes.menuButton,\n              drawerOpen && classes.menuButtonHidden\n            )}\n          >\n            <MenuIcon />\n          </IconButton>\n\n          <Typography\n            component=\"h2\"\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            className={classes.title}\n          >\n            {/* {greaterThenSm && user?.profile === \"admin\" && getDateAndDifDays(user?.company?.dueDate).difData < 7 ? ( */}\n            {greaterThenSm && user?.profile === \"admin\" && user?.company?.dueDate ? (\n              <>\n                Olá <b>{user.name}</b>, Bem vindo a <b>{user?.company?.name}</b>! (Ativo até {dateToClient(user?.company?.dueDate)})\n              </>\n            ) : (\n              <>\n                Olá  <b>{user.name}</b>, Bem vindo a <b>{user?.company?.name}</b>!\n              </>\n            )}\n          </Typography>\n\n          <IconButton edge=\"start\" onClick={toggleColorMode}>\n            {theme.mode === 'dark' ? <Brightness7Icon style={{ color: \"white\" }} /> : <Brightness4Icon style={{ color: \"white\" }} />}\n          </IconButton>\n\n          <NotificationsVolume\n            setVolume={setVolume}\n            volume={volume}\n          />\n\n          <IconButton\n            onClick={handleRefreshPage}\n            aria-label={i18n.t(\"mainDrawer.appBar.refresh\")}\n            color=\"inherit\"\n          >\n            <CachedIcon style={{ color: \"white\" }} />\n          </IconButton>\n\n          {user.id && <NotificationsPopOver volume={volume} />}\n\n          <AnnouncementsPopover />\n\n          <ChatPopover />\n\n          <div>\n            <IconButton\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleMenu}\n              variant=\"contained\"\n              style={{ color: \"white\" }}\n            >\n              <AccountCircle />\n            </IconButton>\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorEl}\n              getContentAnchorEl={null}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\",\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\",\n              }}\n              open={menuOpen}\n              onClose={handleCloseMenu}\n            >\n              <MenuItem onClick={handleOpenUserModal}>\n                {i18n.t(\"mainDrawer.appBar.user.profile\")}\n              </MenuItem>\n            </Menu>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n\n        {children ? children : null}\n      </main>\n    </div>\n  );\n};\n\nexport default LoggedInLayout;\n","import React from \"react\";\n\nimport { Avatar, Card, CardHeader, Typography } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles(theme => ({\n\tcardAvatar: {\n\t\tfontSize: '55px',\n\t\tcolor: grey[500],\n\t\tbackgroundColor: '#ffffff',\n\t\twidth: theme.spacing(7),\n\t\theight: theme.spacing(7)\n\t},\n\tcardTitle: {\n\t\tfontSize: '18px',\n\t\tcolor: theme.palette.text.primary\n\t},\n\tcardSubtitle: {\n\t\tcolor: grey[600],\n\t\tfontSize: '14px'\n\t}\n}));\n\nexport default function CardCounter(props) {\n    const { icon, title, value, loading } = props\n\tconst classes = useStyles();\n    return ( !loading ? \n        <Card>\n            <CardHeader\n                avatar={\n                    <Avatar className={classes.cardAvatar}>\n                        {icon}\n                    </Avatar>\n                }\n                title={\n                    <Typography variant=\"h6\" component=\"h2\" className={classes.cardTitle}>\n                        { title }\n                    </Typography>\n                }\n                subheader={\n                    <Typography variant=\"subtitle1\" component=\"p\" className={classes.cardSubtitle}>\n                        { value }\n                    </Typography>\n                }\n            />\n        </Card>\n        : <Skeleton variant=\"rect\" height={80} />\n    )\n    \n}","import React from \"react\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green, red } from '@material-ui/core/colors';\n\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport moment from 'moment';\n\nimport Rating from '@material-ui/lab/Rating';\n\nconst useStyles = makeStyles(theme => ({\n\ton: {\n\t\tcolor: green[600],\n\t\tfontSize: '20px'\n\t},\n\toff: {\n\t\tcolor: red[600],\n\t\tfontSize: '20px'\n\t},\n    pointer: {\n        cursor: \"pointer\"\n    }\n}));\n\nexport function RatingBox ({ rating }) {\n    const ratingTrunc = rating === null ? 0 : Math.trunc(rating);\n    return <Rating\n        defaultValue={ratingTrunc}\n        max={3}\n        readOnly\n    />\n}\n\nexport default function TableAttendantsStatus(props) {\n    const { loading, attendants } = props\n\tconst classes = useStyles();\n\n    function renderList () {\n        return attendants.map((a, k) => (\n            <TableRow key={k}>\n                <TableCell>{a.name}</TableCell>\n                <TableCell align=\"center\" title=\"1 - Insatisfeito, 2 - Satisfeito, 3 - Muito Satisfeito\" className={classes.pointer}>\n                    <RatingBox rating={a.rating} />\n                </TableCell>\n                <TableCell align=\"center\">{formatTime(a.avgSupportTime, 2)}</TableCell>\n                <TableCell align=\"center\">\n                    { a.online ?\n                        <CheckCircleIcon className={classes.on} />\n                        : <ErrorIcon className={classes.off} />\n                    }\n                </TableCell>\n            </TableRow>\n        ))\n    }\n\n\tfunction formatTime(minutes){\n\t\treturn moment().startOf('day').add(minutes, 'minutes').format('HH[h] mm[m]');\n\t}\n\n    return ( !loading ?\n        <TableContainer component={Paper}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>Nome</TableCell>\n                        <TableCell align=\"center\">Avaliações</TableCell>\n                        <TableCell align=\"center\">T.M. de Atendimento</TableCell>\n                        <TableCell align=\"center\">Status (Atual)</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    { renderList() }\n                    {/* <TableRow>\n                        <TableCell>Nome 4</TableCell>\n                        <TableCell align=\"center\">10</TableCell>\n                        <TableCell align=\"center\">10 minutos</TableCell>\n                        <TableCell align=\"center\">\n                            <CheckCircleIcon className={classes.off} />\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell>Nome 5</TableCell>\n                        <TableCell align=\"center\">10</TableCell>\n                        <TableCell align=\"center\">10 minutos</TableCell>\n                        <TableCell align=\"center\">\n                            <CheckCircleIcon className={classes.on} />\n                        </TableCell>\n                    </TableRow> */}\n                </TableBody>\n            </Table>\n        </TableContainer>\n        : <Skeleton variant=\"rect\" height={150} />\n    )\n}","import api from \"../../services/api\";\n\nconst useDashboard = () => {\n\n    const find = async (params) => {\n        const { data } = await api.request({\n            url: `/dashboard`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n    const getReport = async (params) => {\n        const { data } = await api.request({\n            url: `/ticket/reports`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n    return {\n        find,\n        getReport\n    }\n}\n\nexport default useDashboard;","import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useContacts = ({ searchParam, pageNumber, date, dateStart, dateEnd }) => {\n    const [loading, setLoading] = useState(true);\n    const [hasMore, setHasMore] = useState(false);\n    const [contacts, setContacts] = useState([]);\n    const [count, setCount] = useState(0);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            const fetchContacts = async () => {\n                try {\n                    const { data } = await api.get(\"/contacts\", {\n                        params: {\n                            searchParam,\n                            pageNumber,\n                            date,\n                            dateStart,\n                            dateEnd,\n                        },\n                    });\n                    setContacts(data.contacts);\n\n                    setHasMore(data.hasMore);\n                    setCount(data.count);\n                    setLoading(false);\n                } catch (err) {\n                    setLoading(false);\n                    toastError(err);\n                }\n            };\n\n            fetchContacts();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchParam, pageNumber, date, dateStart, dateEnd]);\n\n    return { contacts, loading, hasMore, count };\n};\n\nexport default useContacts;\n","import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useMessages = ({ fromMe, dateStart, dateEnd }) => {\n    const [loading, setLoading] = useState(true);\n    const [count, setCount] = useState(0);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            const fetchMessages = async () => {\n                try {\n                    const { data } = await api.get(\"/messages-allMe\", {\n                        params: {\n                            fromMe,\n                            dateStart,\n                            dateEnd,\n                        },\n                    });\n                    setCount(data.count[0].count);\n                    setLoading(false);\n                } catch (err) {\n                    setLoading(false);\n                    toastError(err);\n                }\n            };\n\n            fetchMessages();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [dateStart, dateEnd]);\n\n    return { count };\n};\n\nexport default useMessages;\n","import React, { useEffect, useState } from 'react';\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend,\n} from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport brLocale from 'date-fns/locale/pt-BR';\nimport { DatePicker, LocalizationProvider } from '@mui/x-date-pickers';\nimport { Button, Stack, TextField } from '@mui/material';\nimport Typography from \"@material-ui/core/Typography\";\nimport api from '../../services/api';\nimport { format } from 'date-fns';\nimport { toast } from 'react-toastify';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport './button.css';\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.padding,\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(2),\n    }\n}));\n\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend,\n    ChartDataLabels\n);\n\nexport const options = {\n    responsive: true,\n    plugins: {\n        legend: {\n            position: 'top',\n            display: false,\n        },\n        title: {\n            display: true,\n            text: 'Gráfico de Conversas',\n            position: 'left',\n        },\n        datalabels: {\n            display: true,\n            anchor: 'start',\n            offset: -30,\n            align: \"start\",\n            color: \"#fff\",\n            textStrokeColor: \"#000\",\n            textStrokeWidth: 2,\n            font: {\n                size: 20,\n                weight: \"bold\"\n\n            },\n        }\n    },\n};\n\nexport const ChatsUser = () => {\n    // const classes = useStyles();\n    const [initialDate, setInitialDate] = useState(new Date());\n    const [finalDate, setFinalDate] = useState(new Date());\n    const [ticketsData, setTicketsData] = useState({ data: [] });\n\n    const companyId = localStorage.getItem(\"companyId\");\n\n    useEffect(() => {\n        handleGetTicketsInformation();\n    }, []);\n\n    const dataCharts = {\n\n        labels: ticketsData && ticketsData?.data.length > 0 && ticketsData?.data.map((item) => item.nome),\n        datasets: [\n            {\n                data: ticketsData?.data.length > 0 && ticketsData?.data.map((item, index) => {\n                    return item.quantidade\n                }),\n                backgroundColor: '#2DDD7F',\n            },\n\n        ],\n    };\n\n    const handleGetTicketsInformation = async () => {\n        try {\n\n            const { data } = await api.get(`/dashboard/ticketsUsers?initialDate=${format(initialDate, 'yyyy-MM-dd')}&finalDate=${format(finalDate, 'yyyy-MM-dd')}&companyId=${companyId}`);\n            setTicketsData(data);\n        } catch (error) {\n            toast.error('Erro ao obter informações da conversa');\n        }\n    }\n\n    return (\n        <>\n            <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n                Total de Conversas por Usuários\n            </Typography>\n\n            <Stack direction={'row'} spacing={2} alignItems={'center'} sx={{ my: 2, }} >\n\n                <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\n                    <DatePicker\n                        value={initialDate}\n                        onChange={(newValue) => { setInitialDate(newValue) }}\n                        label=\"Inicio\"\n                        renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\n\n                    />\n                </LocalizationProvider>\n\n                <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\n                    <DatePicker\n                        value={finalDate}\n                        onChange={(newValue) => { setFinalDate(newValue) }}\n                        label=\"Fim\"\n                        renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\n                    />\n                </LocalizationProvider>\n\n                <Button className=\"buttonHover\" onClick={handleGetTicketsInformation} variant='contained'>Filtrar</Button>\n\n            </Stack>\n            <Bar options={options} data={dataCharts} style={{ maxWidth: '100%', maxHeight: '280px', }} />\n        </>\n    );\n}","import React, { useEffect, useState } from 'react';\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend,\n} from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport brLocale from 'date-fns/locale/pt-BR';\nimport { DatePicker, LocalizationProvider } from '@mui/x-date-pickers';\nimport { Button, Stack, TextField } from '@mui/material';\nimport Typography from \"@material-ui/core/Typography\";\nimport api from '../../services/api';\nimport { format } from 'date-fns';\nimport { toast } from 'react-toastify';\nimport './button.css';\n\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    BarElement,\n    Title,\n    Tooltip,\n    Legend\n);\n\nexport const options = {\n    responsive: true,\n    plugins: {\n        legend: {\n            position: 'top',\n            display: false,\n        },\n        title: {\n            display: true,\n            text: 'Gráfico de Conversas',\n            position: 'left',\n        },\n        datalabels: {\n            display: true,\n            anchor: 'start',\n            offset: -30,\n            align: \"start\",\n            color: \"#fff\",\n            textStrokeColor: \"#000\",\n            textStrokeWidth: 2,\n            font: {\n                size: 20,\n                weight: \"bold\"\n\n            },\n        }\n    },\n};\n\nexport const ChartsDate = () => {\n\n    const [initialDate, setInitialDate] = useState(new Date());\n    const [finalDate, setFinalDate] = useState(new Date());\n    const [ticketsData, setTicketsData] = useState({ data: [], count: 0 });\n\n    const companyId = localStorage.getItem(\"companyId\");\n\n    useEffect(() => {\n        handleGetTicketsInformation();\n    }, []);\n\n    const dataCharts = {\n\n        labels: ticketsData && ticketsData?.data.length > 0 && ticketsData?.data.map((item) => (item.hasOwnProperty('horario') ? `Das ${item.horario}:00 as ${item.horario}:59` : item.data)),\n        datasets: [\n            {\n                // label: 'Dataset 1',\n                data: ticketsData?.data.length > 0 && ticketsData?.data.map((item, index) => {\n                    return item.total\n                }),\n                backgroundColor: '#2DDD7F',\n            },\n        ],\n    };\n\n    const handleGetTicketsInformation = async () => {\n        try {\n            const { data } = await api.get(`/dashboard/ticketsDay?initialDate=${format(initialDate, 'yyyy-MM-dd')}&finalDate=${format(finalDate, 'yyyy-MM-dd')}&companyId=${companyId}`);\n            setTicketsData(data);\n        } catch (error) {\n            toast.error('Erro ao buscar informações dos tickets');\n        }\n    }\n\n    return (\n        <>\n            <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n                Total ({ticketsData?.count})\n            </Typography>\n\n            <Stack direction={'row'} spacing={2} alignItems={'center'} sx={{ my: 2, }} >\n\n                <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\n                    <DatePicker\n                        value={initialDate}\n                        onChange={(newValue) => { setInitialDate(newValue) }}\n                        label=\"Inicio\"\n                        renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\n\n                    />\n                </LocalizationProvider>\n\n                <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\n                    <DatePicker\n                        value={finalDate}\n                        onChange={(newValue) => { setFinalDate(newValue) }}\n                        label=\"Fim\"\n                        renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\n                    />\n                </LocalizationProvider>\n\n                <Button className=\"buttonHover\" onClick={handleGetTicketsInformation} variant='contained' >Filtrar</Button>\n\n            </Stack>\n            <Bar options={options} data={dataCharts} style={{ maxWidth: '100%', maxHeight: '280px', }} />\n        </>\n    );\n}","import React, { useContext, useState, useEffect } from \"react\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Button } from \"@material-ui/core\";\nimport MobileFriendlyIcon from '@material-ui/icons/MobileFriendly';\nimport StoreIcon from '@material-ui/icons/Store';\nimport SpeedIcon from \"@material-ui/icons/Speed\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport CallIcon from \"@material-ui/icons/Call\";\nimport RecordVoiceOverIcon from \"@material-ui/icons/RecordVoiceOver\";\nimport GroupAddIcon from \"@material-ui/icons/GroupAdd\";\nimport HourglassEmptyIcon from \"@material-ui/icons/HourglassEmpty\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport SendIcon from '@material-ui/icons/Send';\nimport MessageIcon from '@material-ui/icons/Message';\nimport AccessAlarmIcon from '@material-ui/icons/AccessAlarm';\nimport TimerIcon from '@material-ui/icons/Timer';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey, blue } from \"@material-ui/core/colors\";\nimport { toast } from \"react-toastify\";\n\nimport Chart from \"./Chart\";\nimport ButtonWithSpinner from \"../../components/ButtonWithSpinner\";\n\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\nimport TableAttendantsStatus from \"../../components/Dashboard/TableAttendantsStatus\";\nimport { isArray } from \"lodash\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport useDashboard from \"../../hooks/useDashboard\";\nimport useTickets from \"../../hooks/useTickets\";\nimport useUsers from \"../../hooks/useUsers\";\nimport useContacts from \"../../hooks/useContacts\";\nimport useMessages from \"../../hooks/useMessages\";\nimport { ChatsUser } from \"./ChartsUser\"\n\nimport Filters from \"./Filters\";\nimport { isEmpty } from \"lodash\";\nimport moment from \"moment\";\nimport { ChartsDate } from \"./ChartsDate\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.padding,\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(2),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: 240,\n    overflowY: \"auto\",\n    ...theme.scrollbarStyles,\n  },\n  cardAvatar: {\n    fontSize: \"55px\",\n    color: grey[500],\n    backgroundColor: \"#ffffff\",\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    color: blue[700],\n  },\n  cardSubtitle: {\n    color: grey[600],\n    fontSize: \"14px\",\n  },\n  alignRight: {\n    textAlign: \"right\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  selectContainer: {\n    width: \"100%\",\n    textAlign: \"left\",\n  },\n  iframeDashboard: {\n    width: \"100%\",\n    height: \"calc(100vh - 64px)\",\n    border: \"none\",\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 240,\n  },\n  customFixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 120,\n  },\n  customFixedHeightPaperLg: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n  },\n    card0: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#2f0549\",\n    color: \"#eee\",\n  },\n      card00: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#2f0549\",\n    color: \"#eee\",\n  },\n  card1: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#2f0549\",\n    color: \"#eee\",\n  },\n  card2: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#2f0549\",\n    color: \"#eee\",\n  },\n  card3: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#2f0549\",\n    color: \"#eee\",\n  },\n  card4: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#2f0549\",\n    color: \"#eee\",\n  },\n  card5: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#2f0549\",\n    color: \"#eee\",\n  },\n  card6: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#2f0549\",\n    color: \"#eee\",\n  },\n  card7: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#2f0549\",\n    color: \"#eee\",\n  },\n  card8: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#2f0549\",\n    color: \"#eee\",\n  },\n  card9: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    backgroundColor: \"#2f0549\",\n    color: \"#eee\",\n  },\n  fixedHeightPaper2: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n  },\n}));\n\nconst Dashboard = () => {\n  const classes = useStyles();\n  const [counters, setCounters] = useState({});\n  const [attendants, setAttendants] = useState([]);\n  const [period, setPeriod] = useState(0);\n  const [filterType, setFilterType] = useState(1);\n  const [dateFrom, setDateFrom] = useState(moment(\"1\", \"D\").format(\"YYYY-MM-DD\"));\n  const [dateTo, setDateTo] = useState(moment().format(\"YYYY-MM-DD\"));\n  const [loading, setLoading] = useState(false);\n  const { find } = useDashboard();\n\n  let newDate = new Date();\n  let date = newDate.getDate();\n  let month = newDate.getMonth() + 1;\n  let year = newDate.getFullYear();\n  let now = `${year}-${month < 10 ? `0${month}` : `${month}`}-${date < 10 ? `0${date}` : `${date}`}`;\n\n  const [showFilter, setShowFilter] = useState(false);\n  const [queueTicket, setQueueTicket] = useState(false);\n\n  const { user } = useContext(AuthContext);\n  var userQueueIds = [];\n\n  if (user.queues && user.queues.length > 0) {\n    userQueueIds = user.queues.map((q) => q.id);\n  }\n\n  useEffect(() => {\n    async function firstLoad() {\n      await fetchData();\n    }\n    setTimeout(() => {\n      firstLoad();\n    }, 1000);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  \n    async function handleChangePeriod(value) {\n    setPeriod(value);\n  }\n\n  async function handleChangeFilterType(value) {\n    setFilterType(value);\n    if (value === 1) {\n      setPeriod(0);\n    } else {\n      setDateFrom(\"\");\n      setDateTo(\"\");\n    }\n  }\n\n  async function fetchData() {\n    setLoading(true);\n\n    let params = {};\n\n    if (period > 0) {\n      params = {\n        days: period,\n      };\n    }\n\n    if (!isEmpty(dateFrom) && moment(dateFrom).isValid()) {\n      params = {\n        ...params,\n        date_from: moment(dateFrom).format(\"YYYY-MM-DD\"),\n      };\n    }\n\n    if (!isEmpty(dateTo) && moment(dateTo).isValid()) {\n      params = {\n        ...params,\n        date_to: moment(dateTo).format(\"YYYY-MM-DD\"),\n      };\n    }\n\n    if (Object.keys(params).length === 0) {\n      toast.error(\"Parametrize o filtro\");\n      setLoading(false);\n      return;\n    }\n\n    const data = await find(params);\n\n    setCounters(data.counters);\n    if (isArray(data.attendants)) {\n      setAttendants(data.attendants);\n    } else {\n      setAttendants([]);\n    }\n\n    setLoading(false);\n  }\n\n  function formatTime(minutes) {\n    return moment()\n      .startOf(\"day\")\n      .add(minutes, \"minutes\")\n      .format(\"HH[h] mm[m]\");\n  }\n\n  const GetUsers = () => {\n    let count;\n    let userOnline = 0;\n    attendants.forEach(user => {\n      if (user.online === true) {\n        userOnline = userOnline + 1\n      }\n    })\n    count = userOnline === 0 ? 0 : userOnline;\n    return count;\n  };\n  \n    const GetContacts = (all) => {\n    let props = {};\n    if (all) {\n      props = {};\n    }\n    const { count } = useContacts(props);\n    return count;\n  };\n  \n    function renderFilters() {\n    if (filterType === 1) {\n      return (\n        <>\n          <Grid item xs={12} sm={6} md={4}>\n            <TextField\n              label=\"Data Inicial\"\n              type=\"date\"\n              value={dateFrom}\n              onChange={(e) => setDateFrom(e.target.value)}\n              className={classes.fullWidth}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <TextField\n              label=\"Data Final\"\n              type=\"date\"\n              value={dateTo}\n              onChange={(e) => setDateTo(e.target.value)}\n              className={classes.fullWidth}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n          </Grid>\n        </>\n      );\n    } else {\n      return (\n        <Grid item xs={12} sm={6} md={4}>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"period-selector-label\">Período</InputLabel>\n            <Select\n              labelId=\"period-selector-label\"\n              id=\"period-selector\"\n              value={period}\n              onChange={(e) => handleChangePeriod(e.target.value)}\n            >\n              <MenuItem value={0}>Nenhum selecionado</MenuItem>\n              <MenuItem value={3}>Últimos 3 dias</MenuItem>\n              <MenuItem value={7}>Últimos 7 dias</MenuItem>\n              <MenuItem value={15}>Últimos 15 dias</MenuItem>\n              <MenuItem value={30}>Últimos 30 dias</MenuItem>\n              <MenuItem value={60}>Últimos 60 dias</MenuItem>\n              <MenuItem value={90}>Últimos 90 dias</MenuItem>\n            </Select>\n            <FormHelperText>Selecione o período desejado</FormHelperText>\n          </FormControl>\n        </Grid>\n      );\n    }\n  }\n\n  return (\n    <div>\n      <Container maxWidth=\"lg\" className={classes.container}>\n        <Grid container spacing={3} justifyContent=\"flex-end\">\n\t\t\n\t\t\t\t  {/* FILTROS */}\n          <Grid item xs={12} sm={6} md={4}>\n            <FormControl className={classes.selectContainer}>\n              <InputLabel id=\"period-selector-label\">Tipo de Filtro</InputLabel>\n              <Select\n                labelId=\"period-selector-label\"\n                value={filterType}\n                onChange={(e) => handleChangeFilterType(e.target.value)}\n              >\n                <MenuItem value={1}>Filtro por Data</MenuItem>\n                <MenuItem value={2}>Filtro por Período</MenuItem>\n              </Select>\n              <FormHelperText>Selecione o período desejado</FormHelperText>\n            </FormControl>\n          </Grid>\n\n          {renderFilters()}\n\n          {/* BOTAO FILTRAR */}\n          <Grid item xs={12} className={classes.alignRight}>\n            <ButtonWithSpinner\n              loading={loading}\n              onClick={() => fetchData()}\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              Filtrar\n            </ButtonWithSpinner>\n          </Grid>\n\t\t\n\t\t{/* CONEXÕES */}\n\t\t {user.super && (\t  \n\t\t  <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card0}\n              style={{ overflow: \"hidden\" }}\n              elevation={4}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    Conexões Ativas\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {counters.totalWhatsappSessions}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={2}>\n                  <MobileFriendlyIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#fff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\t\t  )}\n\t\t\n\t\t  \n\t\t {/* EMPRESAS */}\n\t\t {user.super && (\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card00}\n              style={{ overflow: \"hidden\" }}\n              elevation={4}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    Empresas\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {counters.totalCompanies}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={2}>\n                  <StoreIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#fff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\t\t  )}\n\n          {/* EM ATENDIMENTO */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card1}\n              style={{ overflow: \"hidden\" }}\n              elevation={4}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    Em Conversa\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {counters.supportHappening}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={2}>\n                  <CallIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#fff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {/* AGUARDANDO */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card2}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    Aguardando\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {counters.supportPending}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <HourglassEmptyIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#fff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {/* ATENDENTES ATIVOS */}\n\t\t\t  {/*<Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card6}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    Conversas Ativas\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {GetUsers()}\n                      <span\n                        style={{ color: \"#805753\" }}\n                      >\n                        /{attendants.length}\n                      </span>\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <RecordVoiceOverIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#fff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n</Grid>*/}\n\n          {/* FINALIZADOS */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card3}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    Finalizados\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {counters.supportFinished}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <CheckCircleIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#fff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {/* NOVOS CONTATOS */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card4}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    Novos Contatos\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {GetContacts(true)}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <GroupAddIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#fff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          \n          {/* T.M. DE ATENDIMENTO */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card8}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    T.M. de Conversa\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {formatTime(counters.avgSupportTime)}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <AccessAlarmIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#fff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\n          {/* T.M. DE ESPERA */}\n          <Grid item xs={12} sm={6} md={4}>\n            <Paper\n              className={classes.card9}\n              style={{ overflow: \"hidden\" }}\n              elevation={6}\n            >\n              <Grid container spacing={3}>\n                <Grid item xs={8}>\n                  <Typography\n                    component=\"h3\"\n                    variant=\"h6\"\n                    paragraph\n                  >\n                    T.M. de Espera\n                  </Typography>\n                  <Grid item>\n                    <Typography\n                      component=\"h1\"\n                      variant=\"h4\"\n                    >\n                      {formatTime(counters.avgWaitTime)}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4}>\n                  <TimerIcon\n                    style={{\n                      fontSize: 100,\n                      color: \"#fff\",\n                    }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n\t\t \n\n          {/* USUARIOS ONLINE */}\n          <Grid item xs={12}>\n            {attendants.length ? (\n              <TableAttendantsStatus\n                attendants={attendants}\n                loading={loading}\n              />\n            ) : null}\n          </Grid>\n\n          {/* TOTAL DE ATENDIMENTOS POR USUARIO */}\n          <Grid item xs={12}>\n            <Paper className={classes.fixedHeightPaper2}>\n              <ChatsUser />\n            </Paper>\n          </Grid>\n\n          {/* TOTAL DE ATENDIMENTOS */}\n          <Grid item xs={12}>\n            <Paper className={classes.fixedHeightPaper2}>\n              <ChartsDate />\n            </Paper>\n          </Grid>\n\n        </Grid>\n      </Container >\n    </div >\n  );\n};\n\nexport default Dashboard;\n","import React from \"react\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst TicketsSkeleton = () => {\n\treturn (\n\t\t<>\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={70} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={120} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t</>\n\t);\n};\n\nexport default TicketsSkeleton;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport TicketListItem from \"../TicketListItemCustom\";\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\n\nimport useTickets from \"../../hooks/useTickets\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsListWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  ticketsList: {\n    flex: 1,\n    maxHeight: \"100%\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n    borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  ticketsListHeader: {\n    color: \"rgb(67, 83, 105)\",\n    zIndex: 2,\n    backgroundColor: \"white\",\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n\n  ticketsCount: {\n    fontWeight: \"normal\",\n    color: \"rgb(104, 121, 146)\",\n    marginLeft: \"8px\",\n    fontSize: \"14px\",\n  },\n\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TICKETS\") {\n    const newTickets = action.payload;\n\n    newTickets.forEach((ticket) => {\n      const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n      if (ticketIndex !== -1) {\n        state[ticketIndex] = ticket;\n        if (ticket.unreadMessages > 0) {\n          state.unshift(state.splice(ticketIndex, 1)[0]);\n        }\n      } else {\n        state.push(ticket);\n      }\n    });\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET_UNREAD\") {\n    const ticketId = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].unreadMessages = 0;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n      state.unshift(state.splice(ticketIndex, 1)[0]);\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_CONTACT\") {\n    const contact = action.payload;\n    const ticketIndex = state.findIndex((t) => t.contactId === contact.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].contact = contact;\n    }\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_PRESENCE\") {\n    const data = action.payload;\n    const ticketIndex = state.findIndex((t) => t.id === data.ticketId);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].presence = data.presence;\n    }\n    return [...state];\n  }\n\n  if (action.type === \"DELETE_TICKET\") {\n    const ticketId = action.payload;\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state.splice(ticketIndex, 1);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst TicketsListCustom = (props) => {\n  const {\n    status,\n    searchParam,\n    tags,\n    users,\n    showAll,\n    selectedQueueIds,\n    updateCount,\n    style,\n  } = props;\n  const classes = useStyles();\n  const [pageNumber, setPageNumber] = useState(1);\n  const [ticketsList, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n  const { profile, queues } = user;\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [status, searchParam, dispatch, showAll, tags, users, selectedQueueIds]);\n\n  const { tickets, hasMore, loading } = useTickets({\n    pageNumber,\n    searchParam,\n    status,\n    showAll,\n    tags: JSON.stringify(tags),\n    users: JSON.stringify(users),\n    queueIds: JSON.stringify(selectedQueueIds),\n  });\n\n  useEffect(() => {\n    const queueIds = queues.map((q) => q.id);\n    const filteredTickets = tickets.filter(\n      (t) => queueIds.indexOf(t.queueId) > -1\n    );\n\n    if (profile === \"user\") {\n      dispatch({ type: \"LOAD_TICKETS\", payload: filteredTickets });\n    } else {\n      dispatch({ type: \"LOAD_TICKETS\", payload: tickets });\n    }\n  }, [tickets, status, searchParam, queues, profile]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    const shouldUpdateTicket = (ticket) =>\n      (!ticket.userId || ticket.userId === user?.id || showAll) &&\n      (!ticket.queueId || selectedQueueIds.indexOf(ticket.queueId) > -1);\n\n    const notBelongsToUserQueues = (ticket) =>\n      ticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\n\n    socket.on(\"ready\", () => {\n      if (status) {\n        socket.emit(\"joinTickets\", status);\n      } else {\n        socket.emit(\"joinNotification\");\n      }\n    });\n\n    socket.on(`company-${companyId}-ticket`, (data) => {\n      \n      if (data.action === \"updateUnread\") {\n        dispatch({\n          type: \"RESET_UNREAD\",\n          payload: data.ticketId,\n        });\n      }\n\n      if (data.action === \"update\" && shouldUpdateTicket(data.ticket) && data.ticket.status === status) {\n        dispatch({\n          type: \"UPDATE_TICKET\",\n          payload: data.ticket,\n        });\n      }\n\n      if (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticket.id });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticketId });\n      }\n    });\n\n    socket.on(`company-${companyId}-appMessage`, (data) => {\n      const queueIds = queues.map((q) => q.id);\n      if (\n        profile === \"user\" &&\n        (queueIds.indexOf(data.ticket?.queue?.id) === -1 ||\n          data.ticket.queue === null)\n      ) {\n        return;\n      }\n\n      if (data.action === \"create\" && shouldUpdateTicket(data.ticket) && ( status === undefined || data.ticket.status === status)) {\n        dispatch({\n          type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\n          payload: data.ticket,\n        });\n      }\n    });\n\n    socket.on(`company-${companyId}-presence`, (data) => {\n      dispatch({\n        type: \"UPDATE_TICKET_PRESENCE\",\n        payload: data,\n      });\n    });\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({\n          type: \"UPDATE_TICKET_CONTACT\",\n          payload: data.contact,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [status, showAll, user, selectedQueueIds, tags, users, profile, queues, socketManager]);\n\n  useEffect(() => {\n    if (typeof updateCount === \"function\") {\n      updateCount(ticketsList.length);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ticketsList]);\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.ticketsListWrapper} style={style}>\n      <Paper\n        square\n        name=\"closed\"\n        elevation={0}\n        className={classes.ticketsList}\n        onScroll={handleScroll}\n      >\n        <List style={{ paddingTop: 0 }}>\n          {ticketsList.length === 0 && !loading ? (\n            <div className={classes.noTicketsDiv}>\n              <span className={classes.noTicketsTitle}>\n                {i18n.t(\"ticketsList.noTicketsTitle\")}\n              </span>\n              <p className={classes.noTicketsText}>\n                {i18n.t(\"ticketsList.noTicketsMessage\")}\n              </p>\n            </div>\n          ) : (\n            <>\n              {ticketsList.map((ticket) => (\n                <TicketListItem ticket={ticket} key={ticket.id} />\n              ))}\n            </>\n          )}\n          {loading && <TicketsListSkeleton />}\n        </List>\n      </Paper>\n    </Paper>\n  );\n};\n\nexport default TicketsListCustom;\n","import React from \"react\";\n\nconst TabPanel = ({ children, value, name, ...rest }) => {\n\tif (value === name) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\trole=\"tabpanel\"\n\t\t\t\tid={`simple-tabpanel-${name}`}\n\t\t\t\taria-labelledby={`simple-tab-${name}`}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t<>{children}</>\n\t\t\t</div>\n\t\t);\n\t} else return null;\n};\n\nexport default TabPanel;\n","import React from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketsQueueSelect = ({\n\tuserQueues,\n\tselectedQueueIds = [],\n\tonChange,\n}) => {\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ width: 120, marginTop: -4 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\">\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tdisplayEmpty\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={() => i18n.t(\"ticketsQueueSelect.placeholder\")}\n\t\t\t\t>\n\t\t\t\t\t{userQueues?.length > 0 &&\n\t\t\t\t\t\tuserQueues.map(queue => (\n\t\t\t\t\t\t\t<MenuItem dense key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: queue.color,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tchecked={selectedQueueIds.indexOf(queue.id) > -1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ListItemText primary={queue.name} />\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default TicketsQueueSelect;\n","import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsFilter({ onFiltered }) {\n  const [tags, setTags] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadTags();\n    }\n    fetchData();\n  }, []);\n\n  const loadTags = async () => {\n    try {\n      const { data } = await api.get(`/tags/list`);\n      setTags(data);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  return (\n    <Box style={{ padding: 10 }}>\n      <Autocomplete\n        multiple\n        size=\"small\"\n        options={tags}\n        value={selecteds}\n        onChange={(e, v, r) => onChange(v)}\n        getOptionLabel={(option) => option.name}\n        renderTags={(value, getTagProps) =>\n          value.map((option, index) => (\n            <Chip\n              variant=\"outlined\"\n              style={{\n                backgroundColor: option.color || \"#eee\",\n                textShadow: \"1px 1px 1px #000\",\n                color: \"white\",\n              }}\n              label={option.name}\n              {...getTagProps({ index })}\n              size=\"small\"\n            />\n          ))\n        }\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder=\"Filtro por Tags\"\n          />\n        )}\n      />\n    </Box>\n  );\n}\n","import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function UsersFilter({ onFiltered, initialUsers }) {\n  const [users, setUsers] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadUsers();\n    }\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    setSelecteds([]);\n    if (\n      Array.isArray(initialUsers) &&\n      Array.isArray(users) &&\n      users.length > 0\n    ) {\n      onChange(initialUsers);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialUsers, users]);\n\n  const loadUsers = async () => {\n    try {\n      const { data } = await api.get(`/users/list`);\n      const userList = data.map((u) => ({ id: u.id, name: u.name }));\n      setUsers(userList);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  return (\n    <Box style={{ padding: \"0px 10px 10px\" }}>\n      <Autocomplete\n        multiple\n        size=\"small\"\n        options={users}\n        value={selecteds}\n        onChange={(e, v, r) => onChange(v)}\n        getOptionLabel={(option) => option.name}\n        getOptionSelected={(option, value) => {\n          return (\n            option?.id === value?.id ||\n            option?.name.toLowerCase() === value?.name.toLowerCase()\n          );\n        }}\n        renderTags={(value, getUserProps) =>\n          value.map((option, index) => (\n            <Chip\n              variant=\"outlined\"\n              style={{\n                backgroundColor: \"#bfbfbf\",\n                textShadow: \"1px 1px 1px #000\",\n                color: \"white\",\n              }}\n              label={option.name}\n              {...getUserProps({ index })}\n              size=\"small\"\n            />\n          ))\n        }\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder=\"Filtro por Users\"\n          />\n        )}\n      />\n    </Box>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Badge from \"@material-ui/core/Badge\";\nimport MoveToInboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\nimport api from \"../../services/api\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport PlaylistAddCheckOutlinedIcon from '@material-ui/icons/PlaylistAddCheckOutlined';\n\n\nimport {\n  Add as AddIcon,\n} from \"@material-ui/icons\";\n\nimport NewTicketModal from \"../NewTicketModal\";\nimport TicketsList from \"../TicketsListCustom\";\nimport TabPanel from \"../TabPanel\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\nimport { Button, Snackbar, IconButton } from \"@material-ui/core\";\nimport { TagsFilter } from \"../TagsFilter\";\nimport { UsersFilter } from \"../UsersFilter\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketsWrapper: {\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\toverflow: \"hidden\",\n\t\tborderTopRightRadius: 0,\n\t\tborderBottomRightRadius: 0,\n\t\tborderRadius:0,\n\t},\n\n\n\ttabsHeader: {\n\t\tflex: \"none\",\n\t\tbackgroundColor: theme.palette.tabHeaderBackground,\n\t},\n\n\ttabsInternal: {\n\t\tflex: \"none\",\n\t\tbackgroundColor: theme.palette.tabHeaderBackground\n\t},\n\n\tsettingsIcon: {\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\tpadding: 8,\n\t},\n  snackbar: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\",\n    borderRadius: 30,\n    [theme.breakpoints.down(\"sm\")]: {\n      fontSize: \"0.8em\",\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      fontSize: \"1em\",\n    },\n  },\n\n  yesButton: {\n    backgroundColor: \"#FFF\",\n    color: \"rgba(0, 100, 0, 1)\",\n    padding: \"4px 4px\",\n    fontSize: \"1em\",\n    fontWeight: \"bold\",\n    textTransform: \"uppercase\",\n    marginRight: theme.spacing(1),\n    \"&:hover\": {\n      backgroundColor: \"darkGreen\",\n      color: \"#FFF\",\n    },\n    borderRadius: 30,\n  },\n  noButton: {\n    backgroundColor: \"#FFF\",\n    color: \"rgba(139, 0, 0, 1)\",\n    padding: \"4px 4px\",\n    fontSize: \"1em\",\n    fontWeight: \"bold\",\n    textTransform: \"uppercase\",\n    \"&:hover\": {\n      backgroundColor: \"darkRed\",\n      color: \"#FFF\",\n    },\n    borderRadius: 30,\n  },\n\n\ttab: {\n\t\tminWidth: 120,\n\t\twidth: 120,\n\t},\n\n\tinternalTab: {\n\t\tminWidth: 120,\n\t\twidth: 120,\n\t\tpadding: 5\n\t},\n\n\tticketOptionsBox: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\tbackground: theme.palette.optionsBackground,\n\t\tpadding: theme.spacing(1),\n\t},\n\n\tticketSearchLine: {\n\t\tpadding: theme.spacing(1),\n\t},\n\n\tserachInputWrapper: {\n\t\tflex: 1,\n\t\tbackground: theme.palette.total,\n\t\tdisplay: \"flex\",\n\t\tborderRadius: 40,\n\t\tpadding: 4,\n\t\tmarginRight: theme.spacing(1),\n\t},\n\n\tsearchIcon: {\n\t\tcolor: \"grey\",\n\t\tmarginLeft: 6,\n\t\tmarginRight: 6,\n\t\talignSelf: \"center\",\n\t},\n\n\tsearchInput: {\n\t\tflex: 1,\n\t\tborder: \"none\",\n\t\tborderRadius: 30,\n\t},\n\n\tinsiderTabPanel: {\n\t\theight: '100%',\n\t\tmarginTop: \"-72px\",\n\t\tpaddingTop: \"72px\"\n\t},\n\n\tinsiderDoubleTabPanel: {\n\t\tdisplay:\"flex\",\n\t\tflexDirection: \"column\",\n\t\tmarginTop: \"-72px\",\n\t\tpaddingTop: \"72px\",\n\t\theight: \"100%\"\n\t},\n\n\tlabelContainer: {\n\t\twidth: \"auto\",\n\t\tpadding: 0\n\t},\n\ticonLabelWrapper: {\n\t\tflexDirection: \"row\",\n\t\t'& > *:first-child': {\n\t\t\tmarginBottom: '3px !important',\n\t\t\tmarginRight: 16\n\t\t}\n\t},\n\tinsiderTabLabel: {\n\t\t[theme.breakpoints.down(1600)]: {\n\t\t\tdisplay:'none'\n\t\t}\n\t},\n\tsmallFormControl: {\n\t\t'& .MuiOutlinedInput-input': {\n\t\t\tpadding: \"12px 10px\",\n\t\t},\n\t\t'& .MuiInputLabel-outlined': {\n\t\t\tmarginTop: \"-6px\"\n\t\t}\n\t}\n}));\n\nconst TicketsManagerTabs = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  \n  const [isHoveredAll, setIsHoveredAll] = useState(false);\n  const [isHoveredNew, setIsHoveredNew] = useState(false);\n  const [isHoveredResolve, setIsHoveredResolve] = useState(false);\n  const [isHoveredOpen, setIsHoveredOpen] = useState(false);\n  const [isHoveredClosed, setIsHoveredClosed] = useState(false);\n\n  \n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tab, setTab] = useState(\"open\");\n  const [tabOpen, setTabOpen] = useState(\"open\");\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [showAllTickets, setShowAllTickets] = useState(false);\n  const searchInputRef = useRef();\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [openCount, setOpenCount] = useState(0);\n  const [pendingCount, setPendingCount] = useState(0);\n\n  const userQueueIds = user.queues.map((q) => q.id);\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n\n  useEffect(() => {\n    if (user.profile.toUpperCase() === \"ADMIN\") {\n      setShowAllTickets(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (tab === \"search\") {\n      searchInputRef.current.focus();\n    }\n  }, [tab]);\n\n  let searchTimeout;\n\n  const handleSearch = (e) => {\n    const searchedTerm = e.target.value.toLowerCase();\n\n    clearTimeout(searchTimeout);\n\n    if (searchedTerm === \"\") {\n      setSearchParam(searchedTerm);\n      setTab(\"open\");\n      return;\n    }\n\n    searchTimeout = setTimeout(() => {\n      setSearchParam(searchedTerm);\n    }, 500);\n  };\n\n  const handleChangeTab = (e, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleChangeTabOpen = (e, newValue) => {\n    setTabOpen(newValue);\n  };\n\n  const applyPanelStyle = (status) => {\n    if (tabOpen !== status) {\n      return { width: 0, height: 0 };\n    }\n  };\n\n  const handleCloseOrOpenTicket = (ticket) => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n\n  const handleSelectedTags = (selecteds) => {\n    const tags = selecteds.map((t) => t.id);\n    setSelectedTags(tags);\n  };\n\n  const handleSelectedUsers = (selecteds) => {\n    const users = selecteds.map((t) => t.id);\n    setSelectedUsers(users);\n  };\n\n  const CloseAllTicket = async () => {\n    try {\n      const { data } = await api.post(\"/tickets/closeAll\", {\n        status: tabOpen,\n        selectedQueueIds,\n      });\n\n      handleSnackbarClose();\n\n    } catch (err) {\n      console.log(\"Error: \", err);\n    }\n  };\n\n  const handleSnackbarOpen = () => {\n    setSnackbarOpen(true);\n  };\n\n  const handleSnackbarClose = () => {\n    setSnackbarOpen(false);\n  };\n\n  return (\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        onClose={(ticket) => {\n          \n          handleCloseOrOpenTicket(ticket);\n        }}\n      />\n      <Paper elevation={0} square className={classes.tabsHeader}>\n        <Tabs\n          value={tab}\n          onChange={handleChangeTab}\n          variant=\"fullWidth\"\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          aria-label=\"icon label tabs example\"\n        >\n          <Tab\n            value={\"open\"}\n            icon={<MoveToInboxIcon />}\n            label={i18n.t(\"tickets.tabs.open.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"closed\"}\n            icon={<CheckBoxIcon />}\n            label={i18n.t(\"tickets.tabs.closed.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"search\"}\n            icon={<SearchIcon />}\n            label={i18n.t(\"tickets.tabs.search.title\")}\n            classes={{ root: classes.tab }}\n          />\n        </Tabs>\n      </Paper>\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\n        {tab === \"search\" ? (\n          <div className={classes.serachInputWrapper}>\n            <SearchIcon className={classes.searchIcon} />\n            <InputBase\n              className={classes.searchInput}\n              inputRef={searchInputRef}\n              placeholder={i18n.t(\"tickets.search.placeholder\")}\n              type=\"search\"\n              onChange={handleSearch}\n            />\n          </div>\n        ) : (\n          <>\n            <Snackbar\n              open={snackbarOpen}\n              onClose={handleSnackbarClose}\n              message={i18n.t(\"tickets.inbox.closedAllTickets\")}\n              ContentProps={{\n                className: classes.snackbar,\n              }}\n              action={\n                <>\n                  <Button\n                    className={classes.yesButton}\n                    size=\"small\"\n                    onClick={CloseAllTicket}\n                  >\n                    {i18n.t(\"tickets.inbox.yes\")}\n                  </Button>\n                  <Button\n                    className={classes.noButton}\n                    size=\"small\"\n                    onClick={handleSnackbarClose}\n                  >\n                    {i18n.t(\"tickets.inbox.no\")}\n                  </Button>\n                </>\n              }\n            />\n            <Badge\n              color=\"primary\"\n              invisible={\n                isHoveredAll ||\n                !isHoveredNew ||\n                isHoveredResolve ||\n                isHoveredOpen ||\n                isHoveredClosed\n              }\n              badgeContent={i18n.t(\"Novo\")}\n              classes={{ badge: classes.tabsBadge }}\n            >\n              <IconButton\n                onMouseEnter={() => setIsHoveredNew(true)}\n                onMouseLeave={() => setIsHoveredNew(false)}\n                className={classes.button}\n                onClick={() => {\n                  setNewTicketModalOpen(true);\n                }}\n              >\n                <AddIcon className={classes.icon} />\n              </IconButton>\n            </Badge>\n\t\t\t{user.profile === \"admin\" && (\n              <Badge\n                color=\"primary\"\n                invisible={\n                  isHoveredAll ||\n                  isHoveredNew ||\n                  !isHoveredResolve ||\n                  isHoveredOpen ||\n                  isHoveredClosed\n                }\n                badgeContent={i18n.t(\"tickets.inbox.closedAll\")}\n                classes={{ badge: classes.tabsBadge }}\n              >\n                <IconButton\n                  onMouseEnter={() => setIsHoveredResolve(true)}\n                  onMouseLeave={() => setIsHoveredResolve(false)}\n                  className={classes.button}\n                  onClick={handleSnackbarOpen}\n                >\n                  <PlaylistAddCheckOutlinedIcon style={{ color: \"green\" }} />\n                </IconButton>\n              </Badge>\n\t\t\t   )}\n            <Can\n              role={user.profile}\n              perform=\"tickets-manager:showall\"\n              yes={() => (\n                <FormControlLabel\n                  label={i18n.t(\"tickets.buttons.showAll\")}\n                  labelPlacement=\"start\"\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={showAllTickets}\n                      onChange={() =>\n                        setShowAllTickets((prevState) => !prevState)\n                      }\n                      name=\"showAllTickets\"\n                      color=\"primary\"\n                    />\n                  }\n                />\n              )}\n            />\n          </>\n        )}\n        <TicketsQueueSelect\n          style={{ marginLeft: 6 }}\n          selectedQueueIds={selectedQueueIds}\n          userQueues={user?.queues}\n          onChange={(values) => setSelectedQueueIds(values)}\n        />\n      </Paper>\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\n        <Tabs\n          value={tabOpen}\n          onChange={handleChangeTabOpen}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n        >\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={openCount}\n                color=\"primary\"\n              >\n                {i18n.t(\"ticketsList.assignedHeader\")}\n              </Badge>\n            }\n            value={\"open\"}\n          />\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={pendingCount}\n                color=\"secondary\"\n              >\n                {i18n.t(\"ticketsList.pendingHeader\")}\n              </Badge>\n            }\n            value={\"pending\"}\n          />\n        </Tabs>\n        <Paper className={classes.ticketsWrapper}>\n          <TicketsList\n            status=\"open\"\n            showAll={showAllTickets}\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setOpenCount(val)}\n            style={applyPanelStyle(\"open\")}\n          />\n          <TicketsList\n            status=\"pending\"\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setPendingCount(val)}\n            style={applyPanelStyle(\"pending\")}\n          />\n        </Paper>\n      </TabPanel>\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\n        <TicketsList\n          status=\"closed\"\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\n        <TagsFilter onFiltered={handleSelectedTags} />\n        {profile === \"admin\" && (\n          <UsersFilter onFiltered={handleSelectedUsers} />\n        )}\n        <TicketsList\n          searchParam={searchParam}\n          showAll={true}\n          tags={selectedTags}\n          users={selectedUsers}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n    </Paper>\n  );\n};\n\nexport default TicketsManagerTabs;\n","import React from \"react\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { i18n } from \"../../translate/i18n\";\nimport { Grid } from \"@material-ui/core\";\n\nconst ContactDrawerSkeleton = ({ classes }) => {\n\treturn (\n\t\t<div className={classes.content}>\n\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\twidth={60}\n\t\t\t\t\t\t\theight={60}\n\t\t\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={90} />\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Paper>\n\t\t\t<Paper square className={classes.contactDetails}>\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nexport default ContactDrawerSkeleton;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\n    textCenter: {\n        backgroundColor: 'red'\n    }\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nexport function ContactForm ({ initialContact, onSave, onCancel }) {\n\tconst classes = useStyles();\n\n\tconst [contact, setContact] = useState(initialContact);\n\n    useEffect(() => {\n        setContact(initialContact);\n    }, [initialContact]);\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contact.id) {\n\t\t\t\tawait api.put(`/contacts/${contact.id}`, values);\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n    return (\n        <Formik\n            initialValues={contact}\n            enableReinitialize={true}\n            validationSchema={ContactSchema}\n            onSubmit={(values, actions) => {\n                setTimeout(() => {\n                    handleSaveContact(values);\n                    actions.setSubmitting(false);\n                }, 400);\n            }}\n        >\n            {({ values, errors, touched, isSubmitting }) => (\n                <Form>\n                    <Grid container spacing={1}>\n                        {/* <Grid item xs={12}>\n                            <Typography variant=\"subtitle1\" gutterBottom>\n                                {i18n.t(\"contactModal.form.mainInfo\")}\n                            </Typography>\n                        </Grid> */}\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.name\")}\n                                name=\"name\"\n                                autoFocus\n                                error={touched.name && Boolean(errors.name)}\n                                helperText={touched.name && errors.name}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                className={classes.textField}\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.number\")}\n                                name=\"number\"\n                                error={touched.number && Boolean(errors.number)}\n                                helperText={touched.number && errors.number}\n                                placeholder=\"5513912344321\"\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.email\")}\n                                name=\"email\"\n                                error={touched.email && Boolean(errors.email)}\n                                helperText={touched.email && errors.email}\n                                placeholder=\"Email address\"\n                                fullWidth\n                                margin=\"dense\"\n                                variant=\"outlined\"\n                            />\n                        </Grid>\n                        <Grid item xs={12} spacing={1}>\n                            <Grid container spacing={1}>\n                                <Grid xs={6} item>\n                                    <Button\n                                        onClick={onCancel}\n                                        color=\"secondary\"\n                                        disabled={isSubmitting}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                    >\n                                        {i18n.t(\"contactModal.buttons.cancel\")}\n                                    </Button>\n                                </Grid>\n                                <Grid classes={classes.textCenter} xs={6} item>\n                                    <Button\n                                        type=\"submit\"\n                                        color=\"primary\"\n                                        disabled={isSubmitting}\n                                        variant=\"contained\"\n                                        className={classes.btnWrapper}\n                                        fullWidth\n                                    >\n                                        {contact.id\n                                            ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n                                            : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n                                        {isSubmitting && (\n                                            <CircularProgress\n                                                size={24}\n                                                className={classes.buttonProgress}\n                                            />\n                                        )}\n                                    </Button>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport moment from 'moment';\n\nconst useStyles = makeStyles((theme) => ({\n    inline: {\n        width: '100%'\n    }\n}));\n\nexport default function ContactNotesDialogListItem (props) {\n    const { note, deleteItem } = props;\n    const classes = useStyles();\n\n    const handleDelete = (item) => {\n        deleteItem(item);\n    }\n\n    return (\n        <ListItem alignItems=\"flex-start\">\n            <ListItemAvatar>\n                <Avatar alt={note.user.name} src=\"/static/images/avatar/1.jpg\" />\n            </ListItemAvatar>\n            <ListItemText\n                primary={\n                    <>\n                        <Typography\n                            component=\"span\"\n                            variant=\"body2\"\n                            className={classes.inline}\n                            color=\"textPrimary\"\n                        >\n                            {note.note}\n                        </Typography>\n                    </>\n                }\n                secondary={\n                    <>\n                        {note.user.name}, {moment(note.createdAt).format('DD/MM/YY HH:mm')}\n                    </>\n                }\n            />\n            <ListItemSecondaryAction>\n                <IconButton onClick={() => handleDelete(note)} edge=\"end\" aria-label=\"delete\">\n                    <DeleteIcon />\n                </IconButton>\n            </ListItemSecondaryAction>\n        </ListItem>\n    )   \n}\n\nContactNotesDialogListItem.propTypes = {\n    note: PropTypes.object.isRequired,\n    deleteItem: PropTypes.func.isRequired\n}","import api from \"../../services/api\";\n\nconst useTicketNotes = () => {\n\n    const saveNote = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/ticket-notes',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const deleteNote = async (id) => {\n        const { data } = await api.request({\n            url: `/ticket-notes/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const listNotes = async (params) => {\n        const { data } = await api.request({\n            url: '/ticket-notes/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        saveNote,\n        deleteNote,\n        listNotes\n    }\n}\n\nexport default useTicketNotes;","import React, { useState, useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport List from '@material-ui/core/List';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport ContactNotesDialogListItem from '../ContactNotesDialogListItem';\nimport ConfirmationModal from '../ConfirmationModal';\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ButtonWithSpinner from '../ButtonWithSpinner';\n\nimport useTicketNotes from '../../hooks/useTicketNotes';\nimport { Grid } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& .MuiTextField-root': {\n            margin: theme.spacing(1),\n            width: '350px',\n        },\n    },\n    list: {\n        width: '100%',\n        maxWidth: '350px',\n        maxHeight: '200px',\n        backgroundColor: theme.palette.background.paper,\n        overflow: 'auto'\n    },\n    inline: {\n        width: '100%'\n    }\n}));\n\nconst NoteSchema = Yup.object().shape({\n\tnote: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.required(\"Required\")\n});\nexport function ContactNotes ({ ticket }) {\n    const { id: ticketId, contactId } = ticket\n    const classes = useStyles()\n    const [newNote, setNewNote] = useState({ note: \"\" });\n    const [loading, setLoading] = useState(false)\n    const [showOnDeleteDialog, setShowOnDeleteDialog] = useState(false)\n    const [selectedNote, setSelectedNote] = useState({})\n    const [notes, setNotes] = useState([])\n    const { saveNote, deleteNote, listNotes } = useTicketNotes()\n\n    useEffect(() => {\n        async function openAndFetchData () {\n            handleResetState()\n            await loadNotes()\n        }\n        openAndFetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const handleResetState = () => {\n        setNewNote({ note: \"\" })\n        setLoading(false)\n    }\n\n    const handleChangeComment = (e) => {\n        setNewNote({ note: e.target.value })\n    }\n\n    const handleSave = async values => {\n        setLoading(true)\n        try {\n            await saveNote({\n                ...values,\n                ticketId,\n                contactId\n            })\n            await loadNotes()\n            setNewNote({ note: '' })\n            toast.success('Observação adicionada com sucesso!')\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDialogDelete = (item) => {\n        setSelectedNote(item)\n        setShowOnDeleteDialog(true)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await deleteNote(selectedNote.id)\n            await loadNotes()\n            setSelectedNote({})\n            toast.success('Observação excluída com sucesso!')\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const loadNotes = async () => {\n        setLoading(true)\n        try {\n            const notes = await listNotes({ ticketId, contactId })\n            setNotes(notes)\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const renderNoteList = () => {\n        return notes.map((note) => {\n            return <ContactNotesDialogListItem\n                note={note}\n                key={note.id}\n                deleteItem={handleOpenDialogDelete}\n            />\n        })\n    }\n\n    return (\n        <>\n            <ConfirmationModal\n                title=\"Excluir Registro\"\n                open={showOnDeleteDialog}\n                onClose={setShowOnDeleteDialog}\n                onConfirm={handleDelete}\n            >\n                Deseja realmente excluir este registro?\n            </ConfirmationModal>\n            <Formik\n                initialValues={newNote}\n                enableReinitialize={true}\n                validationSchema={NoteSchema}\n                onSubmit={(values, actions) => {\n                    setTimeout(() => {\n                        handleSave(values);\n                        actions.setSubmitting(false);\n                    }, 400);\n                }}\n            >\n\n                {({ touched, errors, setErrors }) => (\n                    <Form>\n                        <Grid container spacing={2}>\n                            <Grid xs={12} item>\n                                <Field\n                                    as={TextField}\n                                    name=\"note\"\n                                    rows={3}\n                                    label={i18n.t(\"ticketOptionsMenu.appointmentsModal.textarea\")}\n                                    placeholder={i18n.t(\"ticketOptionsMenu.appointmentsModal.placeholder\")}\n                                    multiline={true}\n                                    error={touched.note && Boolean(errors.note)}\n                                    helperText={touched.note && errors.note}\n                                    variant=\"outlined\"\n                                    onChange={handleChangeComment}\n                                    fullWidth\n                                />\n                            </Grid>\n                            { notes.length > 0 && (\n                                <Grid xs={12} item>\n                                    <List className={classes.list}>\n                                        { renderNoteList() }\n                                    </List>\n                                </Grid>\n                            ) }\n                            <Grid xs={12} item>\n                                <Grid container spacing={2}>\n                                    <Grid xs={6} item>\n                                        <Button\n                                            onClick={() => {\n                                                setNewNote(\"\");\n                                                setErrors({});\n                                            }}\n                                            color=\"primary\"\n                                            variant=\"outlined\"\n                                            fullWidth\n                                        >\n                                            Cancelar\n                                        </Button>\n                                    </Grid>\n                                    <Grid xs={6} item>\n                                        <ButtonWithSpinner loading={loading} color=\"primary\" type=\"submit\" variant=\"contained\" autoFocus fullWidth>\n                                            Salvar\n                                        </ButtonWithSpinner>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Form>\n                )}\n            </Formik>\n        </>\n    );\n}","import React, { useEffect, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Link from \"@material-ui/core/Link\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport CreateIcon from '@material-ui/icons/Create';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { CardHeader } from \"@material-ui/core\";\nimport { ContactForm } from \"../ContactForm\";\nimport ContactModal from \"../ContactModal\";\nimport { ContactNotes } from \"../ContactNotes\";\n\nimport { generateColor } from \"../../helpers/colorGenerator\";\nimport { getInitials } from \"../../helpers/getInitials\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles(theme => ({\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tdisplay: \"flex\",\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderTopRightRadius: 4,\n\t\tborderBottomRightRadius: 4,\n\t},\n\theader: {\n\t\tdisplay: \"flex\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tbackgroundColor: theme.palette.contactdrawer, //DARK MODE PLW DESIGN//\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(0, 1),\n\t\tminHeight: \"73px\",\n\t\tjustifyContent: \"flex-start\",\n\t},\n\tcontent: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: theme.palette.contactdrawer, //DARK MODE PLW DESIGN//\n\t\tflexDirection: \"column\",\n\t\tpadding: \"8px 0px 8px 8px\",\n\t\theight: \"100%\",\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\n\tcontactAvatar: {\n\t\tmargin: 15,\n\t\twidth: 100,\n\t\theight: 100,\n\t},\n\n\tcontactHeader: {\n\t\tdisplay: \"flex\",\n\t\tpadding: 8,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\t\"& > *\": {\n\t\t\tmargin: 4,\n\t\t},\n\t},\n\n\tcontactDetails: {\n\t\tmarginTop: 8,\n\t\tpadding: 8,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\tcontactExtraInfo: {\n\t\tmarginTop: 4,\n\t\tpadding: 6,\n\t},\n}));\n\nconst ContactDrawer = ({ open, handleDrawerClose, contact, ticket, loading }) => {\n\tconst classes = useStyles();\n\n\tconst [modalOpen, setModalOpen] = useState(false);\n\tconst [openForm, setOpenForm] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetOpenForm(false);\n\t}, [open, contact]);\n\n\treturn (\n\t\t<>\n\t\t\t<Drawer\n\t\t\t\tclassName={classes.drawer}\n\t\t\t\tvariant=\"persistent\"\n\t\t\t\tanchor=\"right\"\n\t\t\t\topen={open}\n\t\t\t\tPaperProps={{ style: { position: \"absolute\" } }}\n\t\t\t\tBackdropProps={{ style: { position: \"absolute\" } }}\n\t\t\t\tModalProps={{\n\t\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\n\t\t\t\t\tstyle: { position: \"absolute\" },\n\t\t\t\t}}\n\t\t\t\tclasses={{\n\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className={classes.header}>\n\t\t\t\t\t<IconButton onClick={handleDrawerClose}>\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\n\t\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t\t{loading ? (\n\t\t\t\t\t<ContactDrawerSkeleton classes={classes} />\n\t\t\t\t) : (\n\t\t\t\t\t<div className={classes.content}>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t\t\t\t<CardHeader\n\t\t\t\t\t\t\t\tonClick={() => {}}\n\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\", width: '100%' }}\n\t\t\t\t\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\t\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\t\t\t\t\tavatar={<Avatar\n                      src={contact.profilePicUrl}\n                      alt=\"contact_image\"\n                      style={{ width: 60, height: 60, backgroundColor: generateColor(contact?.number), color: \"white\", fontWeight: \"bold\" }}\n                    >\n                      {getInitials(contact?.name)}\n                    </Avatar>}\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Typography onClick={() => setOpenForm(true)}>\n\t\t\t\t\t\t\t\t\t\t\t{contact.name}\n\t\t\t\t\t\t\t\t\t\t\t<CreateIcon style={{fontSize: 16, marginLeft: 5}} />\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsubheader={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Typography style={{fontSize: 12}}>\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`tel:${contact.number}`}>{contact.number}</Link>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography style={{fontSize: 12}}>\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`mailto:${contact.email}`}>{contact.email}</Link>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={() => setModalOpen(!openForm)}\n\t\t\t\t\t\t\t\tstyle={{fontSize: 12}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.buttons.edit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{(contact.id && openForm) && <ContactForm initialContact={contact} onCancel={() => setOpenForm(false)} />}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" style={{marginBottom: 10}}>\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.appointmentsModal.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<ContactNotes ticket={ticket} />\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t\t<ContactModal\n\t\t\t\t\t\t\t\topen={modalOpen}\n\t\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\n\t\t\t\t\t\t\t\tcontactId={contact.id}\n\t\t\t\t\t\t\t></ContactModal>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\n\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\tkey={info.id}\n\t\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\n\t\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\n\t\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Drawer>\n\t\t</>\n\t);\n};\n\nexport default ContactDrawer;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\ttimerBox: {\n\t\tdisplay: \"flex\",\n\t\tmarginLeft: 10,\n\t\tmarginRight: 10,\n\t\talignItems: \"center\",\n\t},\n}));\n\nconst RecordingTimer = () => {\n\tconst classes = useStyles();\n\tconst initialState = {\n\t\tminutes: 0,\n\t\tseconds: 0,\n\t};\n\tconst [timer, setTimer] = useState(initialState);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(\n\t\t\t() =>\n\t\t\t\tsetTimer(prevState => {\n\t\t\t\t\tif (prevState.seconds === 59) {\n\t\t\t\t\t\treturn { ...prevState, minutes: prevState.minutes + 1, seconds: 0 };\n\t\t\t\t\t}\n\t\t\t\t\treturn { ...prevState, seconds: prevState.seconds + 1 };\n\t\t\t\t}),\n\t\t\t1000\n\t\t);\n\t\treturn () => {\n\t\t\tclearInterval(interval);\n\t\t};\n\t}, []);\n\n\tconst addZero = n => {\n\t\treturn n < 10 ? \"0\" + n : n;\n\t};\n\n\treturn (\n\t\t<div className={classes.timerBox}>\n\t\t\t<span>{`${addZero(timer.minutes)}:${addZero(timer.seconds)}`}</span>\n\t\t</div>\n\t);\n};\n\nexport default RecordingTimer;\n","import * as React from 'react';\nimport LinearProgress, { LinearProgressProps } from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nfunction LinearProgressWithLabel(props) {\n  return (\n    <Box sx={{ display: 'flex', alignItems: 'center' }}>\n      <Box sx={{ width: '100%', mr: 1 }}>\n        <LinearProgress variant=\"determinate\" {...props} style={{position: 'initial', backgroundColor: 'mediumseagreen' }} />\n      </Box>\n      <Box sx={{ minWidth: 35 }}>\n        <Typography variant=\"body2\" color=\"text.secondary\" style={{ color: '#fff',position: 'absolute'}}>{`${Math.round(\n          props.value,\n        )}%`}</Typography>\n      </Box>\n    </Box>\n  );\n}\n\nexport default function LinearWithValueLabel({progress}) {\n  //const [progress, setProgress] = React.useState(0);\n\n  React.useEffect(() => {\n    /*const timer = setInterval(() => {\n      setProgress((prevProgress) => (prevProgress >= 99 ? 99 : prevProgress + 10));\n    }, 420);\n    return () => {\n      clearInterval(timer);\n    };*/\n  }, [progress]);\n\n  return (\n    <Box sx={{ width: '100%' }} >\n      <LinearProgressWithLabel value={progress} style={{height: 50}}/>\n    </Box>\n  );\n}","import api from \"../../services/api\";\n\nconst useQuickMessages = () => {\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/quick-messages',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/quick-messages/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const deleteRecord = async (id) => {\n        const { data } = await api.request({\n            url: `/quick-messages/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/quick-messages/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        save,\n        update,\n        deleteRecord,\n        list\n    }\n}\n\nexport default useQuickMessages;","import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\nimport { isNil } from \"lodash\";\nimport { Reply } from \"@material-ui/icons\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green, grey } from \"@material-ui/core/colors\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport { FormControlLabel, Switch } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { isString, isEmpty, isObject, has } from \"lodash\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport axios from \"axios\";\n\nimport RecordingTimer from \"./RecordingTimer\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport toastError from \"../../errors/toastError\";\n\nimport Compressor from 'compressorjs';\nimport LinearWithValueLabel from \"./ProgressBarCustom\";\n\nimport useQuickMessages from \"../../hooks/useQuickMessages\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst useStyles = makeStyles((theme) => ({\n  mainWrapper: {\n    backgroundColor: theme.palette.bordabox, //DARK MODE PLW DESIGN//\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  newMessageBox: {\n    backgroundColor: theme.palette.newmessagebox, //DARK MODE PLW DESIGN//\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\",\n  },\n\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    backgroundColor: theme.palette.inputdigita, //DARK MODE PLW DESIGN//\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n  },\n\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n  },\n\n  sendMessageIcons: {\n    color: \"grey\",\n  },\n\n  ForwardMessageIcons: {\n    color: grey[700],\n    transform: 'scaleX(-1)'\n  },\n\n  uploadInput: {\n    display: \"none\",\n  },\n\n  viewMediaInputWrapper: {\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: \"#eee\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n  },\n\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12,\n  },\n\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\",\n  },\n\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\",\n  },\n\n  cancelAudioIcon: {\n    color: \"red\",\n  },\n\n  sendAudioIcon: {\n    color: \"green\",\n  },\n\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n  },\n\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n}));\n\nconst EmojiOptions = (props) => {\n  const { disabled, showEmoji, setShowEmoji, handleAddEmoji } = props;\n  const classes = useStyles();\n  return (\n    <>\n      <IconButton\n        aria-label=\"emojiPicker\"\n        component=\"span\"\n        disabled={disabled}\n        onClick={(e) => setShowEmoji((prevState) => !prevState)}\n      >\n        <MoodIcon className={classes.sendMessageIcons} />\n      </IconButton>\n      {showEmoji ? (\n        <div className={classes.emojiBox}>\n          <Picker\n            perLine={16}\n            showPreview={false}\n            showSkinTones={false}\n            onSelect={handleAddEmoji}\n          />\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nconst SignSwitch = (props) => {\n  const { width, setSignMessage, signMessage } = props;\n  if (isWidthUp(\"md\", width)) {\n    return (\n      <FormControlLabel\n        style={{ marginRight: 7, color: \"gray\" }}\n        label={i18n.t(\"messagesInput.signMessage\")}\n        labelPlacement=\"start\"\n        control={\n          <Switch\n            size=\"small\"\n            checked={signMessage}\n            onChange={(e) => {\n              setSignMessage(e.target.checked);\n            }}\n            name=\"showAllTickets\"\n            color=\"primary\"\n          />\n        }\n      />\n    );\n  }\n  return null;\n};\n\nconst FileInput = (props) => {\n  const { handleChangeMedias, disableOption } = props;\n  const classes = useStyles();\n  return (\n    <>\n      <input\n        multiple\n        type=\"file\"\n        id=\"upload-button\"\n        disabled={disableOption()}\n        className={classes.uploadInput}\n        onChange={handleChangeMedias}\n      />\n      <label htmlFor=\"upload-button\">\n        <IconButton\n          aria-label=\"upload\"\n          component=\"span\"\n          disabled={disableOption()}\n        >\n          <AttachFileIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </label>\n    </>\n  );\n};\n\nconst ActionButtons = (props) => {\n  const {\n    inputMessage,\n    loading,\n    recording,\n    ticketStatus,\n    handleSendMessage,\n    handleCancelAudio,\n    handleUploadAudio,\n    handleStartRecording,\n    handleOpenModalForward,\n    showSelectMessageCheckbox\n  } = props;\n  const classes = useStyles();\n  if (inputMessage || showSelectMessageCheckbox) {\n    return (\n      <IconButton\n      aria-label=\"sendMessage\"\n      component=\"span\"\n      onClick={showSelectMessageCheckbox ? handleOpenModalForward : handleSendMessage}\n      disabled={loading}\n    >\n      {showSelectMessageCheckbox ?\n        <Reply className={classes.ForwardMessageIcons} /> : <SendIcon className={classes.sendMessageIcons} />}      </IconButton>\n  );\n} else if (recording) {\n    return (\n      <div className={classes.recorderWrapper}>\n        <IconButton\n          aria-label=\"cancelRecording\"\n          component=\"span\"\n          fontSize=\"large\"\n          disabled={loading}\n          onClick={handleCancelAudio}\n        >\n          <HighlightOffIcon className={classes.cancelAudioIcon} />\n        </IconButton>\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.audioLoading} />\n          </div>\n        ) : (\n          <RecordingTimer />\n        )}\n\n        <IconButton\n          aria-label=\"sendRecordedAudio\"\n          component=\"span\"\n          onClick={handleUploadAudio}\n          disabled={loading}\n        >\n          <CheckCircleOutlineIcon className={classes.sendAudioIcon} />\n        </IconButton>\n      </div>\n    );\n  } else {\n    return (\n      <IconButton\n        aria-label=\"showRecorder\"\n        component=\"span\"\n        disabled={loading || ticketStatus !== \"open\"}\n        onClick={handleStartRecording}\n      >\n        <MicIcon className={classes.sendMessageIcons} />\n      </IconButton>\n    );\n  }\n};\n\nconst CustomInput = (props) => {\n  const {\n    loading,\n    inputRef,\n    ticketStatus,\n    inputMessage,\n    setInputMessage,\n    handleSendMessage,\n    handleInputPaste,\n    disableOption,\n    handleQuickAnswersClick,\n    replyingMessage\n  } = props;\n  const classes = useStyles();\n  const [quickMessages, setQuickMessages] = useState([]);\n  const [options, setOptions] = useState([]);\n  const [popupOpen, setPopupOpen] = useState(false);\n  const { user } = useContext(AuthContext);\n\n  const { list: listQuickMessages } = useQuickMessages();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const messages = await listQuickMessages({ companyId, userId: user.id });\n      const options = messages.map((m) => {\n        let truncatedMessage = m.message;\n        if (isString(truncatedMessage) && truncatedMessage.length > 35) {\n          truncatedMessage = m.message.substring(0, 35) + \"...\";\n        }\n        return {\n          value: m.message,\n          label: `/${m.shortcode} - ${truncatedMessage}`,\n          mediaPath: m.mediaPath,\n        };\n      });\n      setQuickMessages(options);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (\n      isString(inputMessage) &&\n      !isEmpty(inputMessage) &&\n      inputMessage.length > 1\n    ) {\n      const firstWord = inputMessage.charAt(0);\n      setPopupOpen(firstWord.indexOf(\"/\") > -1);\n\n      const filteredOptions = quickMessages.filter(\n        (m) => m.label.indexOf(inputMessage) > -1\n      );\n      setOptions(filteredOptions);\n    } else {\n      setPopupOpen(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputMessage]);\n\n  const onKeyPress = (e) => {\n    if (loading || e.shiftKey) return;\n    else if (e.key === \"Enter\") {\n      handleSendMessage();\n    }\n  };\n\n  const onPaste = (e) => {\n    if (ticketStatus === \"open\") {\n      handleInputPaste(e);\n    }\n  };\n\n  const renderPlaceholder = () => {\n    if (ticketStatus === \"open\") {\n      return i18n.t(\"messagesInput.placeholderOpen\");\n    }\n    return i18n.t(\"messagesInput.placeholderClosed\");\n  };\n\n\n  const setInputRef = (input) => {\n    if (input) {\n      input.focus();\n      inputRef.current = input;\n    }\n  };\n\n  return (\n    <div className={classes.messageInputWrapper}>\n      <Autocomplete\n        freeSolo\n        open={popupOpen}\n        id=\"grouped-demo\"\n        value={inputMessage}\n        options={options}\n        closeIcon={null}\n        getOptionLabel={(option) => {\n          if (isObject(option)) {\n            return option.label;\n          } else {\n            return option;\n          }\n        }}\n        onChange={(event, opt) => {\n         \n          if (isObject(opt) && has(opt, \"value\") && isNil(opt.mediaPath)) {\n            setInputMessage(opt.value);\n            setTimeout(() => {\n              inputRef.current.scrollTop = inputRef.current.scrollHeight;\n            }, 200);\n          } else if (isObject(opt) && has(opt, \"value\") && !isNil(opt.mediaPath)) {\n            handleQuickAnswersClick(opt);\n\n            setTimeout(() => {\n              inputRef.current.scrollTop = inputRef.current.scrollHeight;\n            }, 200);\n          }\n        }}\n        onInputChange={(event, opt, reason) => {\n          if (reason === \"input\") {\n            setInputMessage(event.target.value);\n          }\n        }}\n        onPaste={onPaste}\n        onKeyPress={onKeyPress}\n        style={{ width: \"100%\" }}\n        renderInput={(params) => {\n          const { InputLabelProps, InputProps, ...rest } = params;\n          return (\n            <InputBase\n              {...params.InputProps}\n              {...rest}\n              disabled={disableOption()}\n              inputRef={setInputRef}\n              placeholder={renderPlaceholder()}\n              multiline\n              className={classes.messageInput}\n              maxRows={5}\n            />\n          );\n        }}\n      />\n    </div>\n  );\n};\n\nconst MessageInputCustom = (props) => {\n  const { ticketStatus, ticketId } = props;\n  const classes = useStyles();\n  const [percentLoading, setPercentLoading] = useState(0);\n  const [medias, setMedias] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const inputRef = useRef();\n  const { setReplyingMessage, replyingMessage } =\n    useContext(ReplyMessageContext);\n  const { user } = useContext(AuthContext);\n\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\n\n  const {\n    selectedMessages,\n    setForwardMessageModalOpen,\n    showSelectMessageCheckbox } = useContext(ForwardMessageContext);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [replyingMessage]);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMedias([]);\n      setReplyingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage]);\n\n  // const handleChangeInput = e => {\n  // \tif (isObject(e) && has(e, 'value')) {\n  // \t\tsetInputMessage(e.value);\n  // \t} else {\n  // \t\tsetInputMessage(e.target.value)\n  // \t}\n  // };\n\n  const handleOpenModalForward = () => {\n    if (selectedMessages.length === 0) {\n      setForwardMessageModalOpen(false)\n      toastError(i18n.t(\"messagesList.header.notMessage\"));\n      return;\n    }\n    setForwardMessageModalOpen(true);\n  }\n\n  const handleAddEmoji = (e) => {\n    let emoji = e.native;\n    setInputMessage((prevState) => prevState + emoji);\n  };\n\n  const handleChangeMedias = (e) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(selectedMedias);\n  };\n\n  const handleInputPaste = (e) => {\n    if (e.clipboardData.files[0]) {\n      setMedias([e.clipboardData.files[0]]);\n    }\n  };\n\n  const handleUploadQuickMessageMedia = async (blob, message) => {\n    setLoading(true);\n    try {\n      const extension = blob.type.split(\"/\")[1];\n\n      const formData = new FormData();\n      const filename = `${new Date().getTime()}.${extension}`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\",  message);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n    setLoading(false);\n  };\n  \n  const handleQuickAnswersClick = async (value) => {\n    if (value.mediaPath) {\n      try {\n        const { data } = await axios.get(value.mediaPath, {\n          responseType: \"blob\",\n        });\n\n        handleUploadQuickMessageMedia(data, value.value);\n        setInputMessage(\"\");\n        return;\n        //  handleChangeMedias(response)\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    setInputMessage(\"\");\n    setInputMessage(value.value);\n  };\n\n  const handleUploadMedia = async (e) => {\n    setLoading(true);\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n\n    medias.forEach(async (media, idx) => {\n\n      const file = media;\n\n      if (!file) { return; }\n\n      if (media?.type.split('/')[0] == 'image') {\n        new Compressor(file, {\n          quality: 0.7,\n\n          async success(media) {\n            //const formData = new FormData();\n            // The third parameter is required for server\n            //formData.append('file', result, result.name);\n\n            formData.append(\"medias\", media);\n            formData.append(\"body\", media.name);\n\n          },\n          error(err) {\n            alert('erro')\n            console.log(err.message);\n          },\n\n        });\n      } else {\n        formData.append(\"medias\", media);\n        formData.append(\"body\", media.name);\n\n      }\n\n\n    },);\n\n    setTimeout(async()=> {\n\n      try {\n        await api.post(`/messages/${ticketId}`, formData, {\n          onUploadProgress: (event) => {\n            let progress = Math.round(\n              (event.loaded * 100) / event.total\n            );\n            setPercentLoading(progress);\n            console.log(\n              `A imagem  está ${progress}% carregada... `\n            );\n          },\n        })\n          .then((response) => {\n            setLoading(false)\n            setMedias([])\n            setPercentLoading(0);\n            console.log(\n              `A imagem á foi enviada para o servidor!`\n\n            );\n          })\n          .catch((err) => {\n            console.error(\n              `Houve um problema ao realizar o upload da imagem.`\n            );\n            console.log(err);\n          });\n      } catch (err) {\n        toastError(err);\n      }\n\n\n    },2000)\n\n  }\n\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: signMessage\n        ? `*${user?.name}:*\\n${inputMessage.trim()}`\n        : inputMessage.trim(),\n      quotedMsg: replyingMessage,\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n  };\n\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({ audio: true });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n\n      const formData = new FormData();\n      const filename = `audio-record-site-${new Date().getTime()}.mp3`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setRecording(false);\n    setLoading(false);\n  };\n\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const disableOption = () => {\n    return loading || recording || ticketStatus !== \"open\";\n  };\n\n  const renderReplyingMessage = (message) => {\n    return (\n      <div className={classes.replyginMsgWrapper}>\n        <div className={classes.replyginMsgContainer}>\n          <span\n            className={clsx(classes.replyginContactMsgSideColor, {\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\n            })}\n          ></span>\n          <div className={classes.replyginMsgBody}>\n            {!message.fromMe && (\n              <span className={classes.messageContactName}>\n                {message.contact?.name}\n              </span>\n            )}\n            {message.body}\n          </div>\n        </div>\n        <IconButton\n          aria-label=\"showRecorder\"\n          component=\"span\"\n          disabled={loading || ticketStatus !== \"open\"}\n          onClick={() => setReplyingMessage(null)}\n        >\n          <ClearIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </div>\n    );\n  };\n\n  if (medias.length > 0)\n    return (\n      <Paper elevation={0} square className={classes.viewMediaInputWrapper}>\n        <IconButton\n          aria-label=\"cancel-upload\"\n          component=\"span\"\n          onClick={(e) => setMedias([])}\n        >\n          <CancelIcon className={classes.sendMessageIcons} />\n        </IconButton>\n\n        {loading ? (\n          <div>\n            {/*<CircularProgress className={classes.circleLoading} />*/}\n            <LinearWithValueLabel progress={percentLoading} />\n          </div>\n        ) : (\n          <span>\n            {medias[0]?.name}\n            {/* <img src={media.preview} alt=\"\"></img> */}\n          </span>\n        )}\n        <IconButton\n          aria-label=\"send-upload\"\n          component=\"span\"\n          onClick={handleUploadMedia}\n          disabled={loading}\n        >\n          <SendIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </Paper>\n    );\n  else {\n    return (\n      <Paper square elevation={0} className={classes.mainWrapper}>\n        {replyingMessage && renderReplyingMessage(replyingMessage)}\n        <div className={classes.newMessageBox}>\n          <EmojiOptions\n            disabled={disableOption()}\n            handleAddEmoji={handleAddEmoji}\n            showEmoji={showEmoji}\n            setShowEmoji={setShowEmoji}\n          />\n\n          <FileInput\n            disableOption={disableOption}\n            handleChangeMedias={handleChangeMedias}\n          />\n\n          <SignSwitch\n            width={props.width}\n            setSignMessage={setSignMessage}\n            signMessage={signMessage}\n          />\n\n          <CustomInput\n            loading={loading}\n            inputRef={inputRef}\n            ticketStatus={ticketStatus}\n            inputMessage={inputMessage}\n            setInputMessage={setInputMessage}\n            // handleChangeInput={handleChangeInput}\n            handleSendMessage={handleSendMessage}\n            handleInputPaste={handleInputPaste}\n            disableOption={disableOption}\n            replyingMessage={replyingMessage}\n            handleQuickAnswersClick={handleQuickAnswersClick}\n          />\n\n          <ActionButtons\n            inputMessage={inputMessage}\n            loading={loading}\n            recording={recording}\n            ticketStatus={ticketStatus}\n            handleSendMessage={handleSendMessage}\n            handleCancelAudio={handleCancelAudio}\n            handleUploadAudio={handleUploadAudio}\n            handleStartRecording={handleStartRecording}\n            handleOpenModalForward={handleOpenModalForward}\n            showSelectMessageCheckbox={showSelectMessageCheckbox}\n          />\n        </div>\n      </Paper>\n    );\n  }\n};\n\nexport default withWidth()(MessageInputCustom);\n\n","import { useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nexport function useLocalStorage(key, initialValue) {\n\tconst [storedValue, setStoredValue] = useState(() => {\n\t\ttry {\n\t\t\tconst item = localStorage.getItem(key);\n\t\t\treturn item ? JSON.parse(item) : initialValue;\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t\treturn initialValue;\n\t\t}\n\t});\n\n\tconst setValue = value => {\n\t\ttry {\n\t\t\tconst valueToStore =\n\t\t\t\tvalue instanceof Function ? value(storedValue) : value;\n\n\t\t\tsetStoredValue(valueToStore);\n\n\t\t\tlocalStorage.setItem(key, JSON.stringify(valueToStore));\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t}\n\t};\n\n\treturn [storedValue, setValue];\n}\n","import { Chip, Paper, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { isArray, isString } from \"lodash\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsContainer({ ticket }) {\n\n    const [tags, setTags] = useState([]);\n    const [selecteds, setSelecteds] = useState([]);\n    const isMounted = useRef(true);\n\n    useEffect(() => {\n        return () => {\n            isMounted.current = false\n        }\n    }, [])\n\n    useEffect(() => {\n        if (isMounted.current) {\n            loadTags().then(() => {\n                if (Array.isArray(ticket.tags)) {\n                    setSelecteds(ticket.tags);\n                } else {\n                    setSelecteds([]);\n                }\n            });\n        }\n    }, [ticket]);\n\n    const createTag = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const loadTags = async () => {\n        try {\n            const { data } = await api.get(`/tags/list`);\n            setTags(data);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const syncTags = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags/sync`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const onChange = async (value, reason) => {\n        let optionsChanged = []\n        if (reason === 'create-option') {\n            if (isArray(value)) {\n                for (let item of value) {\n                    if (isString(item)) {\n                        const newTag = await createTag({ name: item })\n                        optionsChanged.push(newTag);\n                    } else {\n                        optionsChanged.push(item);\n                    }\n                }\n            }\n            await loadTags();\n        } else {\n            optionsChanged = value;\n        }\n        setSelecteds(optionsChanged);\n        await syncTags({ ticketId: ticket.id, tags: optionsChanged });\n    }\n\n    return (\n        <Paper style={{ padding: 12 }}>\n            <Autocomplete\n                multiple\n                size=\"small\"\n                options={tags}\n                value={selecteds}\n                freeSolo\n                onChange={(e, v, r) => onChange(v, r)}\n                getOptionLabel={(option) => option.name}\n                renderTags={(value, getTagProps) =>\n                    value.map((option, index) => (\n                        <Chip\n                            variant=\"outlined\"\n                            style={{\n                                background: option.color || '#eee',\n                                color: \"#FFF\",\n                                marginRight: 1,\n                                fontWeight: 600,\n                                borderRadius: 3,\n                                fontSize: \"0.8em\",\n                                whiteSpace: \"nowrap\"\n                            }}\n                            label={option.name.toUpperCase()}\n                            {...getTagProps({ index })}\n                            size=\"small\"\n                        />\n                    ))\n                }\n                renderInput={(params) => (\n                    <TextField {...params} variant=\"outlined\" placeholder=\"Tags\" />\n                )}\n                PaperComponent={({ children }) => (\n                    <Paper style={{ width: 400, marginLeft: 12 }}>\n                        {children}\n                    </Paper>\n                )}\n            />\n        </Paper>\n    )\n}","import React from \"react\";\n\nimport TextField from \"@material-ui/core/TextField\";\n\nconst InputComponent = ({ inputRef, ...other }) => <div {...other} />;\n\nconst OutlinedDiv = ({\n  InputProps,\n  children,\n  InputLabelProps,\n  label,\n  ...other\n}) => {\n  return (\n    <TextField\n      {...other}\n      variant=\"outlined\"\n      label={label}\n      multiline\n      InputLabelProps={{ shrink: true, ...InputLabelProps }}\n      InputProps={{\n        inputComponent: InputComponent,\n        ...InputProps\n      }}\n      inputProps={{ children: children }}\n    />\n  );\n};\n\nexport default OutlinedDiv;","import React from \"react\";\nimport { Chip, makeStyles } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport OutlinedDiv from \"../OutlinedDiv\";\n\nconst useStyles = makeStyles(theme => ({\n    chip: {\n        margin: theme.spacing(0.5),\n        cursor: \"pointer\"\n    }\n}));\n\nconst MessageVariablesPicker = ({ onClick, disabled }) => {\n    const classes = useStyles();\n\n    const handleClick = (e, value) => {\n        e.preventDefault();\n        if (disabled) return;\n        onClick(value);\n    };\n\n    const msgVars = [\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.contactFirstName\"),\n            value: \"{{firstName}}\"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.contactName\"),\n            value: \"{{name}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.greeting\"),\n            value: \"{{ms}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.protocolNumber\"),\n            value: \"{{protocol}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.hour\"),\n            value: \"{{hora}} \"\n        },\n    ];\n\n    return (\n        <OutlinedDiv\n            margin=\"dense\"\n            fullWidth\n            label={i18n.t(\"messageVariablesPicker.label\")}\n            disabled={disabled}\n        >\n            {msgVars.map(msgVar => (\n                <Chip\n                    key={msgVar.value}\n                    onMouseDown={e => handleClick(e, msgVar.value)}\n                    label={msgVar.name}\n                    size=\"small\"\n                    className={classes.chip}\n                    color=\"primary\"\n                />\n            ))}\n        </OutlinedDiv>\n    );\n};\n\nexport default MessageVariablesPicker;","import React, { useState, useEffect, useContext, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { FormControl, Grid, IconButton } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport moment from \"moment\"\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { isArray, capitalize } from \"lodash\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport AttachFile from \"@material-ui/icons/AttachFile\";\nimport { head } from \"lodash\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst ScheduleSchema = Yup.object().shape({\n\tbody: Yup.string()\n\t\t.min(5, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatório\"),\n\tcontactId: Yup.number().required(\"Obrigatório\"),\n\tsendAt: Yup.string().required(\"Obrigatório\")\n});\n\nconst ScheduleModal = ({ open, onClose, scheduleId, contactId, cleanContact, reload }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\n\tconst initialState = {\n\t\tbody: \"\",\n\t\tcontactId: \"\",\n\t\tsendAt: moment().add(1, 'hour').format('YYYY-MM-DDTHH:mm'),\n\t\tsentAt: \"\"\n\t};\n\n\tconst initialContact = {\n\t\tid: \"\",\n\t\tname: \"\"\n\t}\n\n\tconst [schedule, setSchedule] = useState(initialState);\n\tconst [currentContact, setCurrentContact] = useState(initialContact);\n\tconst [contacts, setContacts] = useState([initialContact]);\n\tconst [attachment, setAttachment] = useState(null);\n\tconst attachmentFile = useRef(null);\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst messageInputRef = useRef();\n\n\tuseEffect(() => {\n\t\tif (contactId && contacts.length) {\n\t\t\tconst contact = contacts.find(c => c.id === contactId);\n\t\t\tif (contact) {\n\t\t\t\tsetCurrentContact(contact);\n\t\t\t}\n\t\t}\n\t}, [contactId, contacts]);\n\n\tuseEffect(() => {\n\t\tconst { companyId } = user;\n\t\tif (open) {\n\t\t\ttry {\n\t\t\t\t(async () => {\n\t\t\t\t\tconst { data: contactList } = await api.get('/contacts/list', { params: { companyId: companyId } });\n\t\t\t\t\tlet customList = contactList.map((c) => ({ id: c.id, name: c.name }));\n\t\t\t\t\tif (isArray(customList)) {\n\t\t\t\t\t\tsetContacts([{ id: \"\", name: \"\" }, ...customList]);\n\t\t\t\t\t}\n\t\t\t\t\tif (contactId) {\n\t\t\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\t\t\treturn { ...prevState, contactId }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!scheduleId) return;\n\n\t\t\t\t\tconst { data } = await api.get(`/schedules/${scheduleId}`);\n\t\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\t\treturn { ...prevState, ...data, sendAt: moment(data.sendAt).format('YYYY-MM-DDTHH:mm') };\n\t\t\t\t\t});\n\t\t\t\t\tsetCurrentContact(data.contact);\n\t\t\t\t})()\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\t}, [scheduleId, contactId, open, user]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetAttachment(null);\n\t\tsetSchedule(initialState);\n\t};\n\n\tconst handleAttachmentFile = (e) => {\n\t\tconst file = head(e.target.files);\n\t\tif (file) {\n\t\t\tsetAttachment(file);\n\t\t}\n\t};\n\n\tconst handleSaveSchedule = async values => {\n\t\tconst scheduleData = { ...values, userId: user.id };\n\t\ttry {\n\t\t\tif (scheduleId) {\n\t\t\t\tawait api.put(`/schedules/${scheduleId}`, scheduleData);\n\t\t\t\tif (attachment != null) {\n\t\t\t\t\tconst formData = new FormData();\n\t\t\t\t\tformData.append(\"file\", attachment);\n\t\t\t\t\tawait api.post(\n\t\t\t\t\t\t`/schedules/${scheduleId}/media-upload`,\n\t\t\t\t\t\tformData\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/schedules\", scheduleData);\n\t\t\t\tif (attachment != null) {\n\t\t\t\t\tconst formData = new FormData();\n\t\t\t\t\tformData.append(\"file\", attachment);\n\t\t\t\t\tawait api.post(`/schedules/${data.id}/media-upload`, formData);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"scheduleModal.success\"));\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t\tif (contactId) {\n\t\t\t\tif (typeof cleanContact === 'function') {\n\t\t\t\t\tcleanContact();\n\t\t\t\t\thistory.push('/schedules');\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetCurrentContact(initialContact);\n\t\tsetSchedule(initialState);\n\t\thandleClose();\n\t};\n\tconst handleClickMsgVar = async (msgVar, setValueFunc) => {\n\t\tconst el = messageInputRef.current;\n\t\tconst firstHalfText = el.value.substring(0, el.selectionStart);\n\t\tconst secondHalfText = el.value.substring(el.selectionEnd);\n\t\tconst newCursorPos = el.selectionStart + msgVar.length;\n\n\t\tsetValueFunc(\"body\", `${firstHalfText}${msgVar}${secondHalfText}`);\n\n\t\tawait new Promise(r => setTimeout(r, 100));\n\t\tmessageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\n\t};\n\n\tconst deleteMedia = async () => {\n\t\tif (attachment) {\n\t\t\tsetAttachment(null);\n\t\t\tattachmentFile.current.value = null;\n\t\t}\n\n\t\tif (schedule.mediaPath) {\n\t\t\tawait api.delete(`/schedules/${schedule.id}/media-upload`);\n\t\t\tsetSchedule((prev) => ({\n\t\t\t\t...prev,\n\t\t\t\tmediaPath: null,\n\t\t\t}));\n\t\t\ttoast.success(i18n.t(\"scheduleModal.toasts.deleted\"));\n\t\t\tif (typeof reload == \"function\") {\n\t\t\t\tconsole.log(reload);\n\t\t\t\tconsole.log(\"1\");\n\t\t\t\treload();\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={i18n.t(\"scheduleModal.confirmationModal.deleteTitle\")}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={() => setConfirmationOpen(false)}\n\t\t\t\tonConfirm={deleteMedia}\n\t\t\t>\n\t\t\t\t{i18n.t(\"scheduleModal.confirmationModal.deleteMessage\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{schedule.status === 'ERRO' ? 'Erro de Envio' : `Mensagem ${capitalize(schedule.status)}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<div style={{ display: \"none\" }}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\taccept=\".png,.jpg,.jpeg\"\n\t\t\t\t\t\tref={attachmentFile}\n\t\t\t\t\t\tonChange={(e) => handleAttachmentFile(e)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={schedule}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ScheduleSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveSchedule(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values, setFieldValue }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvalue={currentContact}\n\t\t\t\t\t\t\t\t\t\t\toptions={contacts}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, contact) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst contactId = contact ? contact.id : '';\n\t\t\t\t\t\t\t\t\t\t\t\tsetSchedule({ ...schedule, contactId });\n\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentContact(contact ? contact : initialContact);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.name}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionSelected={(option, value) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn value.id === option.id\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} variant=\"outlined\" placeholder=\"Contato\" />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\trows={9}\n\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.body\")}\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\t\tinputRef={messageInputRef}\n\t\t\t\t\t\t\t\t\t\terror={touched.body && Boolean(errors.body)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.body && errors.body}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<MessageVariablesPicker\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tonClick={value => handleClickMsgVar(value, setFieldValue)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.sendAt\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\t\t\t\t\t\tname=\"sendAt\"\n\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\terror={touched.sendAt && Boolean(errors.sendAt)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.sendAt && errors.sendAt}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{(schedule.mediaPath || attachment) && (\n\t\t\t\t\t\t\t\t\t<Grid xs={12} item>\n\t\t\t\t\t\t\t\t\t\t<Button startIcon={<AttachFile />}>\n\t\t\t\t\t\t\t\t\t\t\t{attachment ? attachment.name : schedule.mediaName}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setConfirmationOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline color=\"secondary\" />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t{!attachment && !schedule.mediaPath && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => attachmentFile.current.click()}\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"quickMessages.buttons.attach\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"scheduleModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{(schedule.sentAt === null || schedule.sentAt === \"\") && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{scheduleId\n\t\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"scheduleModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"scheduleModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ScheduleModal;","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport TransferTicketModalCustom from \"../TransferTicketModalCustom\";\nimport toastError from \"../../errors/toastError\";\nimport { Can } from \"../Can\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport ScheduleModal from \"../ScheduleModal\";\n\nconst TicketOptionsMenu = ({ ticket, menuOpen, handleClose, anchorEl }) => {\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n\tconst isMounted = useRef(true);\n\tconst { user } = useContext(AuthContext);\n\n\tconst [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n\tconst [contactId, setContactId] = useState(null);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleDeleteTicket = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenTransferModal = e => {\n\t\tsetTransferTicketModalOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleCloseTransferTicketModal = () => {\n\t\tif (isMounted.current) {\n\t\t\tsetTransferTicketModalOpen(false);\n\t\t}\n\t};\n\n\tconst handleOpenScheduleModal = () => {\n\t\thandleClose();\n\t\tsetContactId(ticket.contact.id);\n\t\tsetScheduleModalOpen(true);\n\t}\n\n\tconst handleCloseScheduleModal = () => {\n\t\tsetScheduleModalOpen(false);\n\t\tsetContactId(null);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Menu\n\t\t\t\tid=\"menu-appbar\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tkeepMounted\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={handleOpenScheduleModal}>\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.schedule\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem onClick={handleOpenTransferModal}>\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.transfer\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<Can\n\t\t\t\t\trole={user.profile}\n\t\t\t\t\tperform=\"ticket-options:deleteTicket\"\n\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.delete\")}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</Menu>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")}${\n\t\t\t\t\tticket.id\n\t\t\t\t} ${i18n.t(\"ticketOptionsMenu.confirmationModal.titleFrom\")} ${\n\t\t\t\t\tticket.contact.name\n\t\t\t\t}?`}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteTicket}\n\t\t\t>\n\t\t\t\t{i18n.t(\"ticketOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<TransferTicketModalCustom\n\t\t\t\tmodalOpen={transferTicketModalOpen}\n\t\t\t\tonClose={handleCloseTransferTicketModal}\n\t\t\t\tticketid={ticket.id}\n\t\t\t/>\n\t\t\t<ScheduleModal\n\t\t\t\topen={scheduleModalOpen}\n\t\t\t\tonClose={handleCloseScheduleModal}\n\t\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t\t\tcontactId={contactId}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default TicketOptionsMenu;","import React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles, createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { IconButton } from \"@material-ui/core\";\nimport { MoreVert, Replay } from \"@material-ui/icons\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport TicketOptionsMenu from \"../TicketOptionsMenu\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport UndoRoundedIcon from '@material-ui/icons/UndoRounded';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { green } from '@material-ui/core/colors';\n\n\nconst useStyles = makeStyles(theme => ({\n\tactionButtons: {\n\t\tmarginRight: 6,\n\t\tflex: \"none\",\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(0.5),\n\t\t},\n\t},\n}));\n\nconst TicketActionButtonsCustom = ({ ticket }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [loading, setLoading] = useState(false);\n\tconst ticketOptionsMenuOpen = Boolean(anchorEl);\n\tconst { user } = useContext(AuthContext);\n\tconst { setCurrentTicket } = useContext(TicketsContext);\n\n\tconst customTheme = createTheme({\n\t\tpalette: {\n\t\t  \tprimary: green,\n\t\t}\n\t});\n\n\tconst handleOpenTicketOptionsMenu = e => {\n\t\tsetAnchorEl(e.currentTarget);\n\t};\n\n\tconst handleCloseTicketOptionsMenu = e => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tconst handleUpdateTicketStatus = async (e, status, userId) => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait api.put(`/tickets/${ticket.id}`, {\n\t\t\t\tstatus: status,\n\t\t\t\tuserId: userId || null,\n\t\t\t\tuseIntegration: status === \"closed\" ? false : ticket.useIntegration,\n\t\t\t\tpromptId: status === \"closed\" ? false : ticket.promptId,\n\t\t\t\tintegrationId: status === \"closed\" ? false : ticket.integrationId\n\t\t\t});\n\n\t\t\tsetLoading(false);\n\t\t\tif (status === \"open\") {\n\t\t\t\tsetCurrentTicket({ ...ticket, code: \"#open\" });\n\t\t\t} else {\n\t\t\t\tsetCurrentTicket({ id: null, code: null })\n\t\t\t\thistory.push(\"/tickets\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.actionButtons}>\n\t\t\t{ticket.status === \"closed\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.reopen\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t\t{ticket.status === \"open\" && (\n\t\t\t\t<>\n\t\t\t\t\t<Tooltip title={i18n.t(\"messagesList.header.buttons.return\")}>\n\t\t\t\t\t\t<IconButton onClick={e => handleUpdateTicketStatus(e, \"pending\", null)}>\n\t\t\t\t\t\t\t<UndoRoundedIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<ThemeProvider theme={customTheme}>\n\t\t\t\t\t\t<Tooltip title={i18n.t(\"messagesList.header.buttons.resolve\")}>\n\t\t\t\t\t\t\t<IconButton onClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)} color=\"primary\">\n\t\t\t\t\t\t\t\t<CheckCircleIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</ThemeProvider>\n\t\t\t\t\t{/* <ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"pending\", null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.return\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.resolve\")}\n\t\t\t\t\t</ButtonWithSpinner> */}\n\t\t\t\t\t<IconButton onClick={handleOpenTicketOptionsMenu}>\n\t\t\t\t\t\t<MoreVert />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<TicketOptionsMenu\n\t\t\t\t\t\tticket={ticket}\n\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\tmenuOpen={ticketOptionsMenuOpen}\n\t\t\t\t\t\thandleClose={handleCloseTicketOptionsMenu}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{ticket.status === \"pending\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.accept\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default TicketActionButtonsCustom;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nimport clsx from \"clsx\";\nimport { toast } from \"react-toastify\";\n\nimport { Paper, makeStyles } from \"@material-ui/core\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport ContactDrawer from \"../ContactDrawer\";\nimport MessageInput from \"../MessageInputCustom/\";\nimport MessagesList from \"../MessagesList\";\nimport { TagsContainer } from \"../TagsContainer\";\nimport TicketActionButtons from \"../TicketActionButtonsCustom\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nconst Ticket = () => {\n  const { ticketId } = useParams();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTicket = async () => {\n        try {\n          const { data } = await api.get(\"/tickets/u/\" + ticketId);\n          const { queueId } = data;\n          const { queues, profile } = user;\n\n          const queueAllowed = queues.find((q) => q.id === queueId);\n          if (queueAllowed === undefined && profile !== \"admin\") {\n            toast.error(\"Acesso não permitido\");\n            history.push(\"/tickets\");\n            return;\n          }\n\n          setContact(data.contact);\n          setTicket(data);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTicket();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [ticketId, user, history]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(\"ready\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n    socket.on(`company-${companyId}-ticket`, (data) => {\n      if (data.action === \"update\" && data.ticket.id === ticket.id) {\n        setTicket(data.ticket);\n      }\n\n      if (data.action === \"delete\" && data.ticketId === ticket.id) {\n        // toast.success(\"Ticket deleted sucessfully.\");\n        history.push(\"/tickets\");\n      }\n    });\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\") {\n        setContact((prevState) => {\n          if (prevState.id === data.contact?.id) {\n            return { ...prevState, ...data.contact };\n          }\n          return prevState;\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, ticket, history, socketManager]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setDrawerOpen(false);\n  };\n\n  const renderTicketInfo = () => {\n    if (ticket.user !== undefined) {\n      return (\n        <TicketInfo\n          contact={contact}\n          ticket={ticket}\n          onClick={handleDrawerOpen}\n        />\n      );\n    }\n  };\n\n  const renderMessagesList = () => {\n    return (\n      <>\n        <MessagesList\n          ticket={ticket}\n          ticketId={ticket.id}\n          isGroup={ticket.isGroup}\n        ></MessagesList>\n        <MessageInput ticketId={ticket.id} ticketStatus={ticket.status} />\n      </>\n    );\n  };\n\n  return (\n    <div className={classes.root} id=\"drawer-container\">\n      <Paper\n        variant=\"outlined\"\n        elevation={0}\n        className={clsx(classes.mainWrapper, {\n          [classes.mainWrapperShift]: drawerOpen,\n        })}\n      >\n        <TicketHeader loading={loading}>\n          {renderTicketInfo()}\n          <TicketActionButtons ticket={ticket} />\n        </TicketHeader>\n        <Paper>\n          <TagsContainer ticket={ticket} />\n        </Paper>\n        <ReplyMessageProvider>{renderMessagesList()}</ReplyMessageProvider>\n      </Paper>\n      <ContactDrawer\n        open={drawerOpen}\n        handleDrawerClose={handleDrawerClose}\n        contact={contact}\n        loading={loading}\n        ticket={ticket}\n      />\n    </div>\n  );\n};\n\nexport default Ticket;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport TicketsManager from \"../../components/TicketsManagerTabs/\";\nimport Ticket from \"../../components/Ticket/\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchatContainer: {\n\t\tflex: 1,\n\t\t// backgroundColor: \"#eee\",\n\t\tpadding: theme.spacing(0), //Aqui ele ajusta espaço na tela de ticket\n\t\theight: `calc(100% - 48px)`,\n\t\toverflowY: \"hidden\",\n\t},\n\n\tchatPapper: {\n\t\t// backgroundColor: \"red\",\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t},\n\n\tcontactsWrapper: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\toverflowY: \"hidden\",\n\t},\n\tmessagesWrapper: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t},\n\twelcomeMsg: {\n\t\tbackgroundColor: theme.palette.boxticket, //DARK MODE PLW DESIGN//\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-evenly\",\n\t\talignItems: \"center\",\n\t\theight: \"100%\",\n\t\ttextAlign: \"center\",\n\t},\n}));\n\nconst logo = `${process.env.REACT_APP_BACKEND_URL}/public/logotipos/login.png`;\nconst randomValue = Math.random(); // Generate a random number\n  \nconst logoWithRandom = `${logo}?r=${randomValue}`;\n\nconst TicketsCustom = () => {\n\tconst classes = useStyles();\n\tconst { ticketId } = useParams();\n\n\treturn (\n\t\t<div className={classes.chatContainer}>\n\t\t\t<div className={classes.chatPapper}>\n\t\t\t\t<Grid container spacing={0}>\n\t\t\t\t\t<Grid item xs={4} className={classes.contactsWrapper}>\n\t\t\t\t\t\t<TicketsManager />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={8} className={classes.messagesWrapper}>\n\t\t\t\t\t\t{ticketId ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Ticket />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.welcomeMsg}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<center><img style={{ margin: \"0 auto\", width: \"80%\" }} src={logoWithRandom} alt={`${process.env.REACT_APP_NAME_SYSTEM}`} /></center>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/*<span>{i18n.t(\"chat.noTicketMessage\")}</span>*/}\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default TicketsCustom;\n","import { styled } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\n\nconst TicketAdvancedLayout = styled(Paper)({\n    height: `calc(100% - 48px)`,\n    display: \"grid\",\n    gridTemplateRows: \"56px 1fr\"\n})\n\nexport default TicketAdvancedLayout;","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\nimport ChatIcon from '@material-ui/icons/Chat';\n\nimport TicketsManagerTabs from \"../../components/TicketsManagerTabs/\";\nimport Ticket from \"../../components/Ticket/\";\nimport TicketAdvancedLayout from \"../../components/TicketAdvancedLayout\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n    },\n    content: {\n        overflow: \"auto\"\n    },\n    placeholderContainer: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"100%\",\n\t\tbackgroundColor: theme.palette.boxticket, //DARK MODE PLW DESIGN//\n    },\n    placeholderItem: {\n    }\n}));\n\nconst TicketAdvanced = (props) => {\n\tconst classes = useStyles();\n\tconst { ticketId } = useParams();\n\tconst [option, setOption] = useState(0);\n    const { currentTicket, setCurrentTicket } = useContext(TicketsContext)\n\n    useEffect(() => {\n        if(currentTicket.id !== null) {\n            setCurrentTicket({ id: currentTicket.id, code: '#open' })\n        }\n        if (!ticketId) {\n            setOption(1)\n        }\n        return () => {\n            setCurrentTicket({ id: null, code: null })\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    useEffect(() => {\n        if (currentTicket.id !== null) {\n            setOption(0)\n        }\n    }, [currentTicket])\n\n\n\tconst logo = `${process.env.REACT_APP_BACKEND_URL}/public/logotipos/login.png`;\n    const randomValue = Math.random(); // Generate a random number\n  \n    const logoWithRandom = `${logo}?r=${randomValue}`;\n\n\tconst renderPlaceholder = () => {\n\t\treturn <Box className={classes.placeholderContainer}>\n             {/*<div className={classes.placeholderItem}>{i18n.t(\"chat.noTicketMessage\")}</div>*/}\n\t\t\t//Whaticket Saas//\n\t\t\t<div>\n\t\t\t<center><img style={{ margin: \"0 auto\", width: \"80%\" }} src={logoWithRandom} alt={`${process.env.REACT_APP_NAME_SYSTEM}`} /></center>\n\t\t\t</div>\n\t\t\t//Whaticket Saas//\n\t\t\t<br />\n            <Button onClick={() => setOption(1)} variant=\"contained\" color=\"primary\">\n                Selecionar Ticket\n            </Button>\n        </Box>\n\t}\n\n\tconst renderMessageContext = () => {\n\t\tif (ticketId) {\n\t\t\treturn <Ticket />\n\t\t}\n\t\treturn renderPlaceholder()\n\t}\n\n\tconst renderTicketsManagerTabs = () => {\n\t\treturn <TicketsManagerTabs />\n\t}\n\n\treturn (\n        <TicketAdvancedLayout>\n            <Box className={classes.header}>\n                <BottomNavigation\n                    value={option}\n                    onChange={(event, newValue) => {\n                        setOption(newValue);\n                    }}\n                    showLabels\n                    className={classes.root}\n                >\n                    <BottomNavigationAction label=\"Ticket\" icon={<ChatIcon />} />\n                    <BottomNavigationAction label=\"Atendimentos\" icon={<QuestionAnswerIcon />} />\n                </BottomNavigation>\n            </Box>\n            <Box className={classes.content}>\n                { option === 0 ? renderMessageContext() : renderTicketsManagerTabs() }\n            </Box>\n        </TicketAdvancedLayout>\n\t);\n};\n\nexport default TicketAdvanced;\n","import React from \"react\";\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Tickets from \"../TicketsCustom\"\nimport TicketAdvanced from \"../TicketsAdvanced\";\n\nfunction TicketResponsiveContainer (props) {\n    if (isWidthUp('md', props.width)) {\n        return <Tickets />;    \n    }\n    return <TicketAdvanced />\n}\n\nexport default withWidth()(TicketResponsiveContainer);","import React, { useState, useEffect } from \"react\";\nimport qs from 'query-string'\n\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Formik, Form, Field } from \"formik\";\nimport usePlans from \"../../hooks/usePlans\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport InputMask from 'react-input-mask';\nimport api from \"../../services/api\";\nimport {\n\tFormControl,\n\tInputLabel,\n\tMenuItem,\n\tSelect,\n} from \"@material-ui/core\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport { openApi } from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport moment from \"moment\";\nconst Copyright = () => {\n\treturn (\n\t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n\t\t\t{\"Copyright © \"}\n\t\t\t<Link color=\"inherit\" href=\"#\">\n\t\t\t\tPLW\n\t\t\t</Link>{\" \"}\n\t\t   {new Date().getFullYear()}\n\t\t\t{\".\"}\n\t\t</Typography>\n\t);\n};\n\nconst useStyles = makeStyles(theme => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(3),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst SignUp = () => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [allowregister, setallowregister] = useState('enabled');\n    const [trial, settrial] = useState('3');\n\tlet companyId = null\n\n\tuseEffect(() => {\n        fetchallowregister();\n        fetchtrial();\n    }, []);\n\n\n    const fetchtrial = async () => {\n  \n \n    try {\n        const responsevvv = await api.get(\"/settings/trial\");\n        const allowtrialX = responsevvv.data.value;\n        //console.log(allowregisterX);\n        settrial(allowtrialX);\n        } catch (error) {\n            console.error('Error retrieving trial', error);\n        }\n    };\n\n\n    const fetchallowregister = async () => {\n  \n \n    try {\n        const responsevv = await api.get(\"/settings/allowregister\");\n        const allowregisterX = responsevv.data.value;\n        //console.log(allowregisterX);\n        setallowregister(allowregisterX);\n        } catch (error) {\n            console.error('Error retrieving allowregister', error);\n        }\n    };\n\n    if(allowregister === \"disabled\"){\n    \thistory.push(\"/login\");    \n    }\n\n\tconst params = qs.parse(window.location.search)\n\tif (params.companyId !== undefined) {\n\t\tcompanyId = params.companyId\n\t}\n\n\tconst initialState = { name: \"\", email: \"\", phone: \"\", password: \"\", planId: \"disabled\", };\n\n\tconst [user] = useState(initialState);\n\tconst dueDate = moment().add(trial, \"day\").format();\n\tconst handleSignUp = async values => {\n\t\tObject.assign(values, { recurrence: \"MENSAL\" });\n\t\tObject.assign(values, { dueDate: dueDate });\n\t\tObject.assign(values, { status: \"t\" });\n\t\tObject.assign(values, { campaignsEnabled: true });\n\t\ttry {\n\t\t\tawait openApi.post(\"/companies/cadastro\", values);\n\t\t\ttoast.success(i18n.t(\"signup.toasts.success\"));\n\t\t\thistory.push(\"/login\");\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst [plans, setPlans] = useState([]);\n\tconst { register: listPlans } = usePlans();\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tconst list = await listPlans();\n\t\t\tsetPlans(list);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst logo = `${process.env.REACT_APP_BACKEND_URL}/public/logotipos/signup.png`;\n    const randomValue = Math.random(); // Generate a random number\n  \n    const logoWithRandom = `${logo}?r=${randomValue}`;\n\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<div>\n\t\t\t\t<img style={{ margin: \"0 auto\", width: \"80%\" }} src={logoWithRandom} alt={`${process.env.REACT_APP_NAME_SYSTEM}`} />\n\t\t\t\t</div>\n\t\t\t\t{/*<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t{i18n.t(\"signup.title\")}\n\t\t\t\t</Typography>*/}\n\t\t\t\t{/* <form className={classes.form} noValidate onSubmit={handleSignUp}> */}\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSignUp(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form className={classes.form}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"name\"\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Nome da Empresa\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={InputMask}\n\t\t\t\t\t\t\t\t\tmask=\"(99) 99999-9999\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tid=\"phone\"\n\t\t\t\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\t\t\t\terror={touched.phone && Boolean(errors.phone)}\n\t\t\t\t\t\t\t\t\thelperText={touched.phone && errors.phone}\n\t\t\t\t\t\t\t\t\tautoComplete=\"phone\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"DDD988888888\"\n\t\t\t\t\t\t\t\t\t\t\tinputProps={{ maxLength: 11 }} // Definindo o limite de caracteres\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.password\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"plan-selection\">Plano</InputLabel>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"plan-selection\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Plano\"\n\t\t\t\t\t\t\t\t\t\tname=\"planId\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t>\n                                        <MenuItem value=\"disabled\" disabled>\n                                        \t<em>Selecione seu plano de assinatura</em>\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t{plans.map((plan, key) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={key} value={plan.id}>\n\t\t\t\t\t\t\t\t\t\t        {plan.name} - {plan.connections} WhatsApps - {plan.users} Usuários - R$ {plan.value.toLocaleString('pt-BR', { minimumFractionDigits: 2 })}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.submit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Grid container justify=\"flex-end\">\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tcomponent={RouterLink}\n\t\t\t\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.login\")}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</div>\n\t\t\t<Box mt={5}>{/* <Copyright /> */}</Box>\n\t\t</Container>\n\t);\n};\n\nexport default SignUp;\n","// import React, { useState, useContext, useEffect } from \"react\";\n// import { Link as RouterLink } from \"react-router-dom\";\n\n// import Button from \"@material-ui/core/Button\";\n// import CssBaseline from \"@material-ui/core/CssBaseline\";\n// import TextField from \"@material-ui/core/TextField\";\n// import Link from \"@material-ui/core/Link\";\n// import Grid from \"@material-ui/core/Grid\"; \n// import Box from \"@material-ui/core/Box\";\n// import Typography from \"@material-ui/core/Typography\";\n// import { makeStyles } from \"@material-ui/core/styles\";\n// import Container from \"@material-ui/core/Container\";\n// import { versionSystem } from \"../../../package.json\";\n// import { i18n } from \"../../translate/i18n\";\n// import api from \"../../services/api\";\n// import { nomeEmpresa } from \"../../../package.json\";\n// import { AuthContext } from \"../../context/Auth/AuthContext\";\n// //import logo from \"../../assets/logo.png\";\n\n\n// const Copyright = () => {\n// \treturn (\n// \t\t<Typography variant=\"body2\" color=\"primary\" align=\"center\">\n// \t\t\t{\"Copyright \"}\n//  \t\t\t<Link color=\"primary\" href=\"#\">\n//  \t\t\t\t{ nomeEmpresa } - v { versionSystem }\n//  \t\t\t</Link>{\" \"}\n//  \t\t\t{new Date().getFullYear()}\n//  \t\t\t{\".\"}\n//  \t\t</Typography>\n//  \t);\n//  };\n\n// const useStyles = makeStyles(theme => ({\n// \troot: {\n// \t\twidth: \"100vw\",\n// \t\theight: \"100vh\",\n// \t\tbackground: \"linear-gradient(to right, #2f0549 , #a729f4 , #2f0549)\",\n// \t\t//backgroundImage: \"url(https://i.imgur.com/CGby9tN.png)\",\n// \t\tbackgroundRepeat: \"no-repeat\",\n// \t\tbackgroundSize: \"100% 100%\",\n// \t\tbackgroundPosition: \"center\",\n// \t\tdisplay: \"flex\",\n// \t\tflexDirection: \"column\",\n// \t\talignItems: \"center\",\n// \t\tjustifyContent: \"center\",\n// \t\ttextAlign: \"center\",\n// \t},\n// \tpaper: {\n// \t\tbackgroundColor: theme.palette.login, //DARK MODE PLW DESIGN//\n// \t\tdisplay: \"flex\",\n// \t\tflexDirection: \"column\",\n// \t\talignItems: \"center\",\n// \t\tpadding: \"55px 30px\",\n// \t\tborderRadius: \"12.5px\",\n// \t},\n// \tavatar: {\n// \t\tmargin: theme.spacing(1),  \n// \t\tbackgroundColor: theme.palette.secondary.main,\n// \t},\n// \tform: {\n// \t\twidth: \"100%\", // Fix IE 11 issue.\n// \t\tmarginTop: theme.spacing(1),\n// \t},\n// \tsubmit: {\n// \t\tmargin: theme.spacing(3, 0, 2),\n// \t},\n// \tpowered: {\n// \t\tcolor: \"white\"\n// \t}\n// }));\n\n// const Login = () => {\n// \tconst classes = useStyles();\n\n// \tconst [user, setUser] = useState({ email: \"\", password: \"\" });\n\n// \tconst { handleLogin } = useContext(AuthContext);\n// \tconst [viewregister, setviewregister] = useState('disabled');\n\n// \tconst handleChangeInput = e => {\n// \t\tsetUser({ ...user, [e.target.name]: e.target.value });\n// \t};\n\t\n// \t    useEffect(() => {\n//     \tfetchviewregister();\n//   \t}, []);\n\t\n// \t\tconst fetchviewregister = async () => {\n  \n \n//     try {\n//     \tconst responsev = await api.get(\"/settings/viewregister\");\n//       \tconst viewregisterX = responsev?.data?.value;\n//       \t// console.log(viewregisterX);\n//       \tsetviewregister(viewregisterX);\n//     \t} catch (error) {\n//     \t\tconsole.error('Error retrieving viewregister', error);\n//     \t}\n//   \t};\n\n\n// \tconst handlSubmit = e => {\n// \t\te.preventDefault();\n// \t\thandleLogin(user);\n// \t};\n\t\n// \tconst logo = `${process.env.REACT_APP_BACKEND_URL}/public/logotipos/login.png`;\n//     const randomValue = Math.random(); // Generate a random number\n  \n//     const logoWithRandom = `${logo}?r=${randomValue}`;\n\n// \treturn (\n// \t\t<div className={classes.root}>\n// \t\t<Container component=\"main\" maxWidth=\"xs\">\n// \t\t\t<CssBaseline/>\n// \t\t\t<div className={classes.paper}>\n// \t\t\t\t<div>\n// \t\t\t\t\t<img style={{ margin: \"0 auto\", width: \"80%\" }} src={logoWithRandom} alt={`${process.env.REACT_APP_NAME_SYSTEM}`} />\n// \t\t\t\t</div>\n// \t\t\t\t{/*<Typography component=\"h1\" variant=\"h5\">\n// \t\t\t\t\t{i18n.t(\"login.title\")}\n// \t\t\t\t</Typography>*/}\n// \t\t\t\t<form className={classes.form} noValidate onSubmit={handlSubmit}>\n// \t\t\t\t\t<TextField\n// \t\t\t\t\t\tvariant=\"outlined\"\n// \t\t\t\t\t\tmargin=\"normal\"\n// \t\t\t\t\t\trequired\n// \t\t\t\t\t\tfullWidth\n// \t\t\t\t\t\tid=\"email\"\n// \t\t\t\t\t\tlabel={i18n.t(\"login.form.email\")}\n// \t\t\t\t\t\tname=\"email\"\n// \t\t\t\t\t\tvalue={user.email}\n// \t\t\t\t\t\tonChange={handleChangeInput}\n// \t\t\t\t\t\tautoComplete=\"email\"\n// \t\t\t\t\t\tautoFocus\n// \t\t\t\t\t/>\n// \t\t\t\t\t<TextField\n// \t\t\t\t\t\tvariant=\"outlined\"\n// \t\t\t\t\t\tmargin=\"normal\"\n// \t\t\t\t\t\trequired\n// \t\t\t\t\t\tfullWidth\n// \t\t\t\t\t\tname=\"password\"\n// \t\t\t\t\t\tlabel={i18n.t(\"login.form.password\")}\n// \t\t\t\t\t\ttype=\"password\"\n// \t\t\t\t\t\tid=\"password\"\n// \t\t\t\t\t\tvalue={user.password}\n// \t\t\t\t\t\tonChange={handleChangeInput}\n// \t\t\t\t\t\tautoComplete=\"current-password\"\n// \t\t\t\t\t/>\n\t\t\t\t\t\n// \t\t\t\t\t<Grid container justify=\"flex-end\">\n// \t\t\t\t\t  <Grid item xs={6} style={{ textAlign: \"right\" }}>\n// \t\t\t\t\t\t<Link component={RouterLink} to=\"/forgetpsw\" variant=\"body2\">\n// \t\t\t\t\t\t  Esqueceu sua senha?\n// \t\t\t\t\t\t</Link>\n// \t\t\t\t\t  </Grid>\n// \t\t\t\t\t</Grid>\n\t\t\t\t\n\t\t\t\t\t\n// \t\t\t\t\t<Button\n// \t\t\t\t\t\ttype=\"submit\"\n// \t\t\t\t\t\tfullWidth\n// \t\t\t\t\t\tvariant=\"contained\"\n// \t\t\t\t\t\tcolor=\"primary\"\n// \t\t\t\t\t\tclassName={classes.submit}\n// \t\t\t\t\t>\n// \t\t\t\t\t\t{i18n.t(\"login.buttons.submit\")}\n// \t\t\t\t\t</Button>\n//                     {viewregister === \"enabled\" && (\n//                     <>\n// \t\t\t\t\t<Grid container>\n// \t\t\t\t\t\t<Grid item>\n// \t\t\t\t\t\t\t<Link\n// \t\t\t\t\t\t\t\thref=\"#\"\n// \t\t\t\t\t\t\t\tvariant=\"body2\"\n// \t\t\t\t\t\t\t\tcomponent={RouterLink}\n// \t\t\t\t\t\t\t\tto=\"/signup\"\n// \t\t\t\t\t\t\t>\n// \t\t\t\t\t\t\t\t{i18n.t(\"login.buttons.register\")}\n// \t\t\t\t\t\t\t</Link>\n// \t\t\t\t\t\t</Grid>\n// \t\t\t\t\t</Grid>\n//                     </>\n//                     )}\n\t\t\t\t\n\t\t\t\t\t\n// \t\t\t\t</form>\n\t\t\t\n// \t\t\t</div>\n// \t\t\t<Box mt={8}><Copyright /></Box>\n// \t\t</Container>\n// \t\t</div>\n// \t);\n// };\n\n// export default Login;\n\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\"; \nimport Container from \"@material-ui/core/Container\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'row',\n        height: '100vh',\n        [theme.breakpoints.down('sm')]: {\n            flexDirection: 'column',\n        },\n    },\n    leftSide: {\n        flex: 1,\n        backgroundImage: \"url(https://i.imgur.com/gctMttd.png)\",\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        [theme.breakpoints.down('sm')]: {\n            height: '50vh',\n            backgroundSize: 'contain',\n            backgroundRepeat: 'no-repeat',\n        },\n    },\n    rightSide: {\n        flex: 1,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        backgroundColor: theme.palette.background.default,\n        [theme.breakpoints.down('sm')]: {\n            height: '50vh',\n        },\n    },\n    paper: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        padding: \"55px 30px\",\n    },\n    form: {\n        width: \"100%\", \n        marginTop: theme.spacing(1),\n    },\n    inputField: {\n        margin: theme.spacing(2, 0),\n        '& input': {\n            padding: \"10px 0\",\n        },\n        '& .MuiInput-underline:before': {\n            borderBottom: \"2px solid #ccc\",\n        },\n        '& .MuiInput-underline:hover:before': {\n            borderBottom: \"2px solid #000\",\n        },\n        '& .MuiInput-underline:after': {\n            borderBottom: \"2px solid #2575fc\",\n        }\n    },\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n    link: {\n        marginTop: theme.spacing(2),\n        textDecoration: \"none\",\n        '&:hover': {\n            textDecoration: \"underline\",\n        }\n    }\n}));\n\nconst Login = () => {\n    const classes = useStyles();\n\n    const [user, setUser] = useState({ email: \"\", password: \"\" });\n    const { handleLogin } = useContext(AuthContext);\n    const [viewregister, setviewregister] = useState('disabled');\n\n    const handleChangeInput = e => {\n        setUser({ ...user, [e.target.name]: e.target.value });\n    };\n\n    useEffect(() => {\n        fetchviewregister();\n    }, []);\n\n    const fetchviewregister = async () => {\n        try {\n            const responsev = await api.get(\"/settings/viewregister\");\n            const viewregisterX = responsev?.data?.value;\n            setviewregister(viewregisterX);\n        } catch (error) {\n            console.error('Error retrieving viewregister', error);\n        }\n    };\n\n    const handlSubmit = e => {\n        e.preventDefault();\n        handleLogin(user);\n    };\n\n    const logo = `${process.env.REACT_APP_BACKEND_URL}/public/logotipos/login.png`;\n    const randomValue = Math.random();\n    const logoWithRandom = `${logo}?r=${randomValue}`;\n\n    return (\n        <div className={classes.root}>\n            <div className={classes.leftSide}>\n                <img style={{ margin: \"0 auto\", width: \"80%\" }} src={logoWithRandom} alt={`${process.env.REACT_APP_NAME_SYSTEM}`} />\n            </div>\n            <div className={classes.rightSide}>\n                <Container component=\"main\" maxWidth=\"xs\">\n                    <CssBaseline/>\n                    <div className={classes.paper}>\n                        <form className={classes.form} noValidate onSubmit={handlSubmit}>\n                            <TextField\n                                variant=\"standard\"\n                                margin=\"normal\"\n                                required\n                                fullWidth\n                                id=\"email\"\n                                label={i18n.t(\"login.form.email\")}\n                                name=\"email\"\n                                value={user.email}\n                                onChange={handleChangeInput}\n                                autoComplete=\"email\"\n                                autoFocus\n                                className={classes.inputField}\n                            />\n                            <TextField\n                                variant=\"standard\"\n                                margin=\"normal\"\n                                required\n                                fullWidth\n                                name=\"password\"\n                                label={i18n.t(\"login.form.password\")}\n                                type=\"password\"\n                                id=\"password\"\n                                value={user.password}\n                                onChange={handleChangeInput}\n                                autoComplete=\"current-password\"\n                                className={classes.inputField}\n                            />\n                            <Grid container justify=\"flex-end\">\n                                <Grid item xs={6} style={{ textAlign: \"right\" }}>\n                                    <Link component={RouterLink} to=\"/forgetpsw\" variant=\"body2\" className={classes.link}>\n                                        Esqueceu sua senha?\n                                    </Link>\n                                </Grid>\n                            </Grid>\n                            <Button\n                                type=\"submit\"\n                                fullWidth\n                                variant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n                                className={classes.submit}\n                            >\n                                {i18n.t(\"login.buttons.submit\")}\n                            </Button>\n                            {viewregister === \"enabled\" && (\n                            <Grid container>\n                                <Grid item>\n                                    <Link\n                                        href=\"#\"\n                                        variant=\"body2\"\n                                        component={RouterLink}\n                                        to=\"/signup\"\n                                        className={classes.link}\n                                    >\n                                        {i18n.t(\"login.buttons.register\")}\n                                    </Link>\n                                </Grid>\n                            </Grid>\n                            )}\n                        </form>\n                    </div>\n                </Container>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;\n","class FormatMask {\n  setPhoneFormatMask(phoneToFormat) {\n\n    if(!phoneToFormat || phoneToFormat.length < 12){\n      return;\n    }\n\n    const number = (\"\" + phoneToFormat).replace(/\\D/g, \"\");\n\n    if (number.length <= 12) {\n      const phoneNumberFormatted = number.match(/^(\\d{2})(\\d{2})(\\d{4})(\\d{4})$/);\n      return (\n        \"+\" +\n        phoneNumberFormatted[1] +\n        \" (\" +\n        phoneNumberFormatted[2] +\n        \") \" +\n        phoneNumberFormatted[3] +\n        \"-\" +\n        phoneNumberFormatted[4]\n      );\n    }else if(number.length === 13){\n      const phoneNumberFormatted = number.match(/^(\\d{2})(\\d{2})(\\d{5})(\\d{4})$/);\n      return (\n        \"+\" +\n        phoneNumberFormatted[1] +\n        \" (\" +\n        phoneNumberFormatted[2] +\n        \") \" +\n        phoneNumberFormatted[3] +\n        \"-\" +\n        phoneNumberFormatted[4]\n      );\n    }\n\n    return null;\n  }\n\n  removeMask(number) {\n    const filterNumber = number.replace(/\\D/g, \"\");\n    return filterNumber;\n  }\n\n  maskPhonePattern(phoneNumber){\n    if(phoneNumber.length < 13){\n      return '+55 (99) 9999 9999';\n    }else{\n      return '+55 (99) 99999 9999';\n    }\n  }\n}\n\nexport { FormatMask };","import { FormatMask } from './FormatMask';\n\nconst formatSerializedId = (serializedId) => {\n  const formatMask = new FormatMask();\n  const number = serializedId?.replace('@c.us', '');\n\n  return formatMask.setPhoneFormatMask(number);\n};\n\nexport default formatSerializedId;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainContainer: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(2),\n\t\theight: `calc(100% - 48px)`,\n\t},\n\n\tcontentWrapper: {\n\t\theight: \"100%\",\n\t\toverflowY: \"hidden\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n}));\n\nconst MainContainer = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Container className={classes.mainContainer}>\n\t\t\t<div className={classes.contentWrapper}>{children}</div>\n\t\t</Container>\n\t);\n};\n\nexport default MainContainer;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tcontactsHeader: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: \"0px 6px 6px 6px\",\n\t},\n}));\n\nconst MainHeader = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.contactsHeader}>{children}</div>;\n};\n\nexport default MainHeader;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tMainHeaderButtonsWrapper: {\n\t\tflex: \"none\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst MainHeaderButtonsWrapper = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.MainHeaderButtonsWrapper}>{children}</div>;\n};\n\nexport default MainHeaderButtonsWrapper;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function Title(props) {\n\treturn (\n\t\t<Typography variant=\"h5\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n}\n","import React from \"react\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n}));\n\nconst TableRowSkeleton = ({ avatar, columns }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<>\n\t\t\t<TableRow>\n\t\t\t\t{avatar && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell style={{ paddingRight: 0 }}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\t\t\theight={40}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Skeleton animation=\"wave\" height={30} width={80} />\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{Array.from({ length: columns }, (_, index) => (\n\t\t\t\t\t<TableCell align=\"center\" key={index}>\n\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\theight={30}\n\t\t\t\t\t\t\t\twidth={80}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</>\n\t);\n};\n\nexport default TableRowSkeleton;\n","import React, { useState, useEffect } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  Button,\n  DialogActions,\n  CircularProgress,\n  TextField,\n  Switch,\n  FormControlLabel,\n  Grid,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n} from \"@material-ui/core\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst SessionSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\n  const classes = useStyles();\n  const initialState = {\n    name: \"\",\n    greetingMessage: \"\",\n    complationMessage: \"\",\n    outOfHoursMessage: \"\",\n    ratingMessage: \"\",\n    isDefault: false,\n    token: \"\",\n    provider: \"beta\",\n    //timeSendQueue: 0,\n    //sendIdQueue: 0,\n    expiresInactiveMessage: \"\",\n    expiresTicket: 0,\n    timeUseBotQueues: 0,\n    maxUseBotQueues: 3\n  };\n  const [whatsApp, setWhatsApp] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n  const [queues, setQueues] = useState([]);\n  const [selectedQueueId, setSelectedQueueId] = useState(null)\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\n  const [prompts, setPrompts] = useState([]);\n  \n    useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`whatsapp/${whatsAppId}?session=0`);\n        setWhatsApp(data);\n\n        const whatsQueueIds = data.queues?.map((queue) => queue.id);\n        setSelectedQueueIds(whatsQueueIds);\n\t\tsetSelectedQueueId(data.transferQueueId);\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/prompt\");\n        setPrompts(data.prompts);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/queue\");\n        setQueues(data);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  const handleSaveWhatsApp = async (values) => {\nconst whatsappData = {\n      ...values, queueIds: selectedQueueIds, transferQueueId: selectedQueueId,\n      promptId: selectedPrompt ? selectedPrompt : null\n    };\n    delete whatsappData[\"queues\"];\n    delete whatsappData[\"session\"];\n\n    try {\n      if (whatsAppId) {\n        await api.put(`/whatsapp/${whatsAppId}`, whatsappData);\n      } else {\n        await api.post(\"/whatsapp\", whatsappData);\n      }\n      toast.success(i18n.t(\"whatsappModal.success\"));\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleChangeQueue = (e) => {\n    setSelectedQueueIds(e);\n    setSelectedPrompt(null);\n  };\n\n  const handleChangePrompt = (e) => {\n    setSelectedPrompt(e.target.value);\n    setSelectedQueueIds([]);\n  };\n\n  const handleClose = () => {\n    onClose();\n    setWhatsApp(initialState);\n\t  setSelectedQueueId(null);\n    setSelectedQueueIds([]);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"md\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {whatsAppId\n            ? i18n.t(\"whatsappModal.title.edit\")\n            : i18n.t(\"whatsappModal.title.add\")}\n        </DialogTitle>\n        <Formik\n          initialValues={whatsApp}\n          enableReinitialize={true}\n          validationSchema={SessionSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveWhatsApp(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Grid spacing={2} container>\n                    <Grid item>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.name\")}\n                        autoFocus\n                        name=\"name\"\n                        error={touched.name && Boolean(errors.name)}\n                        helperText={touched.name && errors.name}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        className={classes.textField}\n                      />\n                    </Grid>\n                    <Grid style={{ paddingTop: 15 }} item>\n                      <FormControlLabel\n                        control={\n                          <Field\n                            as={Switch}\n                            color=\"primary\"\n                            name=\"isDefault\"\n                            checked={values.isDefault}\n                          />\n                        }\n                        label={i18n.t(\"whatsappModal.form.default\")}\n                      />\n                    </Grid>\n                  </Grid>\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.greetingMessage\")}\n                    type=\"greetingMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"greetingMessage\"\n                    error={\n                      touched.greetingMessage && Boolean(errors.greetingMessage)\n                    }\n                    helperText={\n                      touched.greetingMessage && errors.greetingMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.complationMessage\")}\n                    type=\"complationMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"complationMessage\"\n                    error={\n                      touched.complationMessage &&\n                      Boolean(errors.complationMessage)\n                    }\n                    helperText={\n                      touched.complationMessage && errors.complationMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.outOfHoursMessage\")}\n                    type=\"outOfHoursMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"outOfHoursMessage\"\n                    error={\n                      touched.outOfHoursMessage &&\n                      Boolean(errors.outOfHoursMessage)\n                    }\n                    helperText={\n                      touched.outOfHoursMessage && errors.outOfHoursMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.ratingMessage\")}\n                    type=\"ratingMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"ratingMessage\"\n                    error={\n                      touched.ratingMessage && Boolean(errors.ratingMessage)\n                    }\n                    helperText={touched.ratingMessage && errors.ratingMessage}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.token\")}\n                    type=\"token\"\n                    fullWidth\n                    name=\"token\"\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <QueueSelect\n                  selectedQueueIds={selectedQueueIds}\n                  onChange={(selectedIds) => handleChangeQueue(selectedIds)}\n                />\n                <FormControl\n                  margin=\"dense\"\n                  variant=\"outlined\"\n                  fullWidth\n                >\n                  <InputLabel>\n                    {i18n.t(\"whatsappModal.form.prompt\")}\n                  </InputLabel>\n                  <Select\n                    labelId=\"dialog-select-prompt-label\"\n                    id=\"dialog-select-prompt\"\n                    name=\"promptId\"\n                    value={selectedPrompt || \"\"}\n                    onChange={handleChangePrompt}\n                    label={i18n.t(\"whatsappModal.form.prompt\")}\n                    fullWidth\n                    MenuProps={{\n                      anchorOrigin: {\n                        vertical: \"bottom\",\n                        horizontal: \"left\",\n                      },\n                      transformOrigin: {\n                        vertical: \"top\",\n                        horizontal: \"left\",\n                      },\n                      getContentAnchorEl: null,\n                    }}\n                  >\n                    {prompts.map((prompt) => (\n                      <MenuItem\n                        key={prompt.id}\n                        value={prompt.id}\n                      >\n                        {prompt.name}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </FormControl>\n                <div>\n                  <h3>{i18n.t(\"whatsappModal.form.queueRedirection\")}</h3>\n                  <p>{i18n.t(\"whatsappModal.form.queueRedirectionDesc\")}</p>\n\t\t\t\t<Grid container spacing={2}>\n                  <Grid item sm={6} >\n                    <Field\n                      fullWidth\n                      type=\"number\"\n                      as={TextField}\n                      label='Transferir após x (minutos)'\n                      name=\"timeToTransfer\"\n                      error={touched.timeToTransfer && Boolean(errors.timeToTransfer)}\n                      helperText={touched.timeToTransfer && errors.timeToTransfer}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.textField}\n                      InputLabelProps={{ shrink: values.timeToTransfer ? true : false }}\n                    />\n\n                  </Grid>\n\n                  <Grid item sm={6}>\n                    <QueueSelect\n                      selectedQueueIds={selectedQueueId}\n                      onChange={(selectedId) => {\n                        setSelectedQueueId(selectedId)\n                      }}\n                      multiple={false}\n                      title={'Fila de Transferência'}\n                    />\n                  </Grid>\n\n                  </Grid>\n                  <Grid spacing={2} container>\n                    {/* ENCERRAR CHATS ABERTOS APÓS X HORAS */}\n                    <Grid xs={12} md={12} item>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.expiresTicket\")}\n                        fullWidth\n                        name=\"expiresTicket\"\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        error={touched.expiresTicket && Boolean(errors.expiresTicket)}\n                        helperText={touched.expiresTicket && errors.expiresTicket}\n                      />\n                    </Grid>\n                  </Grid>\n                  {/* MENSAGEM POR INATIVIDADE*/}\n                  <div>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"whatsappModal.form.expiresInactiveMessage\")}\n                      multiline\n                      rows={4}\n                      fullWidth\n                      name=\"expiresInactiveMessage\"\n                      error={touched.expiresInactiveMessage && Boolean(errors.expiresInactiveMessage)}\n                      helperText={touched.expiresInactiveMessage && errors.expiresInactiveMessage}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                    />\n                  </div>\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"whatsappModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {whatsAppId\n                    ? i18n.t(\"whatsappModal.buttons.okEdit\")\n                    : i18n.t(\"whatsappModal.buttons.okAdd\")}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default React.memo(WhatsAppModal);\n","import React, { useEffect, useState, useContext } from \"react\";\nimport QRCode from \"qrcode.react\";\nimport toastError from \"../../errors/toastError\";\n\nimport { Dialog, DialogContent, Paper, Typography, useTheme } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst QrcodeModal = ({ open, onClose, whatsAppId }) => {\n  const [qrCode, setQrCode] = useState(\"\");\n  const theme = useTheme();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`/whatsapp/${whatsAppId}`);\n        setQrCode(data.qrcode);\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    if (!whatsAppId) return;\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-whatsappSession`, (data) => {\n      if (data.action === \"update\" && data.session.id === whatsAppId) {\n        setQrCode(data.session.qrcode);\n      }\n\n      if (data.action === \"update\" && data.session.qrcode === \"\") {\n        onClose();\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [whatsAppId, onClose, socketManager]);\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"lg\" scroll=\"paper\">\n      <DialogContent>\n        <Paper elevation={0} style={{ display: \"flex\", alignItems: \"center\" }}>\n          <div style={{ marginRight: \"20px\" }}>\n            <Typography variant=\"h2\" component=\"h2\" color=\"textPrimary\" gutterBottom style={{ fontFamily: \"Montserrat\", fontWeight: \"bold\", fontSize:\"20px\",}}>\n              Utilize o Whaticket com seu WhatsApp:\n            </Typography>\n            <Typography variant=\"body1\" color=\"textPrimary\" gutterBottom>\n              1 - Abra o WhatsApp no seu celular\n            </Typography>\n            <Typography variant=\"body1\" color=\"textPrimary\" gutterBottom>\n              2 - Toque em Mais opções no Android <svg class=\"MuiSvgIcon-root\" focusable=\"false\" viewBox=\"0 0 24 24\" aria-hidden=\"true\"><path d=\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"></path></svg> ou em Configurações <svg class=\"MuiSvgIcon-root\" focusable=\"false\" viewBox=\"0 0 24 24\" aria-hidden=\"true\"><path d=\"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z\"></path></svg> no iPhone\n            </Typography>\n            <Typography variant=\"body1\" color=\"textPrimary\" gutterBottom>\n              3 - Toque em Dispositivos conectados e, em seguida, em Conectar dispositivos\n            </Typography>\n            <Typography variant=\"body1\" color=\"textPrimary\" gutterBottom>\n              4 - Aponte seu celular para essa tela para capturar o QR Code\n            </Typography>\n          </div>\n          <div>\n            {qrCode ? (\n              <QRCode value={qrCode} size={256} />\n            ) : (\n              <span>Waiting for QR Code</span>\n            )}\n          </div>\n        </Paper>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default React.memo(QrcodeModal);\n","import React, { useState, useCallback, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { format, parseISO } from \"date-fns\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n\tButton,\n\tTableBody,\n\tTableRow,\n\tTableCell,\n\tIconButton,\n\tTable,\n\tTableHead,\n\tPaper,\n\tTooltip,\n\tTypography,\n\tCircularProgress,\n} from \"@material-ui/core\";\nimport {\n\tEdit,\n\tCheckCircle,\n\tSignalCellularConnectedNoInternet2Bar,\n\tSignalCellularConnectedNoInternet0Bar,\n\tSignalCellular4Bar,\n\tCropFree,\n\tDeleteOutline,\n} from \"@material-ui/icons\";\nimport formatSerializedId from '../../utils/formatSerializedId';\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainPaper: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(1),\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\ttooltip: {\n\t\tbackgroundColor: \"#f5f5f9\",\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\n\t\tfontSize: theme.typography.pxToRem(14),\n\t\tborder: \"1px solid #dadde9\",\n\t\tmaxWidth: 450,\n\t},\n\ttooltipPopper: {\n\t\ttextAlign: \"center\",\n\t},\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t},\n}));\n\nconst CustomToolTip = ({ title, content, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Tooltip\n\t\t\tarrow\n\t\t\tclasses={{\n\t\t\t\ttooltip: classes.tooltip,\n\t\t\t\tpopper: classes.tooltipPopper,\n\t\t\t}}\n\t\t\ttitle={\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</Tooltip>\n\t);\n};\n\nconst Connections = () => {\n\tconst classes = useStyles();\n\n\tconst { user } = useContext(AuthContext);\n\tconst { whatsApps, loading } = useContext(WhatsAppsContext);\n\tconst [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n\tconst [qrModalOpen, setQrModalOpen] = useState(false);\n\tconst [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n\tconst [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\tconst confirmationModalInitialState = {\n\t\taction: \"\",\n\t\ttitle: \"\",\n\t\tmessage: \"\",\n\t\twhatsAppId: \"\",\n\t\topen: false,\n\t};\n\tconst [confirmModalInfo, setConfirmModalInfo] = useState(\n\t\tconfirmationModalInitialState\n\t);\n\n  const restartWhatsapps = async () => {\n    // const companyId = localStorage.getItem(\"companyId\");\n    try {\n      await api.post(`/whatsapp-restart/`);\n      toast.warn(i18n.t(\"Aguarde... reiniciando...\"));\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n\tconst handleStartWhatsAppSession = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.post(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleRequestNewQrCode = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.put(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenWhatsAppModal = () => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleCloseWhatsAppModal = useCallback(() => {\n\t\tsetWhatsAppModalOpen(false);\n\t\tsetSelectedWhatsApp(null);\n\t}, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n\tconst handleOpenQrModal = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetQrModalOpen(true);\n\t};\n\n\tconst handleCloseQrModal = useCallback(() => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetQrModalOpen(false);\n\t}, [setQrModalOpen, setSelectedWhatsApp]);\n\n\tconst handleEditWhatsApp = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleOpenConfirmationModal = (action, whatsAppId) => {\n\t\tif (action === \"disconnect\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\n\t\tif (action === \"delete\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\t\tsetConfirmModalOpen(true);\n\t};\n\n\tconst handleSubmitConfirmationModal = async () => {\n\t\tif (confirmModalInfo.action === \"disconnect\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tif (confirmModalInfo.action === \"delete\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n\t\t\t\ttoast.success(i18n.t(\"connections.toasts.deleted\"));\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tsetConfirmModalInfo(confirmationModalInitialState);\n\t};\n\n\tconst renderActionButtons = whatsApp => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={() => handleOpenQrModal(whatsApp)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.qrcode\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => handleStartWhatsAppSession(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.tryAgain\")}\n\t\t\t\t\t\t</Button>{\" \"}\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={() => handleRequestNewQrCode(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.newQr\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"CONNECTED\" ||\n\t\t\t\t\twhatsApp.status === \"PAIRING\" ||\n\t\t\t\t\twhatsApp.status === \"TIMEOUT\") && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thandleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.disconnect\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.connecting\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t};\n\n\tconst renderStatusToolTips = whatsApp => {\n\t\treturn (\n\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.disconnected.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.disconnected.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.qrcode.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.qrcode.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CropFree />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"CONNECTED\" && (\n\t\t\t\t\t<CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n\t\t\t\t\t\t<SignalCellular4Bar style={{ color: green[500] }} />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.timeout.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.timeout.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<MainContainer>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={confirmModalInfo.title}\n\t\t\t\topen={confirmModalOpen}\n\t\t\t\tonClose={setConfirmModalOpen}\n\t\t\t\tonConfirm={handleSubmitConfirmationModal}\n\t\t\t>\n\t\t\t\t{confirmModalInfo.message}\n\t\t\t</ConfirmationModal>\n\t\t\t<QrcodeModal\n\t\t\t\topen={qrModalOpen}\n\t\t\t\tonClose={handleCloseQrModal}\n\t\t\t\twhatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<WhatsAppModal\n\t\t\t\topen={whatsAppModalOpen}\n\t\t\t\tonClose={handleCloseWhatsAppModal}\n\t\t\t\twhatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<MainHeader>\n\t\t\t\t<Title>{i18n.t(\"connections.title\")}</Title>\n\t\t\t\t<MainHeaderButtonsWrapper>\n\t\t\t\t\t<Can\n\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\tperform=\"connections-page:addConnection\"\n\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={handleOpenWhatsAppModal}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.add\")}\n\t\t\t\t\t\t\t</Button>\n \t\t\t\t\t\t\t<Button\n            \t\t\t\t\tvariant=\"contained\"\n            \t\t\t\t\tcolor=\"primary\"\n            \t\t\t\t\tonClick={restartWhatsapps}\n          \t\t\t\t\t>\n            \t\t\t\t\t{i18n.t(\"REINICIAR CONEXÕES\")}\n          \t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</MainHeaderButtonsWrapper>\n\t\t\t</MainHeader>\n\t\t\t<Paper className={classes.mainPaper} variant=\"outlined\">\n\t\t\t\t<Table size=\"small\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.name\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n                            \t{i18n.t(\"connections.table.number\")}\n                            </TableCell>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.status\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\tperform=\"connections-page:actionButtons\"\n\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.session\")}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.lastUpdate\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.default\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\tperform=\"connections-page:editOrDeleteConnection\"\n\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.actions\")}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t<TableRowSkeleton />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{whatsApps?.length > 0 &&\n\t\t\t\t\t\t\t\t\twhatsApps.map(whatsApp => (\n\t\t\t\t\t\t\t\t\t\t<TableRow key={whatsApp.id}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{whatsApp.name}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t  {whatsApp.number ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t  {console.log(\"Número do WhatsApp:\", whatsApp.number)}\n\t\t\t\t\t\t\t\t\t\t\t\t  {console.log(\"Número formatado:\", formatSerializedId(whatsApp.number))}\n\t\t\t\t\t\t\t\t\t\t\t\t  {formatSerializedId(whatsApp.number)}\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t  ) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\"-\"\n\t\t\t\t\t\t\t\t\t\t\t  )}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{renderStatusToolTips(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\t\t\t\t\tperform=\"connections-page:actionButtons\"\n\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderActionButtons(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApp.isDefault && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle style={{ color: green[500] }} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\t\t\t\t\tperform=\"connections-page:editOrDeleteConnection\"\n\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditWhatsApp(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpenConfirmationModal(\"delete\", whatsApp.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</Paper>\n\t\t</MainContainer>\n\t);\n};\n\nexport default Connections;","import React, { useState, useEffect } from \"react\";\nimport { makeStyles, TextField, Grid, Container } from \"@material-ui/core\";\nimport { Formik, Form, FastField, FieldArray } from \"formik\";\nimport { isArray } from \"lodash\";\nimport NumberFormat from \"react-number-format\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  textfield: {\n    width: \"100%\",\n  },\n  row: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  control: {\n    paddingRight: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    padding: theme.spacing(1),\n  },\n}));\n\nfunction SchedulesForm(props) {\n  const { initialValues, onSubmit, loading, labelSaveButton } = props;\n  const classes = useStyles();\n\n  const [schedules, setSchedules] = useState([\n    { weekday: \"Segunda-feira\", weekdayEn: \"monday\", startTime: \"\", startPause:\"\", endPause:\"\", endTime: \"\", },\n    { weekday: \"Terça-feira\", weekdayEn: \"tuesday\", startTime: \"\", startPause:\"\", endPause:\"\", endTime: \"\", },\n    { weekday: \"Quarta-feira\", weekdayEn: \"wednesday\", startTime: \"\", startPause:\"\", endPause:\"\", endTime: \"\", },\n    { weekday: \"Quinta-feira\", weekdayEn: \"thursday\", startTime: \"\", startPause:\"\", endPause:\"\", endTime: \"\", },\n    { weekday: \"Sexta-feira\", weekdayEn: \"friday\", startTime: \"\", startPause:\"\", endPause:\"\", endTime: \"\", },\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTime: \"\", startPause:\"\", endPause:\"\", endTime: \"\", },\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTime: \"\", startPause:\"\", endPause:\"\", endTime: \"\", },\n  ]);\n\n  useEffect(() => {\n    if (isArray(initialValues) && initialValues.length > 0) {\n      setSchedules(initialValues);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialValues]);\n\n  const handleSubmit = (data) => {\n    onSubmit(data);\n  };\n\n  return (\n    <Formik\n      enableReinitialize\n      className={classes.fullWidth}\n      initialValues={{ schedules }}\n      onSubmit={({ schedules }) =>\n        setTimeout(() => {\n          handleSubmit(schedules);\n        }, 500)\n      }\n    >\n      {({ values }) => (\n        <Form className={classes.fullWidth}>\n          <FieldArray\n            name=\"schedules\"\n            render={(arrayHelpers) => (\n              <Grid spacing={4} container>\n                {values.schedules.map((item, index) => {\n                  return (\n                      <Container>\n                          <FastField\n                            as={TextField}\n                            label=\"Dia da Semana\"\n                            name={`schedules[${index}].weekday`}\n                            disabled\n                            variant=\"outlined\"\n                            style={{ marginRight: \"3.2%\", width: \"15%\" }}\n                            margin=\"dense\"\n                          />\n                          <FastField\n                            name={`schedules[${index}].startTime`}\n                            >\n                            {({ field }) => (\n                              <NumberFormat\n                                label=\"Hora de Inicial\"\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                style={{ marginRight: \"3.2%\", width: \"15%\" }}\n                              />\n                            )}\n                          </FastField>\n                          <FastField\n                            name={`schedules[${index}].startPause`}\n                            >\n                            {({ field }) => (\n                              <NumberFormat\n                                label=\"Inicio Intervalo\"\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                style={{ marginRight: \"3.2%\", width: \"15%\" }}\n                              />\n                            )}\n                          </FastField>\n                          <FastField\n                            name={`schedules[${index}].endPause`}\n                            >\n                            {({ field }) => (\n                              <NumberFormat\n                                label=\"Fim Intervalo\"\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                style={{ marginRight: \"3.2%\", width: \"15%\" }}\n                              />\n                            )}\n                          </FastField>\n                          <FastField\n                            name={`schedules[${index}].endTime`}\n                            >\n                            {({ field }) => (\n                              <NumberFormat\n                                label=\"Hora de Final\"\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                style={{ marginRight: \"3.2%\", width: \"15%\" }}\n                              />\n                            )}\n                          </FastField>\n\n                      </Container>\n\n                  );\n                })}\n              </Grid>\n            )}\n          ></FieldArray>\n          <div style={{ textAlign: \"center\", marginTop: \"2%\" }} className={classes.buttonContainer}>\n            <ButtonWithSpinner\n              loading={loading}\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"contained\"\n            >\n              {labelSaveButton ?? \"Salvar\"}\n            </ButtonWithSpinner>\n          </div>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nexport default SchedulesForm;\n","import api from \"../../services/api\";\n\nconst useCompanies = () => {\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/companies',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const findAll = async (id) => {\n        const { data } = await api.request({\n            url: `/companies`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const list = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/list`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const find = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const finding = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/companies/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const updateSchedules = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/companies/${data.id}/schedules`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    return {\n        save,\n        update,\n        remove,\n        list,\n        find,\n        finding,\n        findAll,\n        updateSchedules\n    }\n}\n\nexport default useCompanies;","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelectCustom = ({ selectedQueueIds, companyId, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\", {\n\t\t\t\t\tparams: { companyId }\n\t\t\t\t});\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, [companyId]);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelectCustom;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelectCustom from \"../QueueSelectCustom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nconst UserSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  password: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n  email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst ModalUsers = ({ open, onClose, userId, companyId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    profile: \"user\",\n  };\n\n  const { user: loggedInUser } = useContext(AuthContext);\n\n  const [user, setUser] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      if (!userId) return;\n      if (open) {\n        try {\n          const { data } = await api.get(`/users/${userId}`);\n          setUser((prevState) => {\n            return { ...prevState, ...data };\n          });\n          const userQueueIds = data.queues?.map((queue) => queue.id);\n          setSelectedQueueIds(userQueueIds);\n        } catch (err) {\n          toastError(err);\n        }\n      }\n    };\n\n    fetchUser();\n  }, [userId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setUser(initialState);\n  };\n\n  const handleSaveUser = async (values) => {\n    const userData = { ...values, companyId, queueIds: selectedQueueIds };\n    try {\n      if (userId) {\n        await api.put(`/users/${userId}`, userData);\n      } else {\n        await api.post(\"/users\", userData);\n      }\n      toast.success(i18n.t(\"userModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {userId\n            ? `${i18n.t(\"userModal.title.edit\")}`\n            : `${i18n.t(\"userModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={user}\n          enableReinitialize={true}\n          validationSchema={UserSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveUser(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.password\")}\n                    type=\"password\"\n                    name=\"password\"\n                    error={touched.password && Boolean(errors.password)}\n                    helperText={touched.password && errors.password}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.email\")}\n                    name=\"email\"\n                    error={touched.email && Boolean(errors.email)}\n                    helperText={touched.email && errors.email}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                  <FormControl\n                    variant=\"outlined\"\n                    className={classes.formControl}\n                    margin=\"dense\"\n                  >\n                    <Can\n                      role={loggedInUser.profile}\n                      perform=\"user-modal:editProfile\"\n                      yes={() => (\n                        <>\n                          <InputLabel id=\"profile-selection-input-label\">\n                            {i18n.t(\"userModal.form.profile\")}\n                          </InputLabel>\n\n                          <Field\n                            as={Select}\n                            label={i18n.t(\"userModal.form.profile\")}\n                            name=\"profile\"\n                            labelId=\"profile-selection-label\"\n                            id=\"profile-selection\"\n                            required\n                          >\n                            <MenuItem value=\"admin\">Admin</MenuItem>\n                            <MenuItem value=\"user\">User</MenuItem>\n                          </Field>\n                        </>\n                      )}\n                    />\n                  </FormControl>\n                </div>\n                <Can\n                  role={loggedInUser.profile}\n                  perform=\"user-modal:editQueues\"\n                  yes={() => (\n                    <QueueSelectCustom\n                      companyId={companyId}\n                      selectedQueueIds={selectedQueueIds}\n                      onChange={(values) => setSelectedQueueIds(values)}\n                    />\n                  )}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"userModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {userId\n                    ? `${i18n.t(\"userModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"userModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ModalUsers;\n","import {\n  FormControl,\n  Grid,\n  IconButton,\n  InputLabel,\n  MenuItem,\n  Paper,\n  Select,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  makeStyles,\n} from \"@material-ui/core\";\nimport { Field, Form, Formik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { has, head, isArray } from \"lodash\";\nimport { toast } from \"react-toastify\";\nimport useCompanies from \"../../hooks/useCompanies\";\nimport { useDate } from \"../../hooks/useDate\";\nimport usePlans from \"../../hooks/usePlans\";\nimport api from \"../../services/api\";\nimport ModalUsers from \"../ModalUsers\";\n\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  mainPaper: {\n    width: \"100%\",\n    flex: 1,\n    padding: theme.spacing(2),\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  tableContainer: {\n    width: \"100%\",\n    overflowX: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textfield: {\n    width: \"100%\",\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  row: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  control: {\n    paddingRight: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    padding: theme.spacing(1),\n  },\n}));\n\nexport function CompanyForm(props) {\n  const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n  const classes = useStyles();\n  const [plans, setPlans] = useState([]);\n  const [modalUser, setModalUser] = useState(false);\n  const [firstUser, setFirstUser] = useState({});\n\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n    ...initialValue,\n  });\n\n  const { list: listPlans } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const list = await listPlans();\n      setPlans(list);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setRecord((prev) => {\n      if (moment(initialValue).isValid()) {\n        initialValue.dueDate = moment(initialValue.dueDate).format(\n          \"YYYY-MM-DD\"\n        );\n      }\n      return {\n        ...prev,\n        ...initialValue,\n      };\n    });\n  }, [initialValue]);\n\n  const handleSubmit = async (data) => {\n    if (data.dueDate === \"\" || moment(data.dueDate).isValid() === false) {\n      data.dueDate = null;\n    }\n    onSubmit(data);\n    setRecord({ ...initialValue, dueDate: \"\" });\n  };\n\n  const handleOpenModalUsers = async () => {\n    try {\n      const { data } = await api.get(\"/users/list\", {\n        params: {\n          companyId: initialValue.id,\n        },\n      });\n      if (isArray(data) && data.length) {\n        setFirstUser(head(data));\n      }\n      setModalUser(true);\n    } catch (e) {\n      toast.error(e);\n    }\n  };\n\n  const handleCloseModalUsers = () => {\n    setFirstUser({});\n    setModalUser(false);\n  };\n\n  const incrementDueDate = () => {\n    const data = { ...record };\n    if (data.dueDate !== \"\" && data.dueDate !== null) {\n      switch (data.recurrence) {\n        case \"MENSAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(1, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"BIMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(2, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"TRIMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(3, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"SEMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(6, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"ANUAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(12, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        default:\n          break;\n      }\n    }\n    setRecord(data);\n  };\n\n  return (\n    <>\n      <ModalUsers\n        userId={firstUser.id}\n        companyId={initialValue.id}\n        open={modalUser}\n        onClose={handleCloseModalUsers}\n      />\n      <Formik\n        enableReinitialize\n        className={classes.fullWidth}\n        initialValues={record}\n        onSubmit={(values, { resetForm }) =>\n          setTimeout(() => {\n            handleSubmit(values);\n            resetForm();\n          }, 500)\n        }\n      >\n        {(values, setValues) => (\n          <Form className={classes.fullWidth}>\n            <Grid spacing={2} justifyContent=\"flex-end\" container>\n              <Grid xs={12} sm={6} md={4} item>\n                <Field\n                  as={TextField}\n                  label=\"Nome\"\n                  name=\"name\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label=\"E-mail\"\n                  name=\"email\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                  required\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label=\"Telefone\"\n                  name=\"phone\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"plan-selection\">Plano</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"plan-selection\"\n                    label=\"Plano\"\n                    labelId=\"plan-selection-label\"\n                    name=\"planId\"\n                    margin=\"dense\"\n                    required\n                  >\n                    {plans.map((plan, key) => (\n                      <MenuItem key={key} value={plan.id}>\n                        {plan.name}\n                      </MenuItem>\n                    ))}\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"status-selection\">Status</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"status-selection\"\n                    label=\"Status\"\n                    labelId=\"status-selection-label\"\n                    name=\"status\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={true}>Sim</MenuItem>\n                    <MenuItem value={false}>Não</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"status-selection\">Campanhas</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"campaigns-selection\"\n                    label=\"Campanhas\"\n                    labelId=\"campaigns-selection-label\"\n                    name=\"campaignsEnabled\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={true}>Habilitadas</MenuItem>\n                    <MenuItem value={false}>Desabilitadas</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl variant=\"outlined\" fullWidth>\n                  <Field\n                    as={TextField}\n                    label=\"Data de Vencimento\"\n                    type=\"date\"\n                    name=\"dueDate\"\n                    InputLabelProps={{\n                      shrink: true,\n                    }}\n                    variant=\"outlined\"\n                    fullWidth\n                    margin=\"dense\"\n                  />\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"recorrencia-selection\">\n                    Recorrência\n                  </InputLabel>\n                  <Field\n                    as={Select}\n                    label=\"Recorrência\"\n                    labelId=\"recorrencia-selection-label\"\n                    id=\"recurrence\"\n                    name=\"recurrence\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value=\"MENSAL\">Mensal</MenuItem>\n                    {/*<MenuItem value=\"BIMESTRAL\">Bimestral</MenuItem>*/}\n                    {/*<MenuItem value=\"TRIMESTRAL\">Trimestral</MenuItem>*/}\n                    {/*<MenuItem value=\"SEMESTRAL\">Semestral</MenuItem>*/}\n                    {/*<MenuItem value=\"ANUAL\">Anual</MenuItem>*/}\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} item>\n                <Grid justifyContent=\"flex-end\" spacing={1} container>\n                  <Grid xs={4} md={1} item>\n                    <ButtonWithSpinner\n                      className={classes.fullWidth}\n                      style={{ marginTop: 7 }}\n                      loading={loading}\n                      onClick={() => onCancel()}\n                      variant=\"contained\"\n                    >\n                      Limpar\n                    </ButtonWithSpinner>\n                  </Grid>\n                  {record.id !== undefined ? (\n                    <>\n                      <Grid xs={6} md={1} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => onDelete(record)}\n                          variant=\"contained\"\n                          color=\"secondary\"\n                        >\n                          Excluir\n                        </ButtonWithSpinner>\n                      </Grid>\n                      <Grid xs={6} md={2} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => incrementDueDate()}\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          + Vencimento\n                        </ButtonWithSpinner>\n                      </Grid>\n                      <Grid xs={6} md={1} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => handleOpenModalUsers()}\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          Usuário\n                        </ButtonWithSpinner>\n                      </Grid>\n                    </>\n                  ) : null}\n                  <Grid xs={6} md={1} item>\n                    <ButtonWithSpinner\n                      className={classes.fullWidth}\n                      style={{ marginTop: 7 }}\n                      loading={loading}\n                      type=\"submit\"\n                      variant=\"contained\"\n                      color=\"primary\"\n                    >\n                      Salvar\n                    </ButtonWithSpinner>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    </>\n  );\n}\n\nexport function CompaniesManagerGrid(props) {\n  const { records, onSelect } = props;\n  const classes = useStyles();\n  const { dateToClient } = useDate();\n\n  const renderStatus = (row) => {\n    return row.status === false ? \"Não\" : \"Sim\";\n  };\n\n  const renderPlan = (row) => {\n    return row.planId !== null ? row.plan.name : \"-\";\n  };\n\n  const renderCampaignsStatus = (row) => {\n    if (\n      has(row, \"settings\") &&\n      isArray(row.settings) &&\n      row.settings.length > 0\n    ) {\n      const setting = row.settings.find((s) => s.key === \"campaignsEnabled\");\n      if (setting) {\n        return setting.value === \"true\" ? \"Habilitadas\" : \"Desabilitadas\";\n      }\n    }\n    return \"Desabilitadas\";\n  };\n\n  const rowStyle = (record) => {\n    if (moment(record.dueDate).isValid()) {\n      const now = moment();\n      const dueDate = moment(record.dueDate);\n      const diff = dueDate.diff(now, \"days\");\n      if (diff >= 1 && diff <= 5) {\n        return { backgroundColor: \"#fffead\" };\n      }\n      if (diff <= 0) {\n        return { backgroundColor: \"#fa8c8c\" };\n      }\n      // else {\n      //   return { backgroundColor: \"#affa8c\" };\n      // }\n    }\n    return {};\n  };\n\n  return (\n    <Paper className={classes.tableContainer}>\n      <Table\n        className={classes.fullWidth}\n        size=\"small\"\n        aria-label=\"a dense table\"\n      >\n        <TableHead>\n          <TableRow>\n            <TableCell align=\"center\" style={{ width: \"1%\" }}>\n              #\n            </TableCell>\n            <TableCell align=\"left\">Nome</TableCell>\n            <TableCell align=\"left\">E-mail</TableCell>\n            <TableCell align=\"left\">Telefone</TableCell>\n            <TableCell align=\"left\">Plano</TableCell>\n            <TableCell align=\"left\">Campanhas</TableCell>\n            <TableCell align=\"left\">Status</TableCell>\n            <TableCell align=\"left\">Criada Em</TableCell>\n            <TableCell align=\"left\">Vencimento</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {records.map((row, key) => (\n            <TableRow style={rowStyle(row)} key={key}>\n              <TableCell align=\"center\" style={{ width: \"1%\" }}>\n                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                  <EditIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell align=\"left\">{row.name || \"-\"}</TableCell>\n              <TableCell align=\"left\">{row.email || \"-\"}</TableCell>\n              <TableCell align=\"left\">{row.phone || \"-\"}</TableCell>\n              <TableCell align=\"left\">{renderPlan(row)}</TableCell>\n              <TableCell align=\"left\">{renderCampaignsStatus(row)}</TableCell>\n              <TableCell align=\"left\">{renderStatus(row)}</TableCell>\n              <TableCell align=\"left\">{dateToClient(row.createdAt)}</TableCell>\n              <TableCell align=\"left\">\n                {dateToClient(row.dueDate)}\n                <br />\n                <span>{row.recurrence}</span>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </Paper>\n  );\n}\n\nexport default function CompaniesManager() {\n  const classes = useStyles();\n  const { list, save, update, remove } = useCompanies();\n\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [records, setRecords] = useState([]);\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n  });\n\n  useEffect(() => {\n    loadPlans();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const loadPlans = async () => {\n    setLoading(true);\n    try {\n      const companyList = await list();\n      setRecords(companyList);\n    } catch (e) {\n      toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n\n  const handleSubmit = async (data) => {\n    setLoading(true);\n    try {\n      if (data.id !== undefined) {\n        await update(data);\n      } else {\n        await save(data);\n      }\n      await loadPlans();\n      handleCancel();\n      toast.success(\"Operação realizada com sucesso!\");\n    } catch (e) {\n      toast.error(\n        \"Não foi possível realizar a operação. Verifique se já existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente\"\n      );\n    }\n    setLoading(false);\n  };\n\n  const handleDelete = async () => {\n    setLoading(true);\n    try {\n      await remove(record.id);\n      await loadPlans();\n      handleCancel();\n      toast.success(\"Operação realizada com sucesso!\");\n    } catch (e) {\n      toast.error(\"Não foi possível realizar a operação\");\n    }\n    setLoading(false);\n  };\n\n  const handleOpenDeleteDialog = () => {\n    setShowConfirmDialog(true);\n  };\n\n  const handleCancel = () => {\n    setRecord((prev) => ({\n      ...prev,\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      planId: \"\",\n      status: true,\n      campaignsEnabled: false,\n      dueDate: \"\",\n      recurrence: \"\",\n    }));\n  };\n\n  const handleSelect = (data) => {\n    let campaignsEnabled = false;\n\n    const setting = data.settings.find(\n      (s) => s.key.indexOf(\"campaignsEnabled\") > -1\n    );\n    if (setting) {\n      campaignsEnabled =\n        setting.value === \"true\" || setting.value === \"enabled\";\n    }\n\n    setRecord((prev) => ({\n      ...prev,\n      id: data.id,\n      name: data.name || \"\",\n      phone: data.phone || \"\",\n      email: data.email || \"\",\n      planId: data.planId || \"\",\n      status: data.status === false ? false : true,\n      campaignsEnabled,\n      dueDate: data.dueDate || \"\",\n      recurrence: data.recurrence || \"\",\n    }));\n  };\n\n  return (\n    <Paper className={classes.mainPaper} elevation={0}>\n      <Grid spacing={2} container>\n        <Grid xs={12} item>\n          <CompanyForm\n            initialValue={record}\n            onDelete={handleOpenDeleteDialog}\n            onSubmit={handleSubmit}\n            onCancel={handleCancel}\n            loading={loading}\n          />\n        </Grid>\n        <Grid xs={12} item>\n          <CompaniesManagerGrid records={records} onSelect={handleSelect} />\n        </Grid>\n      </Grid>\n      <ConfirmationModal\n        title=\"Exclusão de Registro\"\n        open={showConfirmDialog}\n        onClose={() => setShowConfirmDialog(false)}\n        onConfirm={() => handleDelete()}\n      >\n        Deseja realmente excluir esse registro?\n      </ConfirmationModal>\n    </Paper>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport {\n    makeStyles,\n    Paper,\n    Grid,\n    TextField,\n    Table,\n    TableHead,\n    TableBody,\n    TableCell,\n    TableRow,\n    IconButton,\n    FormControl,\n    InputLabel,\n    MenuItem,\n    Select\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from 'formik';\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { i18n } from \"../../translate/i18n\";\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%'\n    },\n    mainPaper: {\n        width: '100%',\n        flex: 1,\n        padding: theme.spacing(2)\n    },\n    fullWidth: {\n        width: '100%'\n    },\n    tableContainer: {\n        width: '100%',\n        overflowX: \"scroll\",\n        ...theme.scrollbarStyles\n    },\n    textfield: {\n        width: '100%'\n    },\n    textRight: {\n        textAlign: 'right'\n    },\n    row: {\n        paddingTop: theme.spacing(2),\n        paddingBottom: theme.spacing(2)\n    },\n    control: {\n        paddingRight: theme.spacing(1),\n        paddingLeft: theme.spacing(1)\n    },\n    buttonContainer: {\n        textAlign: 'right',\n        padding: theme.spacing(1)\n    }\n}));\n\nexport function PlanManagerForm(props) {\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n    const classes = useStyles()\n\n    const [record, setRecord] = useState({\n        name: '',\n        users: 0,\n        connections: 0,\n        queues: 0,\n        value: 0,\n        useCampaigns: true,\n        useSchedules: true,\n        useInternalChat: true,\n        useExternalApi: true,\n        useKanban: true,\n        useOpenAi: true,\n        useIntegrations: true,\n        useInternal: true\n    });\n\n    useEffect(() => {\n        setRecord(initialValue)\n    }, [initialValue])\n\n    const handleSubmit = async (data) => {\n        onSubmit(data)\n    }\n\n    return (\n        <Formik\n            enableReinitialize\n            className={classes.fullWidth}\n            initialValues={record}\n            onSubmit={(values, { resetForm }) =>\n                setTimeout(() => {\n                    handleSubmit(values)\n                    resetForm()\n                }, 500)\n            }\n        >\n            {(values) => (\n                <Form className={classes.fullWidth}>\n                    <Grid spacing={1} justifyContent=\"flex-start\" container>\n                        {/* NOME */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"plans.form.name\")}\n                                name=\"name\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n\n                        {/* USUARIOS */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"plans.form.users\")}\n                                name=\"users\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        {/* CONEXOES */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"plans.form.connections\")}\n                                name=\"connections\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        {/* FILAS */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label=\"Filas\"\n                                name=\"queues\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        {/* VALOR */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label=\"Valor\"\n                                name=\"value\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"text\"\n                            />\n                        </Grid>\n\n                        {/* CAMPANHAS */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useCampaigns-selection\">{i18n.t(\"plans.form.campaigns\")}</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useCampaigns-selection\"\n                                    label={i18n.t(\"plans.form.campaigns\")}\n                                    labelId=\"useCampaigns-selection-label\"\n                                    name=\"useCampaigns\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* AGENDAMENTOS */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useSchedules-selection\">{i18n.t(\"plans.form.schedules\")}</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useSchedules-selection\"\n                                    label={i18n.t(\"plans.form.schedules\")}\n                                    labelId=\"useSchedules-selection-label\"\n                                    name=\"useSchedules\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* CHAT INTERNO */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useInternalChat-selection\">Chat Interno</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useInternalChat-selection\"\n                                    label=\"Chat Interno\"\n                                    labelId=\"useInternalChat-selection-label\"\n                                    name=\"useInternalChat\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* API Externa */}\n                        <Grid xs={12} sm={8} md={4} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useExternalApi-selection\">API Externa</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useExternalApi-selection\"\n                                    label=\"API Externa\"\n                                    labelId=\"useExternalApi-selection-label\"\n                                    name=\"useExternalApi\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* KANBAN */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useKanban-selection\">Kanban</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useKanban-selection\"\n                                    label=\"Kanban\"\n                                    labelId=\"useKanban-selection-label\"\n                                    name=\"useKanban\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* OPENAI */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useOpenAi-selection\">Open.Ai</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useOpenAi-selection\"\n                                    label=\"Talk.Ai\"\n                                    labelId=\"useOpenAi-selection-label\"\n                                    name=\"useOpenAi\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* INTEGRACOES */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useIntegrations-selection\">Integrações</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useIntegrations-selection\"\n                                    label=\"Integrações\"\n                                    labelId=\"useIntegrations-selection-label\"\n                                    name=\"useIntegrations\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        <Grid xs={12} sm={6} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useInternal-selection\">Uso Interno</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useInternal-selection\"\n                                    label=\"Uso Interno\"\n                                    labelId=\"useInternal-selection-label\"\n                                    name=\"useInternal\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={false}>Sim</MenuItem>\n                                    <MenuItem value={true}>Não</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                    </Grid>\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\n\n                        <Grid sm={3} md={2} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\n                                {i18n.t(\"plans.form.clear\")}\n                            </ButtonWithSpinner>\n                        </Grid>\n                        {record.id !== undefined ? (\n                            <Grid sm={3} md={2} item>\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\n                                    {i18n.t(\"plans.form.delete\")}\n                                </ButtonWithSpinner>\n                            </Grid>\n                        ) : null}\n                        <Grid sm={3} md={2} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\n                                {i18n.t(\"plans.form.save\")}\n                            </ButtonWithSpinner>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport function PlansManagerGrid(props) {\n    const { records, onSelect } = props\n    const classes = useStyles()\n    \n    const renderCampaigns = (row) => {\n        return row.useCampaigns === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderSchedules = (row) => {\n        return row.useSchedules === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderInternalChat = (row) => {\n        return row.useInternalChat === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderExternalApi = (row) => {\n        return row.useExternalApi === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderKanban = (row) => {\n        return row.useKanban === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderOpenAi = (row) => {\n        return row.useOpenAi === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderIntegrations = (row) => {\n        return row.useIntegrations === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderInternal = (row) => {\n        return row.useInternal === false ? \"Sim\" : \"Não\";\n    };\n\n    return (\n        <Paper className={classes.tableContainer}>\n            <Table\n                className={classes.fullWidth}\n                // size=\"small\"\n                padding=\"none\"\n                aria-label=\"a dense table\"\n            >\n                <TableHead>\n                    <TableRow>\n                        <TableCell align=\"center\" style={{ width: '1%' }}>#</TableCell>\n                        <TableCell align=\"left\">{i18n.t(\"plans.form.name\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.users\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.connections\")}</TableCell>\n                        <TableCell align=\"center\">Filas</TableCell>\n                        <TableCell align=\"center\">Valor</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.campaigns\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.schedules\")}</TableCell>\n                        <TableCell align=\"center\">Chat Interno</TableCell>\n                        <TableCell align=\"center\">API Externa</TableCell>\n                        <TableCell align=\"center\">Kanban</TableCell>\n                        <TableCell align=\"center\">Open.Ai</TableCell>\n                        <TableCell align=\"center\">Integrações</TableCell>\n\t\t\t\t\t\t<TableCell align=\"center\">Plano Interno</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {records.map((row) => (\n                        <TableRow key={row.id}>\n                            <TableCell align=\"center\" style={{ width: '1%' }}>\n                                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                                    <EditIcon />\n                                </IconButton>\n                            </TableCell>\n                            <TableCell align=\"left\">{row.name || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.users || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.connections || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.queues || '-'}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"plans.form.money\")} {row.value ? row.value.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00'}</TableCell>\n                            <TableCell align=\"center\">{renderCampaigns(row)}</TableCell>\n                            <TableCell align=\"center\">{renderSchedules(row)}</TableCell>\n                            <TableCell align=\"center\">{renderInternalChat(row)}</TableCell>\n                            <TableCell align=\"center\">{renderExternalApi(row)}</TableCell>\n                            <TableCell align=\"center\">{renderKanban(row)}</TableCell>\n                            <TableCell align=\"center\">{renderOpenAi(row)}</TableCell>\n                            <TableCell align=\"center\">{renderIntegrations(row)}</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">{renderInternal(row)}</TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Paper>\n    )\n}\n\nexport default function PlansManager() {\n    const classes = useStyles()\n    const { list, save, update, remove } = usePlans()\n\n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [records, setRecords] = useState([])\n    const [record, setRecord] = useState({\n        name: '',\n        users: 0,\n        connections: 0,\n        queues: 0,\n        value: 0,\n        useCampaigns: true,\n        useSchedules: true,\n        useInternalChat: true,\n        useExternalApi: true,\n        useKanban: true,\n        useOpenAi: true,\n        useIntegrations: true,\n        useInternal: true\n    })\n\n    useEffect(() => {\n        async function fetchData() {\n            await loadPlans()\n        }\n        fetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [record])\n\n    const loadPlans = async () => {\n        setLoading(true)\n        try {\n            const planList = await list()\n            setRecords(planList)\n        } catch (e) {\n            toast.error('Não foi possível carregar a lista de registros')\n        }\n        setLoading(false)\n    }\n\n    const handleSubmit = async (data) => {\n        setLoading(true)\n        console.log(data)\n        try {\n            if (data.id !== undefined) {\n                await update(data)\n            } else {\n                await save(data)\n            }\n            await loadPlans()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação. Verifique se já existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente')\n        }\n        setLoading(false)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await remove(record.id)\n            await loadPlans()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação')\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDeleteDialog = () => {\n        setShowConfirmDialog(true)\n    }\n\n    const handleCancel = () => {\n        setRecord({\n            id: undefined,\n            name: '',\n            users: 0,\n            connections: 0,\n            queues: 0,\n            value: 0,\n            useCampaigns: true,\n            useSchedules: true,\n            useInternalChat: true,\n            useExternalApi: true,\n            useKanban: true,\n            useOpenAi: true,\n            useIntegrations: true,\n            useInternal: true\n        })\n    }\n\n    const handleSelect = (data) => {\n\n        let useCampaigns = data.useCampaigns === false ? false : true\n        let useSchedules = data.useSchedules === false ? false : true\n        let useInternalChat = data.useInternalChat === false ? false : true\n        let useExternalApi = data.useExternalApi === false ? false : true\n        let useKanban = data.useKanban === false ? false : true\n        let useOpenAi = data.useOpenAi === false ? false : true\n        let useIntegrations = data.useIntegrations === false ? false : true\n        let useInternal= data.useInternal === true ? true : false\n\n        setRecord({\n            id: data.id,\n            name: data.name || '',\n            users: data.users || 0,\n            connections: data.connections || 0,\n            queues: data.queues || 0,\n            value: data.value?.toLocaleString('pt-br', { minimumFractionDigits: 0 }) || 0,\n            useCampaigns,\n            useSchedules,\n            useInternalChat,\n            useExternalApi,\n            useKanban,\n            useOpenAi,\n            useIntegrations,\n            useInternal\n        })\n    }\n\n    return (\n        <Paper className={classes.mainPaper} elevation={0}>\n            <Grid spacing={2} container>\n                <Grid xs={12} item>\n                    <PlanManagerForm\n                        initialValue={record}\n                        onDelete={handleOpenDeleteDialog}\n                        onSubmit={handleSubmit}\n                        onCancel={handleCancel}\n                        loading={loading}\n                    />\n                </Grid>\n                <Grid xs={12} item>\n                    <PlansManagerGrid\n                        records={records}\n                        onSelect={handleSelect}\n                    />\n                </Grid>\n            </Grid>\n            <ConfirmationModal\n                title=\"Exclusão de Registro\"\n                open={showConfirmDialog}\n                onClose={() => setShowConfirmDialog(false)}\n                onConfirm={() => handleDelete()}\n            >\n                Deseja realmente excluir esse registro?\n            </ConfirmationModal>\n        </Paper>\n    )\n}","import api from \"../../services/api\";\n\nconst usePlans = () => {\n\n    const findAll = async (params) => {\n        const { data } = await api.request({\n            url: `/helps`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/helps/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/helps',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/helps/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/helps/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    return {\n        findAll,\n        list,\n        save,\n        update,\n        remove\n    }\n}\n\nexport default usePlans;","import React, { useState, useEffect } from \"react\";\nimport {\n    makeStyles,\n    Paper,\n    Grid,\n    TextField,\n    Table,\n    TableHead,\n    TableBody,\n    TableCell,\n    TableRow,\n    IconButton\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from 'formik';\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport useHelps from \"../../hooks/useHelps\";\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n    mainPaper: {\n\t\twidth: '100%',\n\t\tflex: 1,\n\t\tpadding: theme.spacing(2)\n    },\n\tfullWidth: {\n\t\twidth: '100%'\n\t},\n    tableContainer: {\n\t\twidth: '100%',\n\t\toverflowX: \"scroll\",\n\t\t...theme.scrollbarStyles\n    },\n\ttextfield: {\n\t\twidth: '100%'\n\t},\n    textRight: {\n        textAlign: 'right'\n    },\n    row: {\n\t\tpaddingTop: theme.spacing(2),\n\t\tpaddingBottom: theme.spacing(2)\n    },\n    control: {\n\t\tpaddingRight: theme.spacing(1),\n\t\tpaddingLeft: theme.spacing(1)\n\t},\n    buttonContainer: {\n        textAlign: 'right',\n\t\tpadding: theme.spacing(1)\n\t}\n}));\n\nexport function HelpManagerForm (props) {\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n    const classes = useStyles()\n\n    const [record, setRecord] = useState(initialValue);\n\n    useEffect(() => {\n        setRecord(initialValue)\n    }, [initialValue])\n\n    const handleSubmit = async(data) => {\n        onSubmit(data)\n    }\n\n    return (\n        <Formik\n            enableReinitialize\n            className={classes.fullWidth}\n            initialValues={record}\n            onSubmit={(values, { resetForm }) =>\n                setTimeout(() => {\n                    handleSubmit(values)\n                    resetForm()\n                }, 500)\n            }\n        >\n            {(values) => (\n                <Form className={classes.fullWidth}>\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Título\"\n                                name=\"title\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Código do Vídeo\"\n                                name=\"video\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={12} md={6} item>\n                            <Field\n                                as={TextField}\n                                label=\"Descrição\"\n                                name=\"description\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\n                                Limpar\n                            </ButtonWithSpinner>\n                        </Grid>\n                        { record.id !== undefined ? (\n                            <Grid sm={3} md={1} item>\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\n                                    Excluir\n                                </ButtonWithSpinner>\n                            </Grid>\n                        ) : null}\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\n                                Salvar\n                            </ButtonWithSpinner>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport function HelpsManagerGrid (props) {\n    const { records, onSelect } = props\n    const classes = useStyles()\n\n    return (\n        <Paper className={classes.tableContainer}>\n            <Table className={classes.fullWidth} size=\"small\" aria-label=\"a dense table\">\n                <TableHead>\n                <TableRow>\n                    <TableCell align=\"center\" style={{width: '1%'}}>#</TableCell>\n                    <TableCell align=\"left\">Título</TableCell>\n                    <TableCell align=\"left\">Descrição</TableCell>\n                    <TableCell align=\"left\">Vídeo</TableCell>\n                </TableRow>\n                </TableHead>\n                <TableBody>\n                {records.map((row) => (\n                    <TableRow key={row.id}>\n                        <TableCell align=\"center\" style={{width: '1%'}}>\n                            <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                                <EditIcon />\n                            </IconButton>\n                        </TableCell>\n                        <TableCell align=\"left\">{row.title || '-'}</TableCell>\n                        <TableCell align=\"left\">{row.description || '-'}</TableCell>\n                        <TableCell align=\"left\">{row.video || '-'}</TableCell>\n                    </TableRow>\n                ))}\n                </TableBody>\n            </Table>\n        </Paper>\n    )\n}\n\nexport default function HelpsManager () {\n    const classes = useStyles()\n    const { list, save, update, remove } = useHelps()\n    \n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [records, setRecords] = useState([])\n    const [record, setRecord] = useState({\n        title: '',\n        description: '',\n        video: ''\n    })\n\n    useEffect(() => {\n        async function fetchData () {\n            await loadHelps()\n        }\n        fetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const loadHelps = async () => {\n        setLoading(true)\n        try {\n            const helpList = await list()\n            setRecords(helpList)\n        } catch (e) {\n            toast.error('Não foi possível carregar a lista de registros')\n        }\n        setLoading(false)\n    }\n\n    const handleSubmit = async (data) => {\n        setLoading(true)\n        try {\n            if (data.id !== undefined) {\n                await update(data)\n            } else {\n                await save(data)\n            }\n            await loadHelps()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação. Verifique se já existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente')\n        }\n        setLoading(false)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await remove(record.id)\n            await loadHelps()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação')\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDeleteDialog = () => {\n        setShowConfirmDialog(true)\n    }\n\n    const handleCancel = () => {\n        setRecord({\n            title: '',\n            description: '',\n            video: ''\n        })\n    }\n\n    const handleSelect = (data) => {\n        setRecord({\n            id: data.id,\n            title: data.title || '',\n            description: data.description || '',\n            video: data.video || ''\n        })\n    }\n\n    return (\n        <Paper className={classes.mainPaper} elevation={0}>\n            <Grid spacing={2} container>\n                <Grid xs={12} item>\n                    <HelpManagerForm \n                        initialValue={record} \n                        onDelete={handleOpenDeleteDialog} \n                        onSubmit={handleSubmit} \n                        onCancel={handleCancel} \n                        loading={loading}\n                    />\n                </Grid>\n                <Grid xs={12} item>\n                    <HelpsManagerGrid \n                        records={records}\n                        onSelect={handleSelect}\n                    />\n                </Grid>\n            </Grid>\n            <ConfirmationModal\n                title=\"Exclusão de Registro\"\n                open={showConfirmDialog}\n                onClose={() => setShowConfirmDialog(false)}\n                onConfirm={() => handleDelete()}\n            >\n                Deseja realmente excluir esse registro?\n            </ConfirmationModal>\n        </Paper>\n    )\n}","import api from \"../../services/api\";\n\nconst useSettings = () => {\n\n    const getAll = async (params) => {\n        const { data } = await api.request({\n            url: '/settings',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/settings/${data.key}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    return {\n\t\tgetAll,\n        update\n    }\n}\n\nexport default useSettings;","const OnlyForSuperUser = ({ user, yes, no }) => user.super ? yes() : no();\n\nOnlyForSuperUser.defaultProps = {\n    user: {},\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport default OnlyForSuperUser;","import React, { useEffect, useState } from \"react\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Title from \"../Title\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport useSettings from \"../../hooks/useSettings\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey, blue } from \"@material-ui/core/colors\";\nimport { Tabs, Tab } from \"@material-ui/core\";\nimport OnlyForSuperUser from '../../components/OnlyForSuperUser';\nimport useAuth from '../../hooks/useAuth.js';\n\n//import 'react-toastify/dist/ReactToastify.css';\n \nconst useStyles = makeStyles((theme) => ({\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 240,\n  },\n  tab: {\n    backgroundColor: theme.palette.options,  //DARK MODE PLW DESIGN//\n    borderRadius: 4,\n    width: \"100%\",\n    \"& .MuiTab-wrapper\": {\n      color: theme.palette.fontecor,\n    },   //DARK MODE PLW DESIGN//\n    \"& .MuiTabs-flexContainer\": {\n      justifyContent: \"center\"\n    }\n\n\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: 12,\n    width: \"100%\",\n  },\n  cardAvatar: {\n    fontSize: \"55px\",\n    color: grey[500],\n    backgroundColor: \"#ffffff\",\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    color: blue[700],\n  },\n  cardSubtitle: {\n    color: grey[600],\n    fontSize: \"14px\",\n  },\n  alignRight: {\n    textAlign: \"right\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  selectContainer: {\n    width: \"100%\",\n    textAlign: \"left\",\n  },\n}));\n\nexport default function Options(props) {\n  const { settings, scheduleTypeChanged } = props;\n  const classes = useStyles();\n\n  const [currentUser, setCurrentUser] = useState({});\n  const { getCurrentUserInfo } = useAuth();\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    async function findData() {\n      setLoading(true);\n      try {\n        const user = await getCurrentUserInfo();\n        setCurrentUser(user);\n      } catch (e) {\n        toast.error(e);\n      }\n      setLoading(false);\n    }\n    findData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const isSuper = () => {\n    return currentUser.super;\n  }; \n\n  const [userRating, setUserRating] = useState(\"disabled\");\n  const [scheduleType, setScheduleType] = useState(\"disabled\");\n  const [callType, setCallType] = useState(\"enabled\");\n  const [chatbotType, setChatbotType] = useState(\"\");\n  const [CheckMsgIsGroup, setCheckMsgIsGroupType] = useState(\"enabled\");\n\n  const [loadingUserRating, setLoadingUserRating] = useState(false);\n  const [loadingScheduleType, setLoadingScheduleType] = useState(false);\n  const [loadingCallType, setLoadingCallType] = useState(false);\n  const [loadingChatbotType, setLoadingChatbotType] = useState(false);\n  const [loadingCheckMsgIsGroup, setCheckMsgIsGroup] = useState(false);\n\n\n  const [ipixcType, setIpIxcType] = useState(\"\");\n  const [loadingIpIxcType, setLoadingIpIxcType] = useState(false);\n  const [tokenixcType, setTokenIxcType] = useState(\"\");\n  const [loadingTokenIxcType, setLoadingTokenIxcType] = useState(false);\n\n  const [ipmkauthType, setIpMkauthType] = useState(\"\");\n  const [loadingIpMkauthType, setLoadingIpMkauthType] = useState(false);\n  const [clientidmkauthType, setClientIdMkauthType] = useState(\"\");\n  const [loadingClientIdMkauthType, setLoadingClientIdMkauthType] = useState(false);\n  const [clientsecretmkauthType, setClientSecrectMkauthType] = useState(\"\");\n  const [loadingClientSecrectMkauthType, setLoadingClientSecrectMkauthType] = useState(false);\n\n  const [asaasType, setAsaasType] = useState(\"\");\n  const [loadingAsaasType, setLoadingAsaasType] = useState(false);\n  \n  // recursos a mais...\n  const [trial, settrial] = useState('3');\n  const [loadingtrial, setLoadingtrial] = useState(false);\n\n  const [viewregister, setviewregister] = useState('disabled');\n  const [loadingviewregister, setLoadingviewregister] = useState(false);\n\n  const [allowregister, setallowregister] = useState('disabled');\n  const [loadingallowregister, setLoadingallowregister] = useState(false);\n\n  const [SendGreetingAccepted, setSendGreetingAccepted] = useState(\"disabled\");\n  const [loadingSendGreetingAccepted, setLoadingSendGreetingAccepted] = useState(false);\n  \n  const [SettingsTransfTicket, setSettingsTransfTicket] = useState(\"disabled\");\n  const [loadingSettingsTransfTicket, setLoadingSettingsTransfTicket] = useState(false);\n  \n  const [sendGreetingMessageOneQueues, setSendGreetingMessageOneQueues] = useState(\"disabled\");\n  const [loadingSendGreetingMessageOneQueues, setLoadingSendGreetingMessageOneQueues] = useState(false);\n\n  const { update } = useSettings();\n\n  useEffect(() => {\n    if (Array.isArray(settings) && settings.length) {\n      const userRating = settings.find((s) => s.key === \"userRating\");\n      if (userRating) {\n        setUserRating(userRating.value);\n      }\n      const scheduleType = settings.find((s) => s.key === \"scheduleType\");\n      if (scheduleType) {\n        setScheduleType(scheduleType.value);\n      }\n      const callType = settings.find((s) => s.key === \"call\");\n      if (callType) {\n        setCallType(callType.value);\n      }\n      const CheckMsgIsGroup = settings.find((s) => s.key === \"CheckMsgIsGroup\");\n      if (CheckMsgIsGroup) {\n        setCheckMsgIsGroupType(CheckMsgIsGroup.value);\n      }\n\n      const allowregister = settings.find((s) => s.key === 'allowregister');\n      if (allowregister) {\n        setallowregister(allowregister.value);\n      }\n      \n\t  {/*PLW DESIGN SAUDAÇÃO*/}\n      const SendGreetingAccepted = settings.find((s) => s.key === \"sendGreetingAccepted\");\n      if (SendGreetingAccepted) {\n        setSendGreetingAccepted(SendGreetingAccepted.value);\n      }\t \n\t  {/*PLW DESIGN SAUDAÇÃO*/}\t \n\t  \n\t  {/*TRANSFERIR TICKET*/}\t\n\t  const SettingsTransfTicket = settings.find((s) => s.key === \"sendMsgTransfTicket\");\n      if (SettingsTransfTicket) {\n        setSettingsTransfTicket(SettingsTransfTicket.value);\n      }\n\t  {/*TRANSFERIR TICKET*/}\n\n\n      const viewregister = settings.find((s) => s.key === 'viewregister');\n      if (viewregister) {\n        setviewregister(viewregister.value);\n      }\n\n      const sendGreetingMessageOneQueues = settings.find((s) => s.key === \"sendGreetingMessageOneQueues\");\n      if (sendGreetingMessageOneQueues) {\n        setSendGreetingMessageOneQueues(sendGreetingMessageOneQueues.value)\n      }\t  \n\t  \n      const chatbotType = settings.find((s) => s.key === \"chatBotType\");\n      if (chatbotType) {\n        setChatbotType(chatbotType.value);\n      }\n\t  \n\t  const trial = settings.find((s) => s.key === 'trial');\n      if (trial) {\n        settrial(trial.value);\n      }\n\n      const ipixcType = settings.find((s) => s.key === \"ipixc\");\n      if (ipixcType) {\n        setIpIxcType(ipixcType.value);\n      }\n\n      const tokenixcType = settings.find((s) => s.key === \"tokenixc\");\n      if (tokenixcType) {\n        setTokenIxcType(tokenixcType.value);\n      }\n\n      const ipmkauthType = settings.find((s) => s.key === \"ipmkauth\");\n      if (ipmkauthType) {\n        setIpMkauthType(ipmkauthType.value);\n      }\n\n      const clientidmkauthType = settings.find((s) => s.key === \"clientidmkauth\");\n      if (clientidmkauthType) {\n        setClientIdMkauthType(clientidmkauthType.value);\n      }\n\n      const clientsecretmkauthType = settings.find((s) => s.key === \"clientsecretmkauth\");\n      if (clientsecretmkauthType) {\n        setClientSecrectMkauthType(clientsecretmkauthType.value);\n      }\n\n      const asaasType = settings.find((s) => s.key === \"asaas\");\n      if (asaasType) {\n        setAsaasType(asaasType.value);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [settings]);\n\n  async function handleChangeUserRating(value) {\n    setUserRating(value);\n    setLoadingUserRating(true);\n    await update({\n      key: \"userRating\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingUserRating(false);\n  }\n\n  async function handleallowregister(value) {\n    setallowregister(value);\n    setLoadingallowregister(true);\n    await update({\n      key: 'allowregister',\n      value,\n    });\n    toast.success('Operação atualizada com sucesso.');\n    setLoadingallowregister(false);\n  }\n  \n    async function handleSendGreetingMessageOneQueues(value) {\n    setSendGreetingMessageOneQueues(value);\n    setLoadingSendGreetingMessageOneQueues(true);\n    await update({\n      key: \"sendGreetingMessageOneQueues\",\n      value,\n    });\n\ttoast.success(\"Operação atualizada com sucesso.\");\n    setLoadingSendGreetingMessageOneQueues(false);\n  }\n\n  async function handleviewregister(value) {\n    setviewregister(value);\n    setLoadingviewregister(true);\n    await update({\n      key: 'viewregister',\n      value,\n    });\n    toast.success('Operação atualizada com sucesso.');\n    setLoadingviewregister(false);\n  }\n  \n    async function handletrial(value) {\n    settrial(value);\n    setLoadingtrial(true);\n    await update({\n      key: 'trial',\n      value,\n    });\n    toast.success('Operação atualizada com sucesso.');\n    setLoadingtrial(false);\n  }\n\n\n  async function handleScheduleType(value) {\n    setScheduleType(value);\n    setLoadingScheduleType(true);\n    await update({\n      key: \"scheduleType\",\n      value,\n    });\n    //toast.success(\"Oraçãpeo atualizada com sucesso.\");\n    toast.success('Operação atualizada com sucesso.', {\n      position: \"top-right\",\n      autoClose: 2000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: false,\n      draggable: true,\n      theme: \"light\",\n      });\n    setLoadingScheduleType(false);\n    if (typeof scheduleTypeChanged === \"function\") {\n      scheduleTypeChanged(value);\n    }\n  }\n\n  async function handleCallType(value) {\n    setCallType(value);\n    setLoadingCallType(true);\n    await update({\n      key: \"call\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingCallType(false);\n  }\n\n  async function handleChatbotType(value) {\n    setChatbotType(value);\n    setLoadingChatbotType(true);\n    await update({\n      key: \"chatBotType\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingChatbotType(false);\n  }\n\n  async function handleGroupType(value) {\n    setCheckMsgIsGroupType(value);\n    setCheckMsgIsGroup(true);\n    await update({\n      key: \"CheckMsgIsGroup\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setCheckMsgIsGroupType(false);\n    /*     if (typeof scheduleTypeChanged === \"function\") {\n          scheduleTypeChanged(value);\n        } */\n  }\n  \n  {/*NOVO CÓDIGO*/}  \n  async function handleSendGreetingAccepted(value) {\n    setSendGreetingAccepted(value);\n    setLoadingSendGreetingAccepted(true);\n    await update({\n      key: \"sendGreetingAccepted\",\n      value,\n    });\n\ttoast.success(\"Operação atualizada com sucesso.\");\n    setLoadingSendGreetingAccepted(false);\n  }  \n  \n  \n  {/*NOVO CÓDIGO*/}    \n\n  async function handleSettingsTransfTicket(value) {\n    setSettingsTransfTicket(value);\n    setLoadingSettingsTransfTicket(true);\n    await update({\n      key: \"sendMsgTransfTicket\",\n      value,\n    });\n\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingSettingsTransfTicket(false);\n  } \n \n  async function handleChangeIPIxc(value) {\n    setIpIxcType(value);\n    setLoadingIpIxcType(true);\n    await update({\n      key: \"ipixc\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingIpIxcType(false);\n  }\n\n  async function handleChangeTokenIxc(value) {\n    setTokenIxcType(value);\n    setLoadingTokenIxcType(true);\n    await update({\n      key: \"tokenixc\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingTokenIxcType(false);\n  }\n\n  async function handleChangeIpMkauth(value) {\n    setIpMkauthType(value);\n    setLoadingIpMkauthType(true);\n    await update({\n      key: \"ipmkauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingIpMkauthType(false);\n  }\n\n  async function handleChangeClientIdMkauth(value) {\n    setClientIdMkauthType(value);\n    setLoadingClientIdMkauthType(true);\n    await update({\n      key: \"clientidmkauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingClientIdMkauthType(false);\n  }\n\n  async function handleChangeClientSecrectMkauth(value) {\n    setClientSecrectMkauthType(value);\n    setLoadingClientSecrectMkauthType(true);\n    await update({\n      key: \"clientsecretmkauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingClientSecrectMkauthType(false);\n  }\n\n  async function handleChangeAsaas(value) {\n    setAsaasType(value);\n    setLoadingAsaasType(true);\n    await update({\n      key: \"asaas\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingAsaasType(false);\n  }\n  return (\n    <>\n      <Grid spacing={3} container>\n        <Grid xs={12} sm={12} md={12} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"ratings-label\">Avaliações</InputLabel>\n            <Select\n              labelId=\"ratings-label\"\n              value={userRating}\n              onChange={async (e) => {\n                handleChangeUserRating(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitadas</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitadas</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingUserRating && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={12} md={12} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"schedule-type-label\">\n              Gerenciamento de Expediente\n            </InputLabel>\n            <Select\n              labelId=\"schedule-type-label\"\n              value={scheduleType}\n              onChange={async (e) => {\n                handleScheduleType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"queue\"}>Fila</MenuItem>\n              <MenuItem value={\"company\"}>Empresa</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingScheduleType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={12} md={12} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"group-type-label\">\n              Ignorar Mensagens de Grupos\n            </InputLabel>\n            <Select\n              labelId=\"group-type-label\"\n              value={CheckMsgIsGroup}\n              onChange={async (e) => {\n                handleGroupType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desativado</MenuItem>\n              <MenuItem value={\"enabled\"}>Ativado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingScheduleType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={12} md={12} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"call-type-label\">\n              Aceitar Chamada\n            </InputLabel>\n            <Select\n              labelId=\"call-type-label\"\n              value={callType}\n              onChange={async (e) => {\n                handleCallType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Não Aceitar</MenuItem>\n              <MenuItem value={\"enabled\"}>Aceitar</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingCallType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n       <Grid xs={12} sm={12} md={12} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"chatbot-type-label\">\n              Tipo Chatbot\n            </InputLabel>\n            <Select\n              labelId=\"chatbot-type-label\"\n              value={chatbotType}\n              onChange={async (e) => {\n                handleChatbotType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"text\"}>Texto</MenuItem>\n\t\t\t {/*<MenuItem value={\"button\"}>Botão</MenuItem>*/}\n             {/*<MenuItem value={\"list\"}>Lista</MenuItem>*/}\n            </Select>\n            <FormHelperText>\n              {loadingChatbotType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\t\t{/* ENVIAR SAUDAÇÃO AO ACEITAR O TICKET */}\n        <Grid xs={12} sm={12} md={12} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendGreetingAccepted-label\">Enviar saudação ao aceitar o ticket</InputLabel>\n            <Select\n              labelId=\"sendGreetingAccepted-label\"\n              value={SendGreetingAccepted}\n              onChange={async (e) => {\n                handleSendGreetingAccepted(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSendGreetingAccepted && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\t\t{/* ENVIAR SAUDAÇÃO AO ACEITAR O TICKET */}\n\t\t\n\t\t{/* ENVIAR MENSAGEM DE TRANSFERENCIA DE SETOR/ATENDENTE */}\n        <Grid xs={12} sm={12} md={12} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendMsgTransfTicket-label\">Enviar mensagem de transferencia de Fila/agente</InputLabel>\n            <Select\n              labelId=\"sendMsgTransfTicket-label\"\n              value={SettingsTransfTicket}\n              onChange={async (e) => {\n                handleSettingsTransfTicket(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSettingsTransfTicket && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\t\t\n\t\t{/* ENVIAR SAUDAÇÃO QUANDO HOUVER SOMENTE 1 FILA */}\n        <Grid xs={12} sm={12} md={12} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendGreetingMessageOneQueues-label\">Enviar saudação quando houver somente 1 fila</InputLabel>\n            <Select\n              labelId=\"sendGreetingMessageOneQueues-label\"\n              value={sendGreetingMessageOneQueues}\n              onChange={async (e) => {\n                handleSendGreetingMessageOneQueues(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSendGreetingMessageOneQueues && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\t\n\t\t\n      </Grid>\n\t  \n\t\t<OnlyForSuperUser\n\t\t\t\tuser={currentUser}\n\t\t\t\tyes={() => (\n\t\t\t\t  <>\n\t\t\t\t\t<Grid spacing={3} container>\n\t\t\t\t\t  <Tabs\n\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\tscrollButtons='on'\n\t\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\t\tclassName={classes.tab}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t  marginBottom: 20,\n\t\t\t\t\t\t  marginTop: 20,\n\t\t\t\t\t\t}}\n\t\t\t\t\t  >\n\t\t\t\t\t\t<Tab label='Configurações Globais' />\n\t\t\t\t\t  </Tabs>\n\t\t\t\t\t</Grid>\n\n\n            <Grid xs={12} sm={12} md={12} item>\n                <FormControl className={classes.selectContainer}>\n                  <InputLabel id='allowregister-label'>\n                    Registro (Inscrição) Permitida?\n                  </InputLabel>\n                  <Select\n                    labelId='allowregister-label'\n                    value={allowregister}\n                    onChange={async (e) => {\n                      handleallowregister(e.target.value);\n                    }}\n                  >\n                    <MenuItem value={'disabled'}>Não</MenuItem>\n                    <MenuItem value={'enabled'}>Sim</MenuItem>\n                  </Select>\n                  <FormHelperText>\n                    {loadingallowregister && 'Atualizando...'}\n                  </FormHelperText>\n                </FormControl>\n              </Grid>\n\n\t\t\t\t  <Grid xs={12} sm={12} md={12} item>\n                <FormControl className={classes.selectContainer}>\n                  <InputLabel id='viewregister-label'>\n                    Registro (Inscrição) Visível?\n                  </InputLabel>\n                  <Select\n                    labelId='viewregister-label'\n                    value={viewregister}\n                    onChange={async (e) => {\n                      handleviewregister(e.target.value);\n                    }}\n                  >\n                    <MenuItem value={'disabled'}>Não</MenuItem>\n                    <MenuItem value={'enabled'}>Sim</MenuItem>\n                  </Select>\n                  <FormHelperText>\n                    {loadingviewregister && 'Atualizando...'}\n                  </FormHelperText>\n                </FormControl>\n              </Grid>\n\t\t\t  \n\t\t\t                <Grid xs={12} sm={12} md={12} item>\n                <FormControl className={classes.selectContainer}>\n                  <InputLabel id='trial-label'>Tempo de Trial?</InputLabel>\n                  <Select\n                    labelId='trial-label'\n                    value={trial}\n                    onChange={async (e) => {\n                      handletrial(e.target.value);\n                    }}\n                  >\n                    <MenuItem value={'1'}>1</MenuItem>\n                    <MenuItem value={'2'}>2</MenuItem>\n                    <MenuItem value={'3'}>3</MenuItem>\n                    <MenuItem value={'4'}>4</MenuItem>\n                    <MenuItem value={'5'}>5</MenuItem>\n                    <MenuItem value={'6'}>6</MenuItem>\n                    <MenuItem value={'7'}>7</MenuItem>\n                  </Select>\n                  <FormHelperText>\n                    {loadingtrial && 'Atualizando...'}\n                  </FormHelperText>\n                </FormControl>\n              </Grid>\n\n      </>\n        )}\n      />\n\t        <Grid spacing={3} container>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n          style={{\n            marginBottom: 20,\n            marginTop: 20\n          }}\n        >\n          <Tab\n\n            label=\"INTEGRAÇÕES\" />\n\n        </Tabs>\n\n      </Grid>\n      {/*-----------------IXC-----------------*/}\n      <Grid spacing={3} container\n        style={{ marginBottom: 10 }}>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n        >\n          <Tab\n\n            label=\"IXC\" />\n\n        </Tabs>\n        <Grid xs={12} sm={6} md={6} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"ipixc\"\n              name=\"ipixc\"\n              margin=\"dense\"\n              label=\"IP do IXC\"\n              variant=\"outlined\"\n              value={ipixcType}\n              onChange={async (e) => {\n                handleChangeIPIxc(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingIpIxcType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={6} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"tokenixc\"\n              name=\"tokenixc\"\n              margin=\"dense\"\n              label=\"Token do IXC\"\n              variant=\"outlined\"\n              value={tokenixcType}\n              onChange={async (e) => {\n                handleChangeTokenIxc(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingTokenIxcType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n      </Grid>\n      {/*-----------------MK-AUTH-----------------*/}\n      <Grid spacing={3} container\n        style={{ marginBottom: 10 }}>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n        >\n          <Tab label=\"MK-AUTH\" />\n\n        </Tabs>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"ipmkauth\"\n              name=\"ipmkauth\"\n              margin=\"dense\"\n              label=\"Ip Mk-Auth\"\n              variant=\"outlined\"\n              value={ipmkauthType}\n              onChange={async (e) => {\n                handleChangeIpMkauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingIpMkauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"clientidmkauth\"\n              name=\"clientidmkauth\"\n              margin=\"dense\"\n              label=\"Client Id\"\n              variant=\"outlined\"\n              value={clientidmkauthType}\n              onChange={async (e) => {\n                handleChangeClientIdMkauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingClientIdMkauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"clientsecretmkauth\"\n              name=\"clientsecretmkauth\"\n              margin=\"dense\"\n              label=\"Client Secret\"\n              variant=\"outlined\"\n              value={clientsecretmkauthType}\n              onChange={async (e) => {\n                handleChangeClientSecrectMkauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingClientSecrectMkauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n      </Grid>\n      {/*-----------------ASAAS-----------------*/}\n      <Grid spacing={3} container\n        style={{ marginBottom: 10 }}>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n        >\n          <Tab label=\"ASAAS\" />\n\n        </Tabs>\n        <Grid xs={12} sm={12} md={12} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"asaas\"\n              name=\"asaas\"\n              margin=\"dense\"\n              label=\"Token Asaas\"\n              variant=\"outlined\"\n              value={asaasType}\n              onChange={async (e) => {\n                handleChangeAsaas(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingAsaasType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n      </Grid>\n    </>\n  );\n}","import React, { useContext, useState, useEffect, useRef } from 'react';\nimport { useHistory } from \"react-router-dom\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport {\n  makeStyles,\n  Table,\n  TableHead,\n  TableBody,\n  TableCell,\n  TableRow,\n  IconButton,\n} from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport { head } from \"lodash\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Title from \"../Title\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport useSettings from \"../../hooks/useSettings\";\nimport { grey, blue } from \"@material-ui/core/colors\";\nimport { Tabs, Tab } from \"@material-ui/core\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  mainPaper: {\n    width: \"100%\",\n    flex: 1,\n    padding: theme.spacing(2),\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 240,\n  },\n  tab: {\n    background: \"#f2f5f3\",\n    borderRadius: 4,\n    width: \"100%\",\n    \"& .MuiTab-wrapper\": {\n      color: \"#128c7e\"\n    },\n    \"& .MuiTabs-flexContainer\": {\n      justifyContent: \"center\"\n    }\n\n\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: 12,\n    width: \"100%\",\n  },\n  cardAvatar: {\n    fontSize: \"55px\",\n    color: grey[500],\n    backgroundColor: \"#ffffff\",\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    color: blue[700],\n  },\n  cardSubtitle: {\n    color: grey[600],\n    fontSize: \"14px\",\n  },\n  alignRight: {\n    textAlign: \"right\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  selectContainer: {\n    width: \"100%\",\n    textAlign: \"left\",\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    padding: theme.spacing(1),\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  fileInput: {\n  \tbackground: \"red\",\n  },\n  fileInputLabel: {\n    display: \"inline-block\",\n    backgroundColor: \"#7c7c7c\",\n    color: \"#fff\",\n    padding: \"8px 16px\",\n    borderRadius: \"4px\",\n    cursor: \"pointer\",\n    \"& input\": {\n      display: \"none\",\n    },\n  },\n}));\n\nconst Uploader = () => {\n  const [file, setFile] = useState(null);\n  const [uploaded, setUploaded] = useState(false);\n  const [selectedOption, setSelectedOption] = useState(\"\");\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n  const history = useHistory();\n  const [selectedFileName, setSelectedFileName] = useState('');\n\n\t\n\n  // trava para nao acessar pagina que não pode \n  useEffect(() => {\n    async function fetchData() {\n      if (!user.super) {\n        toast.error(\"Sem permissão para acessar!\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 500);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n\nconst handleFileChange = (event) => {\n  const selectedFile = event.target.files[0];\n  const allowedTypes = [\"image/png\", \"image/x-icon\", \"image/svg+xml\"];\n  \n  if (selectedFile && allowedTypes.includes(selectedFile.type)) {\n    setFile(selectedFile);\n    setSelectedFileName(selectedFile.name);\n  } else {\n    setFile(null);\n    setSelectedFileName(null);\n    toast.error(\"Use somente arquivos em formato PNG, ICO ou SVG!\");\n  }\n};\n\n  const handleOptionChange = (event) => {\n    setSelectedOption(event.target.value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    if (!file) {\n      toast.warn(\"Escolha um arquivo!\");\n      return;\n    }\n\n    if (!selectedOption) {\n      toast.warn(\"Escolha um destino!\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', file);\n    try {\n      const response = await api.post(`/settings/media-upload?ref=${selectedOption}`, formData);\n\n      if (response.data.mensagem === 'Arquivo Anexado') {\n        setUploaded(true);\n        toast.success(\"Arquivo enviado com sucesso!\");\n        window.location.reload();\n\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\nreturn (\n  <>\n    <Grid spacing={3} container>\n      <Tabs\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        scrollButtons=\"on\"\n        variant=\"scrollable\"\n        className={classes.tab}\n        style={{\n          marginBottom: 20,\n          marginTop: 20\n        }}\n      >\n        <Tab label=\"Logotipos / Ícones\" />\n      </Tabs>\n\n      <form onSubmit={handleSubmit} className={classes.fullWidth}>\n      \n      \t<Grid item xs={12} sm={12} md={12} style={{ display: 'flex' }}>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"selectOption-label\">Escolha uma opção:</InputLabel>\n            <Select\n              labelId=\"selectOption-label\"\n              value={selectedOption}\n              onChange={handleOptionChange}\n              style={{ marginTop: 15, marginBottom: 15}}\n            >\n              <MenuItem value=\"signup\">Tela de Registro</MenuItem>\n              <MenuItem value=\"login\">Tela de Login</MenuItem>\n              <MenuItem value=\"interno\">Logotipo Interno</MenuItem>\n\t\t\t  <MenuItem value=\"favicon\">Favicon.Ico</MenuItem>\n              <MenuItem value=\"favicon-256x256\">Ícone 256x256</MenuItem>\n\t\t\t  <MenuItem value=\"apple-touch-icon\">Apple Touch Icon</MenuItem>\n            </Select>\n          </FormControl>\n        </Grid>\n\n\n        <Grid item xs={12} sm={12} md={12} style={{ display: 'flex' }}>\n  \t\t\t<FormControl className={classes.fullWidth}>\n   \t\t\t\t<label className={classes.fileInputLabel}>\n      \t\t\t<input\n        \t\t\ttype=\"file\"\n        \t\t\tonChange={handleFileChange}\n        \t\t\tclassName={classes.fileInput}\n                    style={{ marginTop: 15, marginBottom: 15 }}\n      \t\t\t/>\n      \t\t\t{selectedFileName ? selectedFileName : 'Escolher imagem em PNG'}\n    \t\t\t</label>\n  \t\t\t</FormControl>\n\t\t</Grid>\n        \n        <Grid item xs={12} sm={12} md={12} style={{ display: 'flex' }}>\n          <ButtonWithSpinner\n            type=\"submit\"\n            className={`${classes.fullWidth} ${classes.button}`}\n            style={{ marginTop: 15, marginBottom: 15}}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            ENVIAR ARQUIVO\n          </ButtonWithSpinner>\n        </Grid>\n      </form>\n    </Grid>\n  </>\n);\n};\n\nexport default Uploader;","import React, { useState, useEffect } from \"react\";\nimport qs from 'query-string'\n\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Formik, Form, Field } from \"formik\";\nimport usePlans from \"../../hooks/usePlans\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport InputMask from 'react-input-mask';\nimport {\n\tFormControl,\n\tInputLabel,\n\tMenuItem,\n\tSelect,\n} from \"@material-ui/core\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport { openApi } from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport moment from \"moment\";\n\n\nconst logo = `${process.env.REACT_APP_BACKEND_URL}/public/logotipos/login.png`;\nconst useStyles = makeStyles(theme => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(3),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst SignUp = () => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tlet companyId = null\n\n\tconst params = qs.parse(window.location.search)\n\tif (params.companyId !== undefined) {\n\t\tcompanyId = params.companyId\n\t}\n\n\tconst initialState = { name: \"\", email: \"\", phone: \"\", password: \"\", planId: \"\", };\n\n\tconst [user] = useState(initialState);\n\tconst dueDate = moment().add(3, \"day\").format();\n\tconst handleSignUp = async values => {\n\t\tObject.assign(values, { recurrence: \"MENSAL\" });\n\t\tObject.assign(values, { dueDate: dueDate });\n\t\tObject.assign(values, { status: \"t\" });\n\t\tObject.assign(values, { campaignsEnabled: true });\n\t\ttry {\n\t\t\tawait openApi.post(\"/companies/cadastro\", values);\n\t\t\ttoast.success(i18n.t(\"signup.toasts.success\"));\n\t\t\thistory.push(\"/login\");\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst [plans, setPlans] = useState([]);\n\tconst { list: listPlans } = usePlans();\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tconst list = await listPlans();\n\t\t\tsetPlans(list);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<div>\n\t\t\t\t\t<img style={{ margin: \"0 auto\", height: \"80px\", width: \"100%\" }} src={logo} alt=\"Whats\" />\n\t\t\t\t</div>\n\t\t\t\t{/*<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t{i18n.t(\"signup.title\")}\n\t\t\t\t</Typography>*/}\n\t\t\t\t{/* <form className={classes.form} noValidate onSubmit={handleSignUp}> */}\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSignUp(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form className={classes.form}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"name\"\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Nome da Empresa\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={InputMask}\n\t\t\t\t\t\t\t\t\tmask=\"(99) 99999-9999\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tid=\"phone\"\n\t\t\t\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\t\t\t\terror={touched.phone && Boolean(errors.phone)}\n\t\t\t\t\t\t\t\t\thelperText={touched.phone && errors.phone}\n\t\t\t\t\t\t\t\t\tautoComplete=\"phone\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"DDD988888888\"\n\t\t\t\t\t\t\t\t\t\t\tinputProps={{ maxLength: 11 }} // Definindo o limite de caracteres\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.password\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"plan-selection\">Plano</InputLabel>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"plan-selection\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Plano\"\n\t\t\t\t\t\t\t\t\t\tname=\"planId\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{plans.map((plan, key) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={key} value={plan.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{plan.name} - Atendentes: {plan.users} - WhatsApp: {plan.connections} - Filas: {plan.queues} - R$ {plan.value}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.submit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</div>\n\t\t</Container>\n\t);\n};\n\nexport default SignUp;\n","import React, { useState, useEffect } from \"react\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport { makeStyles, Paper, Tabs, Tab } from \"@material-ui/core\";\n\nimport TabPanel from \"../../components/TabPanel\";\n\nimport SchedulesForm from \"../../components/SchedulesForm\";\nimport CompaniesManager from \"../../components/CompaniesManager\";\nimport PlansManager from \"../../components/PlansManager\";\nimport HelpsManager from \"../../components/HelpsManager\";\nimport Options from \"../../components/Settings/Options\";\nimport Uploader from \"../../components/Settings/Uploader\";\nimport NewCompaniesManager from \"../../pages/Companies\";\n\nimport { i18n } from \"../../translate/i18n.js\";\nimport { toast } from \"react-toastify\";\n\nimport useCompanies from \"../../hooks/useCompanies\";\nimport useAuth from \"../../hooks/useAuth.js\";\nimport useSettings from \"../../hooks/useSettings\";\n\nimport OnlyForSuperUser from \"../../components/OnlyForSuperUser\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flex: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  mainPaper: {\n    ...theme.scrollbarStyles,\n    overflowY: \"scroll\",\n    flex: 1,\n  },\n  tab: {\n    backgroundColor: theme.palette.options,\n    borderRadius: 4,\n  },\n  paper: {\n    ...theme.scrollbarStyles,\n    overflowY: \"scroll\",\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\",\n  },\n  container: {\n    width: \"100%\",\n    maxHeight: \"100%\",\n  },\n  control: {\n    padding: theme.spacing(1),\n  },\n  textfield: {\n    width: \"100%\",\n  },\n}));\n\nconst SettingsCustom = () => {\n  const classes = useStyles();\n  const [tab, setTab] = useState(\"options\");\n  const [schedules, setSchedules] = useState([]);\n  const [company, setCompany] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [settings, setSettings] = useState({});\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\n\n  const { getCurrentUserInfo } = useAuth();\n  const { find, updateSchedules } = useCompanies();\n  const { getAll: getAllSettings } = useSettings();\n\n  useEffect(() => {\n    async function findData() {\n      setLoading(true);\n      try {\n        const companyId = localStorage.getItem(\"companyId\");\n        const company = await find(companyId);\n        const settingList = await getAllSettings();\n        setCompany(company);\n        setSchedules(company.schedules);\n        setSettings(settingList);\n\n        if (Array.isArray(settingList)) {\n          const scheduleType = settingList.find(\n            (d) => d.key === \"scheduleType\"\n          );\n          if (scheduleType) {\n            setSchedulesEnabled(scheduleType.value === \"company\");\n          }\n        }\n\n        const user = await getCurrentUserInfo();\n        setCurrentUser(user);\n      } catch (e) {\n        toast.error(e);\n      }\n      setLoading(false);\n    }\n    findData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleTabChange = (event, newValue) => {\n      async function findData() {\n        setLoading(true);\n        try {\n          const companyId = localStorage.getItem(\"companyId\");\n          const company = await find(companyId);\n          const settingList = await getAllSettings();\n          setCompany(company);\n          setSchedules(company.schedules);\n          setSettings(settingList);\n  \n          if (Array.isArray(settingList)) {\n            const scheduleType = settingList.find(\n              (d) => d.key === \"scheduleType\"\n            );\n            if (scheduleType) {\n              setSchedulesEnabled(scheduleType.value === \"company\");\n            }\n          }\n  \n          const user = await getCurrentUserInfo();\n          setCurrentUser(user);\n        } catch (e) {\n          toast.error(e);\n        }\n        setLoading(false);\n      }\n      findData();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n\n    setTab(newValue);\n  };\n\n  const handleSubmitSchedules = async (data) => {\n    setLoading(true);\n    try {\n      setSchedules(data);\n      await updateSchedules({ id: company.id, schedules: data });\n      toast.success(\"Horários atualizados com sucesso.\");\n    } catch (e) {\n      toast.error(e);\n    }\n    setLoading(false);\n  };\n\n  const isSuper = () => {\n    return currentUser.super;\n  };\n\n  return (\n    <MainContainer className={classes.root}>\n      <MainHeader>\n        <Title>{i18n.t(\"settings.title\")}</Title>\n      </MainHeader>\n      <Paper className={classes.mainPaper} elevation={1}>\n        <Tabs\n          value={tab}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          onChange={handleTabChange}\n          className={classes.tab}\n        >\n          <Tab label=\"Opções\" value={\"options\"} />\n          {schedulesEnabled && <Tab label=\"Horários\" value={\"schedules\"} />}\n\t\t  {isSuper() ? <Tab label=\"Logo\" value={\"uploader\"} /> : null}\n          {isSuper() ? <Tab label=\"Empresas\" value={\"companies\"} /> : null}\n\t\t  {isSuper() ? <Tab label=\"Cadastrar Empresa\" value={\"newcompanie\"} /> : null}\n          {isSuper() ? <Tab label=\"Planos\" value={\"plans\"} /> : null}\n          {isSuper() ? <Tab label=\"Ajuda\" value={\"helps\"} /> : null}\n        </Tabs>\n        <Paper className={classes.paper} elevation={0}>\n          <TabPanel\n            className={classes.container}\n            value={tab}\n            name={\"schedules\"}\n          >\n            <SchedulesForm\n              loading={loading}\n              onSubmit={handleSubmitSchedules}\n              initialValues={schedules}\n            />\n          </TabPanel>\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"companies\"}\n              >\n                <CompaniesManager />\n              </TabPanel>\n            )}\n          />\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"newcompanie\"}\n              >\n                <NewCompaniesManager />\n              </TabPanel>\n            )}\n          />\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"plans\"}\n              >\n                <PlansManager />\n              </TabPanel>\n            )}\n          />\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"helps\"}\n              >\n                <HelpsManager />\n              </TabPanel>\n            )}\n          />\n\t\t <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"uploader\"}\n              >\n                <Uploader />\n              </TabPanel>\n            )}\n          />\n          <TabPanel className={classes.container} value={tab} name={\"options\"}>\n            <Options\n              settings={settings}\n              scheduleTypeChanged={(value) =>\n                setSchedulesEnabled(value === \"company\")\n              }\n            />\n          </TabPanel>\n        </Paper>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default SettingsCustom;\n","import React from 'react';\nimport { at } from 'lodash';\nimport { useField } from 'formik';\nimport { TextField } from '@material-ui/core';\n\nexport default function InputField(props) {\n  const { errorText, ...rest } = props;\n  const [field, meta] = useField(props);\n\n  function _renderHelperText() {\n    const [touched, error] = at(meta, 'touched', 'error');\n    if (touched && error) {\n      return error;\n    }\n  }\n\n  return (\n    <TextField\n      type=\"text\"\n      error={meta.touched && meta.error && true}\n      helperText={_renderHelperText()}\n      {...field}\n      {...rest}\n    />\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { at } from 'lodash';\nimport { useField } from 'formik';\nimport {\n  InputLabel,\n  FormControl,\n  Select,\n  MenuItem,\n  FormHelperText\n} from '@material-ui/core';\n\nfunction SelectField(props) {\n  const { label, data, ...rest } = props;\n  const [field, meta] = useField(props);\n  const { value: selectedValue } = field;\n  const [touched, error] = at(meta, 'touched', 'error');\n  const isError = touched && error && true;\n  function _renderHelperText() {\n    if (isError) {\n      return <FormHelperText>{error}</FormHelperText>;\n    }\n  }\n\n  return (\n    <FormControl {...rest} error={isError}>\n      <InputLabel>{label}</InputLabel>\n      <Select {...field} value={selectedValue ? selectedValue : ''}>\n        {data.map((item, index) => (\n          <MenuItem key={index} value={item.value}>\n            {item.label}\n          </MenuItem>\n        ))}\n      </Select>\n      {_renderHelperText()}\n    </FormControl>\n  );\n}\n\nSelectField.defaultProps = {\n  data: []\n};\n\nSelectField.propTypes = {\n  data: PropTypes.array.isRequired\n};\n\nexport default SelectField;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { InputField, SelectField } from \"../../FormFields\";\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\n\nconst countries = [\n  {\n    value: \"BR\",\n    label: \"Brasil\",\n  },\n  {\n    value: \"usa\",\n    label: \"United States\",\n  },\n];\n\nexport default function AddressForm(props) {\n\n  const { user } = useContext(AuthContext);\n  const [billingName, setBillingName] = useState(user.company.billingName);\n  const [addressZipCode, setAddressZipCode] = useState(user.company.addressZipCode);\n  const [addressStreet, setAddressStreet] = useState(user.company.addressStreet);\n  const [addressState, setAddressState] = useState(user.company.addressState);\n  const [addressCity, setAddressCity] = useState(user.company.addressCity);\n  const [addressDistrict, setAddressDistrict] = useState(user.company.addressDistrict);\n\n  const {\n    formField: {\n      firstName,\n      address1,\n      city,\n      state,\n      zipcode,\n      country,\n    },\n    setFieldValue\n  } = props;\n  useEffect(() => {\n    setFieldValue(\"firstName\", billingName)\n    setFieldValue(\"zipcode\", addressZipCode)\n    setFieldValue(\"address2\", addressStreet)\n    setFieldValue(\"state\", addressState)\n    setFieldValue(\"city\", addressCity)\n    setFieldValue(\"country\", addressDistrict)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom>\n        Vamos precisar de algumas informações\n      </Typography>\n      <Grid container spacing={3}>\n\n        <Grid item xs={6} sm={6}>\n          <InputField name={firstName.name} label={firstName.label} fullWidth\n            value={billingName}\n            onChange={(e) => {\n              setBillingName(e.target.value)\n              setFieldValue(\"firstName\", e.target.value)\n            }}\n          />\n        </Grid>\n        <Grid item xs={6} sm={6}>\n          <SelectField\n            name={country.name}\n            label={country.label}\n            data={countries}\n            fullWidth\n            value={addressDistrict}\n            onChange={(e) => {\n              setAddressDistrict(e.target.value)\n              setFieldValue(\"country\", e.target.value)\n            }\n            }\n          />\n        </Grid>\n\n        <Grid item xs={4}>\n          <InputField\n            name={zipcode.name}\n            label={zipcode.label}\n            fullWidth\n            value={addressZipCode}\n            onChange={(e) => {\n              setAddressZipCode(e.target.value)\n              setFieldValue(\"zipcode\", e.target.value)\n            }}\n          />\n        </Grid>\n        <Grid item xs={8}>\n          <InputField\n            name={address1.name}\n            label={address1.label}\n            fullWidth\n            value={addressStreet}\n            onChange={(e) => {\n              setAddressStreet(e.target.value)\n              setFieldValue(\"address2\", e.target.value)\n\n            }}\n          />\n        </Grid>\n\n        <Grid item xs={4}>\n          <InputField\n            name={state.name}\n            label={state.label}\n            fullWidth\n            value={addressState}\n            onChange={(e) => {\n              setAddressState(e.target.value)\n              setFieldValue(\"state\", e.target.value)\n\n            }}\n          />\n        </Grid>\n        <Grid item xs={8}>\n          <InputField\n            name={city.name}\n            label={city.label}\n            fullWidth\n            value={addressCity}\n            onChange={(e) => {\n              setAddressCity(e.target.value)\n              setFieldValue(\"city\", e.target.value)\n            }}\n          />\n        </Grid>\n\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import React, { useState, useEffect, useReducer } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Grid from '@material-ui/core/Grid';\nimport StarIcon from '@material-ui/icons/StarBorder';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport MinimizeIcon from '@material-ui/icons/Minimize';\nimport AddIcon from '@material-ui/icons/Add';\n\nimport usePlans from \"../../../hooks/usePlans\";\nimport useCompanies from \"../../../hooks/useCompanies\";\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    ul: {\n      margin: 0,\n      padding: 0,\n      listStyle: 'none',\n    },\n  },\n  margin: {\n    margin: theme.spacing(1),\n  },\n\n\n  cardHeader: {\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[200] : theme.palette.grey[700],\n  },\n  cardPricing: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'baseline',\n    marginBottom: theme.spacing(2),\n  },\n  footer: {\n    borderTop: `1px solid ${theme.palette.divider}`,\n    marginTop: theme.spacing(8),\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3),\n    [theme.breakpoints.up('sm')]: {\n      paddingTop: theme.spacing(6),\n      paddingBottom: theme.spacing(6),\n    },\n  },\n\n  customCard: {\n    display: \"flex\",\n    marginTop: \"16px\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n  },\n  custom: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  }\n}));\n\n\nexport default function Pricing(props) {\n  const {\n    setFieldValue,\n    setActiveStep,\n    activeStep,\n  } = props;\n\n  const handleChangeAdd = (event, newValue) => {\n    if (newValue < 3) return\n\n    const newPrice = 11.00;\n\n    setUsersPlans(newValue);\n    setCustomValuePlans(customValuePlans + newPrice);\n  }\n\n  const handleChangeMin = (event, newValue) => {\n    if (newValue < 3) return\n\n    const newPrice = 11;\n\n    setUsersPlans(newValue);\n    setCustomValuePlans(customValuePlans - newPrice);\n  }\n\n  const handleChangeConnectionsAdd = (event, newValue) => {\n    if (newValue < 3) return\n    const newPrice = 20.00;\n    setConnectionsPlans(newValue);\n    setCustomValuePlans(customValuePlans + newPrice);\n  }\n\n  const handleChangeConnectionsMin = (event, newValue) => {\n    if (newValue < 3) return\n    const newPrice = 20;\n    setConnectionsPlans(newValue);\n    setCustomValuePlans(customValuePlans - newPrice);\n  }\n\n  const { list, finder } = usePlans();\n  const { find } = useCompanies();\n\n  const classes = useStyles();\n  const [usersPlans, setUsersPlans] = React.useState(3);\n  const [companiesPlans, setCompaniesPlans] = useState(0);\n  const [connectionsPlans, setConnectionsPlans] = React.useState(3);\n  const [storagePlans, setStoragePlans] = React.useState([]);\n  const [customValuePlans, setCustomValuePlans] = React.useState(49.00);\n  const [loading, setLoading] = React.useState(false);\n  const companyId = localStorage.getItem(\"companyId\");\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadCompanies();\n    }\n    fetchData();\n  }, [])\n\n  const loadCompanies = async () => {\n    setLoading(true);\n    try {\n      const companiesList = await find(companyId);\n      setCompaniesPlans(companiesList.planId);\n      await loadPlans(companiesList.planId);\n    } catch (e) {\n      console.log(e);\n      // toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n  const loadPlans = async (companiesPlans) => {\n    setLoading(true);\n    try {\n      const plansCompanies = await finder(companiesPlans);\n      const plans = []\n\n      //plansCompanies.forEach((plan) => {\n      plans.push({\n        title: plansCompanies.name,\n        planId: plansCompanies.id,\n        price: plansCompanies.value,\n        description: [\n          `${plansCompanies.users} Usuários`,\n          `${plansCompanies.connections} Conexão`,\n          `${plansCompanies.queues} Filas`\n        ],\n        users: plansCompanies.users,\n        connections: plansCompanies.connections,\n        queues: plansCompanies.queues,\n        buttonText: 'SELECIONAR',\n        buttonVariant: 'outlined',\n      })\n\n      // setStoragePlans(data);\n      //});\n      setStoragePlans(plans);\n    } catch (e) {\n      console.log(e);\n      // toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n\n\n  const tiers = storagePlans\n  return (\n    <React.Fragment>\n      <Grid container spacing={3}>\n        {tiers.map((tier) => (\n          // Enterprise card is full width at sm breakpoint\n          <Grid item key={tier.title} xs={12} sm={tier.title === 'Enterprise' ? 12 : 12} md={12}>\n            <Card>\n              <CardHeader\n                title={tier.title}\n                subheader={tier.subheader}\n                titleTypographyProps={{ align: 'center' }}\n                subheaderTypographyProps={{ align: 'center' }}\n                action={tier.title === 'Pro' ? <StarIcon /> : null}\n                className={classes.cardHeader}\n              />\n              <CardContent>\n                <div className={classes.cardPricing}>\n                  <Typography component=\"h2\" variant=\"h3\" color=\"textPrimary\">\n                    {\n\n                      <React.Fragment>\n                        R${tier.price.toLocaleString('pt-br', { minimumFractionDigits: 2 })}\n                      </React.Fragment>\n                    }\n                  </Typography>\n                  <Typography variant=\"h6\" color=\"textSecondary\">\n                    /mês\n                  </Typography>\n                </div>\n                <ul>\n                  {tier.description.map((line) => (\n                    <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={line}>\n                      {line}\n                    </Typography>\n                  ))}\n                </ul>\n              </CardContent>\n              <CardActions>\n                <Button\n                  fullWidth\n                  variant={tier.buttonVariant}\n                  color=\"primary\"\n                  onClick={() => {\n                    if (tier.custom) {\n                      setFieldValue(\"plan\", JSON.stringify({\n                        users: usersPlans,\n                        connections: connectionsPlans,\n                        price: customValuePlans,\n                      }));\n                    } else {\n                      setFieldValue(\"plan\", JSON.stringify(tier));\n                    }\n                    setActiveStep(activeStep + 1);\n                  }\n                  }\n                >\n                  {tier.buttonText}\n                </Button>\n              </CardActions>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n    </React.Fragment>\n  );\n}","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles(theme => ({\n  listItem: {\n    padding: theme.spacing(1, 0)\n  },\n  total: {\n    fontWeight: '700'\n  },\n  title: {\n    marginTop: theme.spacing(2)\n  }\n}));\n","import React from 'react';\nimport { Typography, Grid } from '@material-ui/core';\nimport useStyles from './styles';\n\nfunction PaymentDetails(props) {\n  const { formValues } = props;\n  const classes = useStyles();\n  const { plan } = formValues;\n\n  const newPlan = JSON.parse(plan);\n  const { users, connections, price } = newPlan;\n  return (\n    <Grid item xs={12} sm={12}>\n      <Typography variant=\"h6\" gutterBottom className={classes.title}>\n        Detalhes do plano\n      </Typography>\n      <Typography gutterBottom>Usuários: {users}</Typography>\n      <Typography gutterBottom>Whatsapps: {connections}</Typography>\n      <Typography gutterBottom>Cobrança: Mensal</Typography>\n      <Typography gutterBottom>Total: R${price.toLocaleString('pt-br', {minimumFractionDigits: 2})}</Typography>\n    </Grid>\n  );\n}\n\nexport default PaymentDetails;\n","import ReviewOrder from './ReviewOrder';\nexport default ReviewOrder;\n","import React from 'react';\nimport { useFormikContext } from 'formik';\nimport { Typography, Grid } from '@material-ui/core';\nimport ShippingDetails from './ShippingDetails';\nimport PaymentDetails from './PaymentDetails';\n\nexport default function ReviewOrder() {\n  const { values: formValues } = useFormikContext();\n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom>\n        Resumo da assinatura\n      </Typography>\n      <Grid container spacing={2}>\n        <ShippingDetails formValues={formValues} />\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  footer {\n    margin-top: 30px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n\n    @media (max-width: 768px) {\n      flex-direction: column;\n      .checkout-buttons {\n        display: flex;\n        flex-direction: column-reverse;\n        width: 100%;\n\n        button {\n          width: 100%;\n          margin-top: 16px;\n          margin-left: 0;\n        }\n      }\n    }\n\n    button {\n      margin-left: 16px;\n    }\n  }\n`;\nexport const Total = styled.div`\n  display: flex;\n  align-items: baseline;\n\n  span {\n    color: #333;\n    font-weight: bold;\n  }\n\n  strong {\n    color: #333;\n    font-size: 28px;\n    margin-left: 5px;\n  }\n\n  @media (max-width: 768px) {\n    min-width: 100%;\n    justify-content: space-between;\n  }\n`;\n\nexport const SuccessContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  > h2 {\n    text-align: center;\n  }\n\n  > svg {\n    margin-top: 16px;\n  }\n\n  > span {\n    margin-top: 24px;\n    text-align: center;\n  }\n\n  > p,\n  strong {\n    margin-top: 8px;\n    font-size: 9px;\n    color: #999;\n  }\n\n  .copy-button {\n    font-size: 14px;\n    cursor: pointer;\n    text-align: center;\n    user-select: none;\n    min-height: 56px;\n    display: inline-flex;\n    -webkit-box-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    align-items: center;\n    background-color: #f9f9f9;\n    color: #000;\n    -webkit-appearance: none !important;\n    outline: none;\n    margin-top: 16px;\n    width: 256px;\n    font-weight: 600;\n    text-transform: uppercase;\n    border: none;\n\n    > span {\n      margin-right: 8px;\n    }\n  }\n`;\n\nexport const CheckoutWrapper = styled.div`\n  width: 100%;\n  margin: 0 auto 0;\n  max-width: 1110px;\n  display: flex;\n  flex-direction: column;\n  -webkit-box-align: center;\n  align-items: center;\n  padding: 50px 95px;\n  background: #fff;\n  @media (max-width: 768px) {\n    padding: 16px 24px;\n`;","import React, { useState, useEffect, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport QRCode from 'react-qr-code';\nimport { SuccessContent, Total } from './style';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { FaCopy, FaCheckCircle } from 'react-icons/fa';\nimport { SocketContext } from \"../../../context/Socket/SocketContext\";\nimport { useDate } from \"../../../hooks/useDate\";\nimport { toast } from \"react-toastify\";\n\nfunction CheckoutSuccess(props) {\n\n  const { pix } = props;\n  const [pixString,] = useState(pix.qrcode.qrcode);\n  const [copied, setCopied] = useState(false);\n  const history = useHistory();\n\n  const { dateToClient } = useDate();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n    \n    socket.on(`company-${companyId}-payment`, (data) => {\n\n      if (data.action === \"CONCLUIDA\") {\n        toast.success(`Sua licença foi renovada até ${dateToClient(data.company.dueDate)}!`);\n        setTimeout(() => {\n          history.push(\"/\");\n        }, 4000);\n      }\n    });\n  }, [history, socketManager]);\n\n  const handleCopyQR = () => {\n    setTimeout(() => {\n      setCopied(false);\n    }, 1 * 1000);\n    setCopied(true);\n  };\n\n  return (\n    <React.Fragment>\n      <Total>\n        <span>TOTAL</span>\n        <strong>R${pix.valor.original.toLocaleString('pt-br', { minimumFractionDigits: 2 })}</strong>\n      </Total>\n      <SuccessContent>\n        <QRCode value={pixString} />\n        <CopyToClipboard text={pixString} onCopy={handleCopyQR}>\n          <button className=\"copy-button\" type=\"button\">\n            {copied ? (\n              <>\n                <span>Copiado</span>\n                <FaCheckCircle size={18} />\n              </>\n            ) : (\n              <>\n                <span>Copiar código QR</span>\n                <FaCopy size={18} />\n              </>\n            )}\n          </button>\n        </CopyToClipboard>\n        <span>\n          Para finalizar, basta realizar o pagamento escaneando ou colando o\n          código Pix acima :)\n        </span>\n      </SuccessContent>\n    </React.Fragment>\n  );\n}\n\nexport default CheckoutSuccess;\n","import CheckoutSuccess from './CheckoutSuccess';\nexport default CheckoutSuccess;\n","export default {\n  formId: 'checkoutForm',\n  formField: {\n    firstName: {\n      name: 'firstName',\n      label: 'Nome completo*',\n      requiredErrorMsg: 'O nome completo é obrigatório'\n    },\n    lastName: {\n      name: 'lastName',\n      label: 'Last name*',\n      requiredErrorMsg: 'Last name is required'\n    },\n    address1: {\n      name: 'address2',\n      label: 'Endereço*',\n      requiredErrorMsg: 'O Endereço é obrigatório'\n    },\n\n    city: {\n      name: 'city',\n      label: 'Cidade*',\n      requiredErrorMsg: 'Cidade é obrigatória'\n    },\n    state: {\n      name: 'state',\n      label: 'Estado*',\n      requiredErrorMsg: 'Cidade é obrigatória'\n    },\n    zipcode: {\n      name: 'zipcode',\n      label: 'CEP*',\n      requiredErrorMsg: 'CEP é obrigatório',\n      invalidErrorMsg: 'Formato de CEP inválido'\n    },\n    country: {\n      name: 'country',\n      label: 'País*',\n      requiredErrorMsg: 'País é obrigatório'\n    },\n    useAddressForPaymentDetails: {\n      name: 'useAddressForPaymentDetails',\n      label: 'Use this address for payment details'\n    },\n    invoiceId: {\n      name: 'invoiceId',\n      label: 'Use this invoiceId'\n    },\n    nameOnCard: {\n      name: 'nameOnCard',\n      label: 'Name on card*',\n      requiredErrorMsg: 'Name on card is required'\n    },\n    cardNumber: {\n      name: 'cardNumber',\n      label: 'Card number*',\n      requiredErrorMsg: 'Card number is required',\n      invalidErrorMsg: 'Card number is not valid (e.g. 4111111111111)'\n    },\n    expiryDate: {\n      name: 'expiryDate',\n      label: 'Expiry date*',\n      requiredErrorMsg: 'Expiry date is required',\n      invalidErrorMsg: 'Expiry date is not valid'\n    },\n    cvv: {\n      name: 'cvv',\n      label: 'CVV*',\n      requiredErrorMsg: 'CVV is required',\n      invalidErrorMsg: 'CVV is invalid (e.g. 357)'\n    }\n  }\n};\n","import * as Yup from 'yup';\nimport checkoutFormModel from './checkoutFormModel';\nconst {\n  formField: {\n    firstName,\n    address1,\n    city,\n    zipcode,\n    country,\n  }\n} = checkoutFormModel;\n\n\nexport default [\n  Yup.object().shape({\n    [firstName.name]: Yup.string().required(`${firstName.requiredErrorMsg}`),\n    [address1.name]: Yup.string().required(`${address1.requiredErrorMsg}`),\n    [city.name]: Yup.string()\n      .nullable()\n      .required(`${city.requiredErrorMsg}`),\n    [zipcode.name]: Yup.string()\n      .required(`${zipcode.requiredErrorMsg}`),\n\n    [country.name]: Yup.string()\n      .nullable()\n      .required(`${country.requiredErrorMsg}`)\n  }),\n\n];\n","import checkoutFormModel from './checkoutFormModel';\nconst {\n  formField: {\n    firstName,\n    lastName,\n    address1,\n    city,\n    state,\n    zipcode,\n    country,\n    useAddressForPaymentDetails,\n    nameOnCard,\n    cardNumber,\n    invoiceId,\n    cvv\n  }\n} = checkoutFormModel;\n\nexport default {\n  [firstName.name]: '',\n  [lastName.name]: '',\n  [address1.name]: '',\n  [city.name]: '',\n  [state.name]: '',\n  [zipcode.name]: '',\n  [country.name]: '',\n  [useAddressForPaymentDetails.name]: false,\n  [nameOnCard.name]: '',\n  [cardNumber.name]: '',\n  [invoiceId.name]: '',\n  [cvv.name]: ''\n};\n","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles(theme => ({\n  stepper: {\n    padding: theme.spacing(3, 0, 5)\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'flex-end'\n  },\n  button: {\n    marginTop: theme.spacing(3),\n    marginLeft: theme.spacing(1)\n  },\n  wrapper: {\n    margin: theme.spacing(1),\n    position: 'relative'\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%'\n  }\n}));\n","import CheckoutPage from './CheckoutPage';\nexport default CheckoutPage;\n","import React, { useContext, useState } from \"react\";\nimport {\n  Stepper,\n  Step,\n  StepLabel,\n  Button,\n  Typography,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { Formik, Form } from \"formik\";\n\nimport AddressForm from \"./Forms/AddressForm\";\nimport PaymentForm from \"./Forms/PaymentForm\";\nimport ReviewOrder from \"./ReviewOrder\";\nimport CheckoutSuccess from \"./CheckoutSuccess\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { toast } from \"react-toastify\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n\nimport validationSchema from \"./FormModel/validationSchema\";\nimport checkoutFormModel from \"./FormModel/checkoutFormModel\";\nimport formInitialValues from \"./FormModel/formInitialValues\";\n\nimport useStyles from \"./styles\";\nimport Invoices from \"../../pages/Financeiro\";\n\n\nexport default function CheckoutPage(props) {\n  const steps = [\"Dados\", \"Personalizar\", \"Revisar\"];\n  const { formId, formField } = checkoutFormModel;\n  \n  \n  \n  const classes = useStyles();\n  const [activeStep, setActiveStep] = useState(1);\n  const [datePayment, setDatePayment] = useState(null);\n  const [invoiceId, setinvoiceId] = useState(props.Invoice.id);\n  const currentValidationSchema = validationSchema[activeStep];\n  const isLastStep = activeStep === steps.length - 1;\n  const { user } = useContext(AuthContext);\n\nfunction _renderStepContent(step, setFieldValue, setActiveStep, values ) {\n\n  switch (step) {\n    case 0:\n      return <AddressForm formField={formField} values={values} setFieldValue={setFieldValue}  />;\n    case 1:\n      return <PaymentForm \n      formField={formField} \n      setFieldValue={setFieldValue} \n      setActiveStep={setActiveStep} \n      activeStep={step} \n      invoiceId={invoiceId}\n      values={values}\n      />;\n    case 2:\n      return <ReviewOrder />;\n    default:\n      return <div>Not Found</div>;\n  }\n}\n\n\n  async function _submitForm(values, actions) {\n    try {\n      const plan = JSON.parse(values.plan);\n      const newValues = {\n        firstName: values.firstName,\n        lastName: values.lastName,\n        address2: values.address2,\n        city: values.city,\n        state: values.state,\n        zipcode: values.zipcode,\n        country: values.country,\n        useAddressForPaymentDetails: values.useAddressForPaymentDetails,\n        nameOnCard: values.nameOnCard,\n        cardNumber: values.cardNumber,\n        cvv: values.cvv,\n        plan: values.plan,\n        price: plan.price,\n        users: plan.users,\n        connections: plan.connections,\n        invoiceId: invoiceId\n      }\n\n      const { data } = await api.post(\"/subscription\", newValues);\n      setDatePayment(data)\n      actions.setSubmitting(false);\n      setActiveStep(activeStep + 1);\n      toast.success(\"Assinatura realizada com sucesso!, aguardando a realização do pagamento\");\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  function _handleSubmit(values, actions) {\n    if (isLastStep) {\n      _submitForm(values, actions);\n    } else {\n      setActiveStep(activeStep + 1);\n      actions.setTouched({});\n      actions.setSubmitting(false);\n    }\n  }\n\n  function _handleBack() {\n    setActiveStep(activeStep - 1);\n  }\n\n  return (\n    <React.Fragment>\n      <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n        Falta pouco!\n      </Typography>\n      <Stepper activeStep={activeStep} className={classes.stepper}>\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      <React.Fragment>\n        {activeStep === steps.length ? (\n          <CheckoutSuccess pix={datePayment} />\n        ) : (\n          <Formik\n            initialValues={{\n              ...user, \n              ...formInitialValues\n            }}\n            validationSchema={currentValidationSchema}\n            onSubmit={_handleSubmit}\n          >\n            {({ isSubmitting, setFieldValue, values }) => (\n              <Form id={formId}>\n                {_renderStepContent(activeStep, setFieldValue, setActiveStep, values)}\n\n                <div className={classes.buttons}>\n                  {activeStep !== 1 && (\n                    <Button onClick={_handleBack} className={classes.button}>\n                      VOLTAR\n                    </Button>\n                  )}\n                  <div className={classes.wrapper}>\n                    {activeStep !== 1 && (\n                      <Button\n                        disabled={isSubmitting}\n                        type=\"submit\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.button}\n                      >\n                        {isLastStep ? \"PAGAR\" : \"PRÓXIMO\"}\n                      </Button>\n                    )}\n                    {isSubmitting && (\n                      <CircularProgress\n                        size={24}\n                        className={classes.buttonProgress}\n                      />\n                    )}\n                  </div>\n                </div>\n              </Form>\n            )}\n          </Formik>\n        )}\n      </React.Fragment>\n    </React.Fragment>\n  );\n}\n","import React, { useEffect, useRef } from \"react\";\n\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport CheckoutPage from \"../CheckoutPage/\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\n\nconst ContactModal = ({ open, onClose, Invoice, contactId, initialValues, onSave }) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} maxWidth=\"md\" scroll=\"paper\">\n        <DialogContent dividers>\n          <CheckoutPage\n            Invoice={Invoice}\n          />\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\n\nimport moment from \"moment\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_INVOICES\") {\n    const invoices = action.payload;\n    const newUsers = [];\n\n    invoices.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Invoices = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [invoices, dispatch] = useReducer(reducer, []);\n  const [storagePlans, setStoragePlans] = React.useState([]);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n\n\n  const handleOpenContactModal = (invoices) => {\n    setStoragePlans(invoices);\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchInvoices = async () => {\n        try {\n          const { data } = await api.get(\"/invoices/all\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_INVOICES\", payload: data });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchInvoices();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n  const rowStyle = (record) => {\n    const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n    const vencimento = moment(record.dueDate).format(\"DD/MM/yyyy\");\n    var diff = moment(vencimento, \"DD/MM/yyyy\").diff(moment(hoje, \"DD/MM/yyyy\"));\n    var dias = moment.duration(diff).asDays();    \n    if (dias < 0 && record.status !== \"paid\") {\n      return { backgroundColor: \"#ffbcbc9c\" };\n    }\n  };\n\n  const rowStatus = (record) => {\n    const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n    const vencimento = moment(record.dueDate).format(\"DD/MM/yyyy\");\n    var diff = moment(vencimento, \"DD/MM/yyyy\").diff(moment(hoje, \"DD/MM/yyyy\"));\n    var dias = moment.duration(diff).asDays();    \n    const status = record.status;\n    if (status === \"paid\") {\n      return \"Pago\";\n    }\n    if (dias < 0) {\n      return \"Vencido\";\n    } else {\n      return \"Em Aberto\"\n    }\n\n  }\n\n  return (\n    <MainContainer>\n      <SubscriptionModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        Invoice={storagePlans}\n        contactId={selectedContactId}\n\n      ></SubscriptionModal>\n      <MainHeader>\n        <Title>Faturas</Title>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">Id</TableCell>\n              <TableCell align=\"center\">Detalhes</TableCell>\n              <TableCell align=\"center\">Valor</TableCell>\n              <TableCell align=\"center\">Data Venc.</TableCell>\n              <TableCell align=\"center\">Status</TableCell>\n              <TableCell align=\"center\">Ação</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {invoices.map((invoices) => (\n                <TableRow style={rowStyle(invoices)} key={invoices.id}>\n                  <TableCell align=\"center\">{invoices.id}</TableCell>\n                  <TableCell align=\"center\">{invoices.detail}</TableCell>\n                  <TableCell style={{ fontWeight: 'bold' }} align=\"center\">{invoices.value.toLocaleString('pt-br', { style: 'currency', currency: 'BRL' })}</TableCell>\n                  <TableCell align=\"center\">{moment(invoices.dueDate).format(\"DD/MM/YYYY\")}</TableCell>\n                  <TableCell style={{ fontWeight: 'bold' }} align=\"center\">{rowStatus(invoices)}</TableCell>\n                  <TableCell align=\"center\">\n                    {rowStatus(invoices) !== \"Pago\" ?\n                      <Button\n                        size=\"small\"\n                        variant=\"outlined\"\n                        color=\"secondary\"\n                        onClick={() => handleOpenContactModal(invoices)}\n                      >\n                        PAGAR\n                      </Button> :\n                      <Button\n                        size=\"small\"\n                        variant=\"outlined\" \n                        /* color=\"secondary\"\n                        disabled */\n                      >\n                        PAGO \n                      </Button>}\n\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Invoices;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { green, red } from '@material-ui/core/colors';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\n\nconst useStyles = makeStyles(theme => ({\n    on: {\n        color: green[600],\n        fontSize: '20px'\n    },\n    off: {\n        color: red[600],\n        fontSize: '20px'\n    }\n}));\n\nconst UserStatusIcon = ({ user }) => {\n    const classes = useStyles();\n    return user.online ?\n        <CheckCircleIcon className={classes.on} />\n        : <ErrorIcon className={classes.off} />\n}\n\nexport default UserStatusIcon;","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport UserStatusIcon from \"../../components/UserModal/statusIcon\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\n\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_USERS\") {\n    const users = action.payload;\n    const newUsers = [];\n\n    users.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Users = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [users, dispatch] = useReducer(reducer, []);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_USERS\", payload: data.users });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-user`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_USERS\", payload: data.user });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.userId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager]);\n\n  const handleOpenUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditUser = (user) => {\n    setSelectedUser(user);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteUser = async (userId) => {\n    try {\n      await api.delete(`/users/${userId}`);\n      toast.success(i18n.t(\"users.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"users.confirmationModal.deleteTitle\")} ${\n            deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteUser(deletingUser.id)}\n      >\n        {i18n.t(\"users.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <UserModal\n        open={userModalOpen}\n        onClose={handleCloseUserModal}\n        aria-labelledby=\"form-dialog-title\"\n        userId={selectedUser && selectedUser.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"users.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenUserModal}\n          >\n            {i18n.t(\"users.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n\t\t\t<TableCell align=\"center\">\n                {i18n.t(\"users.table.id\")}\n              </TableCell>\n              <TableCell align=\"center\">{i18n.t(\"users.table.status\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"users.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.profile\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {users.map((user) => (\n                <TableRow key={user.id}>\n\t\t\t\t  <TableCell align=\"center\">{user.id}</TableCell>\n\t\t\t\t  <TableCell align=\"center\"><UserStatusIcon user={user} /></TableCell>\n                  <TableCell align=\"center\">{user.name}</TableCell>\n                  <TableCell align=\"center\">{user.email}</TableCell>\n                  <TableCell align=\"center\">{user.profile}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditUser(user)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingUser(user);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Users;\n","import React, { useState, useEffect, useReducer, useContext, useRef } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactModal from \"../../components/ContactModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport NewTicketModal from \"../../components/NewTicketModal\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { generateColor } from \"../../helpers/colorGenerator\";\nimport { getInitials } from \"../../helpers/getInitials\";\nimport {CSVLink} from \"react-csv\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [contactTicket, setContactTicket] = useState({});\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n  const fileUploadRef = useRef(null);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"/contacts/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ socketManager]);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  // const handleSaveTicket = async contactId => {\n  // \tif (!contactId) return;\n  // \tsetLoading(true);\n  // \ttry {\n  // \t\tconst { data: ticket } = await api.post(\"/tickets\", {\n  // \t\t\tcontactId: contactId,\n  // \t\t\tuserId: user?.id,\n  // \t\t\tstatus: \"open\",\n  // \t\t});\n  // \t\thistory.push(`/tickets/${ticket.id}`);\n  // \t} catch (err) {\n  // \t\ttoastError(err);\n  // \t}\n  // \tsetLoading(false);\n  // };\n\n  const handleCloseOrOpenTicket = (ticket) => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contacts/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n  \n  const handleimportContact = async () => {\n    try {\n      if (!!fileUploadRef.current.files[0]) {\n        const formData = new FormData();\n        formData.append(\"file\", fileUploadRef.current.files[0]);\n        await api.request({\n          url: `/contacts/upload`,\n          method: \"POST\",\n          data: formData,\n        });\n      } else {\n        await api.post(\"/contacts/import\");\n      }\n      history.go(0);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  \nfunction getDateLastMessage(contact) {\n    if (!contact) return null;\n    if (!contact.tickets) return null;\n\n    if (contact.tickets.length > 0) {\n        const date = new Date(contact.tickets[contact.tickets.length - 1].updatedAt);\n\n        const day = date.getDate() > 9 ? date.getDate() : `0${date.getDate()}`;\n        const month = (date.getMonth() + 1) > 9 ? (date.getMonth() + 1) : `0${date.getMonth() + 1}`;\n        const year = date.getFullYear().toString().slice(-2);\n\n        const hours = date.getHours() > 9 ? date.getHours() : `0${date.getHours()}`;\n        const minutes = date.getMinutes() > 9 ? date.getMinutes() : `0${date.getMinutes()}`;\n\n        return `${day}/${month}/${year} ${hours}:${minutes}`;\n    }\n\n    return null;\n}\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        initialContact={contactTicket}\n        onClose={(ticket) => {\n          handleCloseOrOpenTicket(ticket);\n        }}\n      />\n      <ContactModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${\n                deletingContact.name\n              }?`\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={(e) =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleimportContact()\n        }\n      >\n        {deletingContact\n          ? `${i18n.t(\"contacts.confirmationModal.deleteMessage\")}`\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\n      </ConfirmationModal>\n      <MainHeader>\n        <Title>{i18n.t(\"contacts.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={(e) => setConfirmOpen(true)}\n          >\n            {i18n.t(\"contacts.buttons.import\")}\n          </Button>\n          <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => {\n            fileUploadRef.current.value = null;\n            fileUploadRef.current.click();\n          }}\n      >\n        {i18n.t(\"contacts.buttons.importSheet\")}\n      </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenContactModal}\n          >\n            {i18n.t(\"contacts.buttons.add\")}\n          </Button>\n\n         <CSVLink style={{ textDecoration:'none'}} separator=\";\" filename={'whaticket.csv'} data={contacts.map((contact) => ({ name: contact.name, number: contact.number, email: contact.email }))}>\n          <Button\tvariant=\"contained\" color=\"primary\"> \n          EXPORTAR CONTATOS \n          </Button>\n          </CSVLink>\t\t  \n\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <>\n          <input\n              style={{ display: \"none\" }}\n              id=\"upload\"\n              name=\"file\"\n              type=\"file\"\n              accept=\".xls,.xlsx\"\n              onChange={() => {\n                setConfirmOpen(true);\n              }}\n              ref={fileUploadRef}\n          />\n        </>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\" />\n              <TableCell>{i18n.t(\"contacts.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n              {\"Última Interação\"}\n              </TableCell>\n\t\t\t  <TableCell align=\"center\">{\"Status\"}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contacts.map((contact) => (\n                <TableRow key={contact.id}>\n                  <TableCell style={{ paddingRight: 0 }}>\n                    { <Avatar\n                      style={{ backgroundColor: generateColor(contact?.number), fontWeight: \"bold\", color: \"white\" }}\n                      src={contact.profilePicUrl}>\n                      {getInitials(contact?.name)}\n                    </Avatar>}\n                  </TableCell>\n                  <TableCell>{contact.name}</TableCell>\n                  <TableCell align=\"center\">{contact.number}</TableCell>\n                  <TableCell align=\"center\">{contact.email}</TableCell>\n                                    <TableCell align=\"center\">\n                                        {getDateLastMessage(contact)}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        {contact.active ? (\n                                            <CheckCircleIcon\n                                                style={{ color: \"green\" }}\n                                                fontSize=\"small\"\n                                            />\n                                        ) : (\n                                            <CancelIcon\n                                                style={{ color: \"red\" }}\n                                                fontSize=\"small\"\n                                            />\n                                        )}\n                                    </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setContactTicket(contact);\n                        setNewTicketModalOpen(true);\n                      }}\n                    >\n                      <WhatsAppIcon />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => hadleEditContact(contact.id)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={(e) => {\n                            setConfirmOpen(true);\n                            setDeletingContact(contact);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton avatar columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import { Dialog } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\n\nimport { BlockPicker } from \"react-color\";\n\nconst ColorPicker = ({ onChange, currentColor, handleClose, open }) => {\n\tconst [selectedColor, setSelectedColor] = useState(currentColor);\n\n\tconst handleChange = color => {\n\t\tsetSelectedColor(color.hex);\n\t\thandleClose();\n\t};\n\n\tconst colors = [\n\t\t\"#B80000\",\n\t\t\"#DB3E00\",\n\t\t\"#FCCB00\",\n\t\t\"#008B02\",\n\t\t\"#006B76\",\n\t\t\"#1273DE\",\n\t\t\"#004DCF\",\n\t\t\"#5300EB\",\n\t\t\"#EB9694\",\n\t\t\"#FAD0C3\",\n\t\t\"#FEF3BD\",\n\t\t\"#C1E1C5\",\n\t\t\"#BEDADC\",\n\t\t\"#C4DEF6\",\n\t\t\"#BED3F3\",\n\t\t\"#D4C4FB\",\n\t\t\"#4D4D4D\",\n\t\t\"#999999\",\n\t\t\"#F44E3B\",\n\t\t\"#FE9200\",\n\t\t\"#FCDC00\",\n\t\t\"#DBDF00\",\n\t\t\"#A4DD00\",\n\t\t\"#68CCCA\",\n\t\t\"#73D8FF\",\n\t\t\"#AEA1FF\",\n\t\t\"#FDA1FF\",\n\t\t\"#333333\",\n\t\t\"#808080\",\n\t\t\"#cccccc\",\n\t\t\"#D33115\",\n\t\t\"#E27300\",\n\t\t\"#FCC400\",\n\t\t\"#B0BC00\",\n\t\t\"#68BC00\",\n\t\t\"#16A5A5\",\n\t\t\"#009CE0\",\n\t\t\"#7B64FF\",\n\t\t\"#FA28FF\",\n\t\t\"#666666\",\n\t\t\"#B3B3B3\",\n\t\t\"#9F0500\",\n\t\t\"#C45100\",\n\t\t\"#FB9E00\",\n\t\t\"#808900\",\n\t\t\"#194D33\",\n\t\t\"#0C797D\",\n\t\t\"#0062B1\",\n\t\t\"#653294\",\n\t\t\"#AB149E\",\n\t];\n\n\treturn (\n\t\t<Dialog\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"simple-dialog-title\"\n\t\t\topen={open}\n\t\t>\n\t\t\t<BlockPicker\n\t\t\t\twidth={\"100%\"}\n\t\t\t\ttriangle=\"hide\"\n\t\t\t\tcolor={selectedColor}\n\t\t\t\tcolors={colors}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tonChangeComplete={color => onChange(color.hex)}\n\t\t\t/>\n\t\t</Dialog>\n\t);\n};\n\nexport default ColorPicker;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Button, Grid, IconButton, StepContent, TextField } from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AttachFile, DeleteOutline } from \"@material-ui/icons\";\nimport { head } from \"lodash\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    //height: 400,\n    [theme.breakpoints.down(\"sm\")]: {\n      maxHeight: \"20vh\",\n    },\n  },\n  button: {\n    marginRight: theme.spacing(1),\n  },\n  input: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  addButton: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nexport function QueueOptionStepper({ queueId, options, updateOptions }) {\n  const classes = useStyles();\n  const [activeOption, setActiveOption] = useState(-1);\n  const [attachment, setAttachment] = useState(null);\n  const attachmentFile = useRef(null);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n\n  const handleOption = (index) => async () => {\n    setActiveOption(index);\n    const option = options[index];\n\n    if (option !== undefined && option.id !== undefined) {\n      try {\n        const { data } = await api.request({\n          url: \"/queue-options\",\n          method: \"GET\",\n          params: { queueId, parentId: option.id },\n        });\n        const optionList = data.map((option) => {\n          return {\n            ...option,\n            children: [],\n            edition: false,\n          };\n        });\n        option.children = optionList;\n        updateOptions();\n      } catch (e) {\n        toastError(e);\n      }\n    }\n  };\n\n  const handleSave = async (option) => {\n    try {\n      if (option.id) {\n        await api.request({\n          url: `/queue-options/${option.id}`,\n          method: \"PUT\",\n          data: option,\n        });\n\t\tif (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/queue-options/${option.id}/media-upload`, formData);\n        }\n      } else {\n        const { data } = await api.request({\n          url: `/queue-options`,\n          method: \"POST\",\n          data: option,\n        });\n\t\tif (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/queue-options/${option.id}/media-upload`, formData);\n        }\n        option.id = data.id;\n      }\n      option.edition = false;\n      updateOptions();\n    } catch (e) {\n      toastError(e);\n    }\n  };\n\n  const handleEdition = (index) => {\n    options[index].edition = !options[index].edition;\n    updateOptions();\n  };\n\n  const handleDeleteOption = async (index) => {\n    const option = options[index];\n    if (option !== undefined && option.id !== undefined) {\n      try {\n        await api.request({\n          url: `/queue-options/${option.id}`,\n          method: \"DELETE\",\n        });\n      } catch (e) {\n        toastError(e);\n      }\n    }\n    options.splice(index, 1);\n    options.forEach(async (option, order) => {\n      option.option = order + 1;\n      await handleSave(option);\n    });\n    updateOptions();\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const handleOptionChangeTitle = (event, index) => {\n    options[index].title = event.target.value;\n    updateOptions();\n  };\n\n  const handleOptionChangeMessage = (event, index) => {\n    options[index].message = event.target.value;\n    updateOptions();\n  };\n\n  const renderTitle = (index) => {\n    const option = options[index];\n    if (option.edition) {\n      return (\n        <>\n          <TextField\n            value={option.title}\n            onChange={(event) => handleOptionChangeTitle(event, index)}\n            size=\"small\"\n            className={classes.input}\n            placeholder=\"Título da opção\"\n          />\n                    <div style={{ display: \"none\" }}>\n            <input\n              type=\"file\"\n              ref={attachmentFile}\n              onChange={(e) => handleAttachmentFile(e)}\n            />\n          </div>\n          {option.edition && (\n            <>\n              <IconButton\n                color=\"primary\"\n                variant=\"outlined\"\n                size=\"small\"\n                className={classes.button}\n                onClick={() => handleSave(option)}\n              >\n                <SaveIcon />\n              </IconButton>\n              <IconButton\n                variant=\"outlined\"\n                color=\"secondary\"\n                size=\"small\"\n                className={classes.button}\n                onClick={() => handleDeleteOption(index)}\n              >\n                <DeleteOutlineIcon />\n              </IconButton>\n              {!attachment && !option.mediaPath && (\n                <IconButton\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  size=\"small\"\n                  className={classes.button}\n                    onClick={() => attachmentFile.current.click()}\n                  >\n                  <AttachFile/>\n                </IconButton>\n              )}\n                             {(option.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFile />}>\n                        {attachment != null\n                          ? attachment.name\n                          : option.mediaName}\n                      </Button>\n                      \n                        <IconButton\n                          onClick={() => setConfirmationOpen(true)}\n                          color=\"secondary\"\n                        >\n                          <DeleteOutline />\n                        </IconButton>\n                    </Grid>\n                  )}\n            </>\n          )}\n        </>\n      );\n    }\n    return (\n      <>\n        <Typography>\n          {option.title !== \"\" ? option.title : \"Título não definido\"}\n          <IconButton\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={() => handleEdition(index)}\n          >\n            <EditIcon />\n          </IconButton>\n        </Typography>\n      </>\n    );\n  };\n\n  const renderMessage = (index) => {\n    const option = options[index];\n    if (option.edition) {\n      return (\n        <>\n          <TextField\n            style={{ width: \"100%\" }}\n            multiline\n            value={option.message}\n            onChange={(event) => handleOptionChangeMessage(event, index)}\n            size=\"small\"\n            className={classes.input}\n            placeholder=\"Digite o texto da opção\"\n          />\n        </>\n      );\n    }\n    return (\n      <>\n        <Typography onClick={() => handleEdition(index)}>\n          {option.message}\n        </Typography>\n      </>\n    );\n  };\n\n  const handleAddOption = (index) => {\n    const optionNumber = options[index].children.length + 1;\n    options[index].children.push({\n      title: \"\",\n      message: \"\",\n      edition: false,\n      option: optionNumber,\n      queueId,\n      parentId: options[index].id,\n      children: [],\n    });\n    updateOptions();\n  };\n\n  const renderStep = (option, index) => {\n    return (\n      <Step key={index}>\n        <StepLabel style={{ cursor: \"pointer\" }} onClick={handleOption(index)}>\n          {renderTitle(index)}\n        </StepLabel>\n        <StepContent>\n          {renderMessage(index)}\n\n          {option.id !== undefined && (\n            <>\n              <Button\n                color=\"primary\"\n                size=\"small\"\n                onClick={() => handleAddOption(index)}\n                startIcon={<AddIcon />}\n                variant=\"outlined\"\n                className={classes.addButton}\n              >\n                Adicionar\n              </Button>\n            </>\n          )}\n          <QueueOptionStepper\n            queueId={queueId}\n            options={option.children}\n            updateOptions={updateOptions}\n          />\n        </StepContent>\n      </Step>\n    );\n  };\n\n  const renderStepper = () => {\n    return (\n      <Stepper\n        style={{ marginBottom: 0, paddingBottom: 0 }}\n        nonLinear\n        activeStep={activeOption}\n        orientation=\"vertical\"\n      >\n        {options.map((option, index) => renderStep(option, index))}\n      </Stepper>\n    );\n  };\n\n  return renderStepper();\n}\n\nexport function QueueOptions({ queueId }) {\n  const classes = useStyles();\n  const [options, setOptions] = useState([]);\n\n  useEffect(() => {\n    if (queueId) {\n      const fetchOptions = async () => {\n        try {\n          const { data } = await api.request({\n            url: \"/queue-options\",\n            method: \"GET\",\n            params: { queueId, parentId: -1 },\n          });\n          const optionList = data.map((option) => {\n            return {\n              ...option,\n              children: [],\n              edition: false,\n            };\n          });\n          setOptions(optionList);\n        } catch (e) {\n          toastError(e);\n        }\n      };\n      fetchOptions();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const renderStepper = () => {\n    if (options.length > 0) {\n      return (\n        <QueueOptionStepper\n          queueId={queueId}\n          updateOptions={updateOptions}\n          options={options}\n        />\n      );\n    }\n  };\n\n  const updateOptions = () => {\n    setOptions([...options]);\n  };\n\n  const addOption = () => {\n    const newOption = {\n      title: \"\",\n      message: \"\",\n      edition: false,\n      option: options.length + 1,\n      queueId,\n      parentId: null,\n      children: [],\n    };\n    setOptions([...options, newOption]);\n  };\n\n  return (\n    <div className={classes.root}>\n      <br />\n      <Typography>\n        Opções\n        <Button\n          color=\"primary\"\n          size=\"small\"\n          onClick={addOption}\n          startIcon={<AddIcon />}\n          style={{ marginLeft: 10 }}\n          variant=\"outlined\"\n        >\n          Adicionar\n        </Button>\n      </Typography>\n      {renderStepper()}\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { head } from \"lodash\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport ColorPicker from \"../ColorPicker\";\nimport {\n  FormControl,\n  Grid,\n  IconButton,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  Paper,\n  Select,\n  Tab,\n  Tabs,\n} from \"@material-ui/core\";\nimport { AttachFile, Colorize, DeleteOutline } from \"@material-ui/icons\";\nimport { QueueOptions } from \"../QueueOptions\";\nimport SchedulesForm from \"../SchedulesForm\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst QueueSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  color: Yup.string().min(3, \"Too Short!\").max(9, \"Too Long!\").required(),\n  greetingMessage: Yup.string(),\n});\n\nconst QueueModal = ({ open, onClose, queueId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n    color: \"\",\n    greetingMessage: \"\",\n    outOfHoursMessage: \"\",\n    orderQueue: \"\",\n    integrationId: \"\",\n    promptId: \"\"\n  };\n\n  const [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n  const [queue, setQueue] = useState(initialState);\n  const [tab, setTab] = useState(0);\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\n  const [attachment, setAttachment] = useState(null);\n  const attachmentFile = useRef(null);\n  const greetingRef = useRef();\n  const [integrations, setIntegrations] = useState([]);\n  const [queueEditable, setQueueEditable] = useState(true);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n\n  const [schedules, setSchedules] = useState([\n    { weekday: \"Segunda-feira\", weekdayEn: \"monday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Terça-feira\", weekdayEn: \"tuesday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Quarta-feira\", weekdayEn: \"wednesday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Quinta-feira\", weekdayEn: \"thursday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Sexta-feira\", weekdayEn: \"friday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTime: \"08:00\", endTime: \"12:00\", },\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTime: \"00:00\", endTime: \"00:00\", },\n  ]);\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\n  const [prompts, setPrompts] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/prompt\");\n        setPrompts(data.prompts);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    api.get(`/settings`).then(({ data }) => {\n      if (Array.isArray(data)) {\n        const scheduleType = data.find((d) => d.key === \"scheduleType\");\n        if (scheduleType) {\n          setSchedulesEnabled(scheduleType.value === \"queue\");\n        }\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/queueIntegration\");\n\n        setIntegrations(data.queueIntegrations);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      if (!queueId) return;\n      try {\n        const { data } = await api.get(`/queue/${queueId}`);\n        setQueue((prevState) => {\n          return { ...prevState, ...data };\n        });\n        data.promptId ? setSelectedPrompt(data.promptId) : setSelectedPrompt(null);\n\n        setSchedules(data.schedules);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n\n    return () => {\n      setQueue({\n        name: \"\",\n        color: \"\",\n        greetingMessage: \"\",\n        outOfHoursMessage: \"\",\n        orderQueue: \"\",\n        integrationId: \"\"\n      });\n    };\n  }, [queueId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setQueue(initialState);\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (queue.mediaPath) {\n      await api.delete(`/queue/${queue.id}/media-upload`);\n      setQueue((prev) => ({ ...prev, mediaPath: null, mediaName: null }));\n      toast.success(i18n.t(\"queueModal.toasts.deleted\"));\n    }\n  };\n\n  const handleSaveQueue = async (values) => {\n    try {\n      if (queueId) {\n        await api.put(`/queue/${queueId}`, {\n          ...values, schedules, promptId: selectedPrompt ? selectedPrompt : null\n        });\n\t\tif (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/queue/${queueId}/media-upload`, formData);\n        }\n      } else {\n        await api.post(\"/queue\", {\n          ...values, schedules, promptId: selectedPrompt ? selectedPrompt : null\n        });\n\t\tif (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/queue/${queueId}/media-upload`, formData);\n      }\n\t  }\n      toast.success(\"Queue saved successfully\");\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleSaveSchedules = async (values) => {\n    toast.success(\"Clique em salvar para registar as alterações\");\n    setSchedules(values);\n    setTab(0);\n  };\n\n  const handleChangePrompt = (e) => {\n    setSelectedPrompt(e.target.value);\n  };\n\n  return (\n    <div className={classes.root}>\n    <ConfirmationModal\n        title={i18n.t(\"queueModal.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      ></ConfirmationModal>\n    <Dialog\n    maxWidth=\"md\"\n    fullWidth={true}\n    open={open}\n    onClose={handleClose}\n    scroll=\"paper\"\n  >\n    <DialogTitle>\n      {queueId\n        ? `${i18n.t(\"queueModal.title.edit\")}`\n        : `${i18n.t(\"queueModal.title.add\")}`}\n       <div style={{ display: \"none\" }}>\n        <input\n          type=\"file\"\n          ref={attachmentFile}\n          onChange={(e) => handleAttachmentFile(e)}\n        />\n      </div>\n    </DialogTitle>\n        <Tabs\n          value={tab}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          onChange={(_, v) => setTab(v)}\n          aria-label=\"disabled tabs example\"\n        >\n          <Tab label=\"Dados da Fila\" />\n          {schedulesEnabled && <Tab label=\"Horários de Atendimento\" />}\n        </Tabs>\n        {tab === 0 && (\n          <Paper>\n            <Formik\n              initialValues={queue}\n              enableReinitialize={true}\n              validationSchema={QueueSchema}\n              onSubmit={(values, actions) => {\n                setTimeout(() => {\n                  handleSaveQueue(values);\n                  actions.setSubmitting(false);\n                }, 400);\n              }}\n            >\n              {({ touched, errors, isSubmitting, values }) => (\n                <Form>\n                  <DialogContent dividers>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"queueModal.form.name\")}\n                      autoFocus\n                      name=\"name\"\n                      error={touched.name && Boolean(errors.name)}\n                      helperText={touched.name && errors.name}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.textField}\n                    />\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"queueModal.form.color\")}\n                      name=\"color\"\n                      id=\"color\"\n                      onFocus={() => {\n                        setColorPickerModalOpen(true);\n                        greetingRef.current.focus();\n                      }}\n                      error={touched.color && Boolean(errors.color)}\n                      helperText={touched.color && errors.color}\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            <div\n                              style={{ backgroundColor: values.color }}\n                              className={classes.colorAdorment}\n                            ></div>\n                          </InputAdornment>\n                        ),\n                        endAdornment: (\n                          <IconButton\n                            size=\"small\"\n                            color=\"default\"\n                            onClick={() => setColorPickerModalOpen(true)}\n                          >\n                            <Colorize />\n                          </IconButton>\n                        ),\n                      }}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.textField}\n                    />\n                    <ColorPicker\n                      open={colorPickerModalOpen}\n                      handleClose={() => setColorPickerModalOpen(false)}\n                      onChange={(color) => {\n                        values.color = color;\n                        setQueue(() => {\n                          return { ...values, color };\n                        });\n                      }}\n                    />\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"queueModal.form.orderQueue\")}\n                      name=\"orderQueue\"\n                      type=\"orderQueue\"\n                      error={touched.orderQueue && Boolean(errors.orderQueue)}\n                      helperText={touched.orderQueue && errors.orderQueue}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.textField1}\n                    />\n                    <div>\n                      <FormControl\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        className={classes.FormControl}\n                        fullWidth\n                      >\n                        <InputLabel id=\"integrationId-selection-label\">\n                          {i18n.t(\"queueModal.form.integrationId\")}\n                        </InputLabel>\n                        <Field\n                          as={Select}\n                          label={i18n.t(\"queueModal.form.integrationId\")}\n                          name=\"integrationId\"\n                          id=\"integrationId\"\n                          placeholder={i18n.t(\"queueModal.form.integrationId\")}\n                          labelId=\"integrationId-selection-label\"\n                          value={values.integrationId || \"\"}\n                        >\n                          <MenuItem value={\"\"} >{\"Nenhum\"}</MenuItem>\n                          {integrations.map((integration) => (\n                            <MenuItem key={integration.id} value={integration.id}>\n                              {integration.name}\n                            </MenuItem>\n                          ))}\n                        </Field>\n\n                      </FormControl>\n                      <FormControl\n                        margin=\"dense\"\n                        variant=\"outlined\"\n                        fullWidth\n                      >\n                        <InputLabel>\n                          {i18n.t(\"whatsappModal.form.prompt\")}\n                        </InputLabel>\n                        <Select\n                          labelId=\"dialog-select-prompt-label\"\n                          id=\"dialog-select-prompt\"\n                          name=\"promptId\"\n                          value={selectedPrompt || \"\"}\n                          onChange={handleChangePrompt}\n                          label={i18n.t(\"whatsappModal.form.prompt\")}\n                          fullWidth\n                          MenuProps={{\n                            anchorOrigin: {\n                              vertical: \"bottom\",\n                              horizontal: \"left\",\n                            },\n                            transformOrigin: {\n                              vertical: \"top\",\n                              horizontal: \"left\",\n                            },\n                            getContentAnchorEl: null,\n                          }}\n                        >\n                          {prompts.map((prompt) => (\n                            <MenuItem\n                              key={prompt.id}\n                              value={prompt.id}\n                            >\n                              {prompt.name}\n                            </MenuItem>\n                          ))}\n                        </Select>\n                      </FormControl>\n                    </div>\n                    <div style={{ marginTop: 5 }}>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"queueModal.form.greetingMessage\")}\n                        type=\"greetingMessage\"\n                        multiline\n                        inputRef={greetingRef}\n                        rows={5}\n                        fullWidth\n                        name=\"greetingMessage\"\n                        error={\n                          touched.greetingMessage &&\n                          Boolean(errors.greetingMessage)\n                        }\n                        helperText={\n                          touched.greetingMessage && errors.greetingMessage\n                        }\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                      />\n                      {schedulesEnabled && (\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"queueModal.form.outOfHoursMessage\")}\n                          type=\"outOfHoursMessage\"\n                          multiline\n                          inputRef={greetingRef}\n                          rows={5}\n                          fullWidth\n                          name=\"outOfHoursMessage\"\n                          error={\n                            touched.outOfHoursMessage &&\n                            Boolean(errors.outOfHoursMessage)\n                          }\n                          helperText={\n                            touched.outOfHoursMessage && errors.outOfHoursMessage\n                          }\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                        />\n                      )}\n                    </div>\n                    <QueueOptions queueId={queueId} />\n                    {(queue.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFile />}>\n                        {attachment != null\n                          ? attachment.name\n                          : queue.mediaName}\n                      </Button>\n                      {queueEditable && (\n                        <IconButton\n                          onClick={() => setConfirmationOpen(true)}\n                          color=\"secondary\"\n                        >\n                          <DeleteOutline />\n                        </IconButton>\n                      )}\n                    </Grid>\n                  )}\n                  </DialogContent>\n                  <DialogActions>\n                  {!attachment && !queue.mediaPath && queueEditable && (\n                    <Button\n                      color=\"primary\"\n                      onClick={() => attachmentFile.current.click()}\n                      disabled={isSubmitting}\n                      variant=\"outlined\"\n                    >\n                      {i18n.t(\"queueModal.buttons.attach\")}\n                    </Button>\n                  )}\n                    <Button\n                      onClick={handleClose}\n                      color=\"secondary\"\n                      disabled={isSubmitting}\n                      variant=\"outlined\"\n                    >\n                      {i18n.t(\"queueModal.buttons.cancel\")}\n                    </Button>\n                    <Button\n                      type=\"submit\"\n                      color=\"primary\"\n                      disabled={isSubmitting}\n                      variant=\"contained\"\n                      className={classes.btnWrapper}\n                    >\n                      {queueId\n                        ? `${i18n.t(\"queueModal.buttons.okEdit\")}`\n                        : `${i18n.t(\"queueModal.buttons.okAdd\")}`}\n                      {isSubmitting && (\n                        <CircularProgress\n                          size={24}\n                          className={classes.buttonProgress}\n                        />\n                      )}\n                    </Button>\n                  </DialogActions>\n                </Form>\n              )}\n            </Formik>\n          </Paper>\n        )}\n        {tab === 1 && (\n          <Paper style={{ padding: 20 }}>\n            <SchedulesForm\n              loading={false}\n              onSubmit={handleSaveSchedules}\n              initialValues={schedules}\n              labelSaveButton=\"Adicionar\"\n            />\n          </Paper>\n        )}\n      </Dialog>\n    </div>\n  );\n};\n\nexport default QueueModal;\n","import React, { useEffect, useReducer, useState, useContext } from \"react\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@material-ui/core\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport QueueModal from \"../../components/QueueModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUEUES\") {\n    const queues = action.payload;\n    const newQueues = [];\n\n    queues.forEach((queue) => {\n      const queueIndex = state.findIndex((q) => q.id === queue.id);\n      if (queueIndex !== -1) {\n        state[queueIndex] = queue;\n      } else {\n        newQueues.push(queue);\n      }\n    });\n\n    return [...state, ...newQueues];\n  }\n\n  if (action.type === \"UPDATE_QUEUES\") {\n    const queue = action.payload;\n    const queueIndex = state.findIndex((u) => u.id === queue.id);\n\n    if (queueIndex !== -1) {\n      state[queueIndex] = queue;\n      return [...state];\n    } else {\n      return [queue, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUEUE\") {\n    const queueId = action.payload;\n    const queueIndex = state.findIndex((q) => q.id === queueId);\n    if (queueIndex !== -1) {\n      state.splice(queueIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Queues = () => {\n  const classes = useStyles();\n\n  const [queues, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [queueModalOpen, setQueueModalOpen] = useState(false);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/queue\");\n        dispatch({ type: \"LOAD_QUEUES\", payload: data });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-queue`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUEUES\", payload: data.queue });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUEUE\", payload: data.queueId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager]);\n\n  const handleOpenQueueModal = () => {\n    setQueueModalOpen(true);\n    setSelectedQueue(null);\n  };\n\n  const handleCloseQueueModal = () => {\n    setQueueModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleEditQueue = (queue) => {\n    setSelectedQueue(queue);\n    setQueueModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (queueId) => {\n    try {\n      await api.delete(`/queue/${queueId}`);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedQueue(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\n            selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"queues.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QueueModal\n        open={queueModalOpen}\n        onClose={handleCloseQueueModal}\n        queueId={selectedQueue?.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"queues.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQueueModal}\n          >\n            {i18n.t(\"queues.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n\t\t\t   <TableCell align=\"center\">\n                {i18n.t(\"queues.table.id\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.color\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.orderQueue\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.greeting\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {queues.map((queue) => (\n                <TableRow key={queue.id}>\n\t\t\t\t<TableCell align=\"center\">{queue.id}</TableCell>\n                  <TableCell align=\"center\">{queue.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <span\n                        style={{\n                          backgroundColor: queue.color,\n                          width: 60,\n                          height: 20,\n                          alignSelf: \"center\",\n                        }}\n                      />\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <Typography\n                        style={{ width: 300, align: \"center\" }}\n                        noWrap\n                        variant=\"body2\"\n                      >\n                        {queue.orderQueue}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <Typography\n                        style={{ width: 300, align: \"center\" }}\n                        noWrap\n                        variant=\"body2\"\n                      >\n                        {queue.greetingMessage}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQueue(queue)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setSelectedQueue(queue);\n                        setConfirmModalOpen(true);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Queues;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { Colorize } from \"@material-ui/icons\";\nimport { ColorBox } from 'material-ui-color';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\nimport { FormControlLabel, Switch } from '@material-ui/core';\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Checkbox from '@material-ui/core/Checkbox';\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\tcolorAdorment: {\n\t\twidth: 20,\n\t\theight: 20,\n\t},\n}));\n\nconst TagSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(3, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatório\")\n});\n\nconst TagModal = ({ open, onClose, tagId, reload }) => {\n\tconst classes = useStyles();\n\tconst { user } = useContext(AuthContext);\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tcolor: \"\",\n\t\tkanban: 0\n\t};\n\n\tconst [tag, setTag] = useState(initialState);\n\tconst [ kanban, setKanban] = useState(0);\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\t(async () => {\n\t\t\t\tif (!tagId) return;\n\n\t\t\t\tconst { data } = await api.get(`/tags/${tagId}`);\n\t\t\t\tsetKanban(data.kanban);\n\t\t\t\tsetTag(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t})()\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}, [tagId, open]);\n\n\tconst handleClose = () => {\n\t\tsetTag(initialState);\n\t\tsetColorPickerModalOpen(false);\n\t\tonClose();\n\t};\n\n\tconst handleKanbanChange = (e) => {\n\t\tsetKanban( e.target.checked ? 1 : 0);\n\t};\n\n\tconst handleSaveTag = async values => {\n\t\tconst tagData = { ...values, userId: user.id, kanban };\n\t\ttry {\n\t\t\tif (tagId) {\n\t\t\t\tawait api.put(`/tags/${tagId}`, tagData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/tags\", tagData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"tagModal.success\"));\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{(tagId ? `${i18n.t(\"tagModal.title.edit\")}` : `${i18n.t(\"tagModal.title.add\")}`)}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={tag}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={TagSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveTag(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, name: e.target.value }))}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.color\")}\n\t\t\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\t\t\tid=\"color\"\n\t\t\t\t\t\t\t\t\t\terror={touched.color && Boolean(errors.color)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.color && errors.color}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\n\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(!colorPickerModalOpen)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{(user.profile === \"admin\" || user.profile === \"supervisor\") && (\n                                <>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n        \t\t\t\t\t\t\t<FormControlLabel\n          \t\t\t\t\t\t\t\tcontrol={\n            \t\t\t\t\t\t\t\t<Checkbox\n             \t\t\t\t\t\t\t\t\tchecked={kanban === 1}\n             \t\t\t\t\t\t\t\t\tonChange={handleKanbanChange}\n              \t\t\t\t\t\t\t\t\tvalue={kanban}\n              \t\t\t\t\t\t\t\t\tcolor=\"primary\"\n            \t\t\t\t\t\t\t\t/>\n          \t\t\t\t\t\t\t\t}\n          \t\t\t\t\t\t\t\tlabel=\"Kanban\"\n          \t\t\t\t\t\t\t\tlabelPlacement=\"start\"\n        \t\t\t\t\t\t\t/>\n      \t\t\t\t\t\t\t</div>\n      \t\t\t\t\t\t\t<br />\n                                </>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{colorPickerModalOpen && (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<ColorBox\n\t\t\t\t\t\t\t\t\t\t\tdisableAlpha={true}\n\t\t\t\t\t\t\t\t\t\t\thslGradient={false}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '20px auto 0' }}\n\t\t\t\t\t\t\t\t\t\t\tvalue={tag.color}\n\t\t\t\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetTag(prev => ({ ...prev, color: `#${val.hex}` }));\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{tagId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"tagModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"tagModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default TagModal;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useCallback,\n  useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport TagModal from \"../../components/TagModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Chip } from \"@material-ui/core\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TAGS\") {\n    const tags = action.payload;\n    const newTags = [];\n\n    tags.forEach((tag) => {\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\n      if (tagIndex !== -1) {\n        state[tagIndex] = tag;\n      } else {\n        newTags.push(tag);\n      }\n    });\n\n    return [...state, ...newTags];\n  }\n\n  if (action.type === \"UPDATE_TAGS\") {\n    const tag = action.payload;\n    const tagIndex = state.findIndex((s) => s.id === tag.id);\n\n    if (tagIndex !== -1) {\n      state[tagIndex] = tag;\n      return [...state];\n    } else {\n      return [tag, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_TAG\") {\n    const tagId = action.payload;\n\n    const tagIndex = state.findIndex((s) => s.id === tagId);\n    if (tagIndex !== -1) {\n      state.splice(tagIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Tags = () => {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [deletingTag, setDeletingTag] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tags, dispatch] = useReducer(reducer, []);\n  const [tagModalOpen, setTagModalOpen] = useState(false);\n\n  const fetchTags = useCallback(async () => {\n    try {\n      const { data } = await api.get(\"/tags/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchTags();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, fetchTags]);\n\n  useEffect(() => {\n    const socket = socketManager.getSocket(user.companyId);\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tags });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.tagId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager, user]);\n\n  const handleOpenTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(true);\n  };\n\n  const handleCloseTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditTag = (tag) => {\n    setSelectedTag(tag);\n    setTagModalOpen(true);\n  };\n\n  const handleDeleteTag = async (tagId) => {\n    try {\n      await api.delete(`/tags/${tagId}`);\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingTag(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchTags();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\nreturn (\n    <MainContainer>\n      <ConfirmationModal\n        title={deletingTag && `${i18n.t(\"tags.confirmationModal.deleteTitle\")}`}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\n      >\n        {i18n.t(\"tags.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <TagModal\n        open={tagModalOpen}\n        onClose={handleCloseTagModal}\n        reload={fetchTags}\n        aria-labelledby=\"form-dialog-title\"\n        tagId={selectedTag && selectedTag.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"tags.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenTagModal}\n          >\n            {i18n.t(\"tags.buttons.add\")}\n          </Button>\t\t  \n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"tags.table.tickets\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"tags.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {tags.map((tag) => (\n                <TableRow key={tag.id}>\n                  <TableCell align=\"center\">\n                    <Chip\n                      variant=\"outlined\"\n                      style={{\n                        backgroundColor: tag.color,\n                        textShadow: \"1px 1px 1px #000\",\n                        color: \"white\",\n                      }}\n                      label={tag.name}\n                      size=\"small\"\n                    />\n                  </TableCell>\n                  <TableCell align=\"center\">{tag.ticketsCount}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton size=\"small\" onClick={() => handleEditTag(tag)}>\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingTag(tag);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Tags;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { Button, CircularProgress, Grid, TextField, Typography } from \"@material-ui/core\";\nimport { Field, Form, Formik } from \"formik\";\nimport toastError from \"../../errors/toastError\";\nimport { toast } from \"react-toastify\";\n// import api from \"../../services/api\";\nimport axios from \"axios\";\nimport usePlans from \"../../hooks/usePlans\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    paddingBottom: 100\n  },\n  mainHeader: {\n    marginTop: theme.spacing(1),\n  },\n  elementMargin: {\n    padding: theme.spacing(2),\n  },\n  formContainer: {\n    maxWidth: 500,\n  },\n  textRight: {\n    textAlign: \"right\"\n  }\n}));\n\nconst MessagesAPI = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [formMessageTextData,] = useState({ token: '', number: '', body: '' })\n  const [formMessageMediaData,] = useState({ token: '', number: '', medias: '' })\n  const [file, setFile] = useState({})\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useExternalApi) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const getEndpoint = () => {\n    return process.env.REACT_APP_BACKEND_URL + '/api/messages/send'\n  }\n\n  const handleSendTextMessage = async (values) => {\n    const { number, body } = values;\n    const data = { number, body };\n    try {\n      await axios.request({\n        url: getEndpoint(),\n        method: 'POST',\n        data,\n        headers: {\n          'Content-type': 'application/json',\n          'Authorization': `Bearer ${values.token}`\n        }\n      })\n      toast.success('Mensagem enviada com sucesso');\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  const handleSendMediaMessage = async (values) => {\n    try {\n      const firstFile = file[0];\n      const data = new FormData();\n      data.append('number', values.number);\n      data.append('body', firstFile.name);\n      data.append('medias', firstFile);\n      await axios.request({\n        url: getEndpoint(),\n        method: 'POST',\n        data,\n        headers: {\n          'Content-type': 'multipart/form-data',\n          'Authorization': `Bearer ${values.token}`\n        }\n      })\n      toast.success('Mensagem enviada com sucesso');\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  const renderFormMessageText = () => {\n    return (\n      <Formik\n        initialValues={formMessageTextData}\n        enableReinitialize={true}\n        onSubmit={(values, actions) => {\n          setTimeout(async () => {\n            await handleSendTextMessage(values);\n            actions.setSubmitting(false);\n            actions.resetForm()\n          }, 400);\n        }}\n        className={classes.elementMargin}\n      >\n        {({ isSubmitting }) => (\n          <Form className={classes.formContainer}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.token\")}\n                  name=\"token\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.number\")}\n                  name=\"number\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.body\")}\n                  name=\"body\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} className={classes.textRight}>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {isSubmitting ? (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  ) : 'Enviar'}\n                </Button>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    )\n  }\n\n  const renderFormMessageMedia = () => {\n    return (\n      <Formik\n        initialValues={formMessageMediaData}\n        enableReinitialize={true}\n        onSubmit={(values, actions) => {\n          setTimeout(async () => {\n            await handleSendMediaMessage(values);\n            actions.setSubmitting(false);\n            actions.resetForm()\n            document.getElementById('medias').files = null\n            document.getElementById('medias').value = null\n          }, 400);\n        }}\n        className={classes.elementMargin}\n      >\n        {({ isSubmitting }) => (\n          <Form className={classes.formContainer}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.mediaMessage.token\")}\n                  name=\"token\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.mediaMessage.number\")}\n                  name=\"number\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <input type=\"file\" name=\"medias\" id=\"medias\" required onChange={(e) => setFile(e.target.files)} />\n              </Grid>\n              <Grid item xs={12} className={classes.textRight}>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {isSubmitting ? (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  ) : 'Enviar'}\n                </Button>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    )\n  }\n\n  return (\n    <Paper\n      className={classes.mainPaper}\n      style={{marginLeft: \"5px\"}}\n      // className={classes.elementMargin}\n      variant=\"outlined\"\n    >\n      <Typography variant=\"h5\">\n        Documentação para envio de mensagens\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        Métodos de Envio\n      </Typography>\n      <Typography component=\"div\">\n        <ol>\n          <li>Mensagens de Texto</li>\n          <li>Mensagens de Media</li>\n        </ol>\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        Instruções\n      </Typography>\n      <Typography className={classes.elementMargin} component=\"div\">\n        <b>Observações importantes</b><br />\n        <ul>\n          <li>Antes de enviar mensagens, é necessário o cadastro do token vinculado à conexão que enviará as mensagens. <br />Para realizar o cadastro acesse o menu \"Conexões\", clique no botão editar da conexão e insira o token no devido campo.</li>\n          <li>\n            O número para envio não deve ter mascara ou caracteres especiais e deve ser composto por:\n            <ul>\n              <li>Código do país</li>\n              <li>DDD</li>\n              <li>Número</li>\n            </ul>\n          </li>\n        </ul>\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        1. Mensagens de Texto\n      </Typography>\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin} component=\"div\">\n            <p>Seguem abaixo a lista de informações necessárias para envio das mensagens de texto:</p>\n            <b>Endpoint: </b> {getEndpoint()} <br />\n            <b>Método: </b> POST <br />\n            <b>Headers: </b> Authorization (Bearer token) e Content-Type (application/json) <br />\n            <b>Body: </b> {\"{ \\\"number\\\": \\\"595985523065\\\", \\\"body\\\": \\\"Sua mensagem\\\" }\"}\n          </Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin}>\n            <b>Teste de Envio</b>\n          </Typography>\n          {renderFormMessageText()}\n        </Grid>\n      </Grid>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        2. Mensagens de Media\n      </Typography>\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin} component=\"div\">\n            <p>Seguem abaixo a lista de informações necessárias para envio das mensagens de texto:</p>\n            <b>Endpoint: </b> {getEndpoint()} <br />\n            <b>Método: </b> POST <br />\n            <b>Headers: </b> Authorization (Bearer token) e Content-Type (multipart/form-data) <br />\n            <b>FormData: </b> <br />\n            <ul>\n              <li>\n                <b>number: </b> 5599999999999\n              </li>\n              <li>\n                <b>medias: </b> arquivo\n              </li>\n            </ul>\n          </Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin}>\n            <b>Teste de Envio</b>\n          </Typography>\n          {renderFormMessageMedia()}\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default MessagesAPI;","import React, { useState, useEffect, useCallback } from \"react\";\nimport { makeStyles, Paper, Typography, Modal, IconButton } from \"@material-ui/core\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport useHelps from \"../../hooks/useHelps\";\n\nconst useStyles = makeStyles(theme => ({\n  mainPaperContainer: {\n    overflowY: 'auto',\n    maxHeight: 'calc(100vh - 200px)',\n  },\n  mainPaper: {\n    width: '100%',\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))',\n    gap: theme.spacing(3),\n    padding: theme.spacing(2),\n    marginBottom: theme.spacing(3),\n  },\n  helpPaper: {\n    position: 'relative',\n    width: '100%',\n    minHeight: '340px',\n    padding: theme.spacing(2),\n    boxShadow: theme.shadows[3],\n    borderRadius: theme.spacing(1),\n    cursor: 'pointer',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    maxWidth: '340px',\n  },\n  paperHover: {\n    transition: 'transform 0.3s, box-shadow 0.3s',\n    '&:hover': {\n      transform: 'scale(1.03)',\n      boxShadow: `0 0 8px`,\n      color: theme.palette.primary.main,\n    },\n  },\n  videoThumbnail: {\n    width: '100%',\n    height: 'calc(100% - 56px)',\n    objectFit: 'cover',\n    borderRadius: `${theme.spacing(1)}px ${theme.spacing(1)}px 0 0`,\n  },\n  videoTitle: {\n    marginTop: theme.spacing(1),\n    flex: 1,\n  },\n  videoDescription: {\n    maxHeight: '100px',\n    overflow: 'hidden',\n  },\n  videoModal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  videoModalContent: {\n    outline: 'none',\n    width: '90%',\n    maxWidth: 1024,\n    aspectRatio: '16/9',\n    position: 'relative',\n    backgroundColor: 'white',\n    borderRadius: theme.spacing(1),\n    overflow: 'hidden',\n  },\n}));\n\nconst Helps = () => {\n  const classes = useStyles();\n  const [records, setRecords] = useState([]);\n  const { list } = useHelps();\n  const [selectedVideo, setSelectedVideo] = useState(null);\n\n  useEffect(() => {\n    async function fetchData() {\n      const helps = await list();\n      setRecords(helps);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const openVideoModal = (video) => {\n    setSelectedVideo(video);\n  };\n\n  const closeVideoModal = () => {\n    setSelectedVideo(null);\n  };\n\n  const handleModalClose = useCallback((event) => {\n    if (event.key === \"Escape\") {\n      closeVideoModal();\n    }\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleModalClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleModalClose);\n    };\n  }, [handleModalClose]);\n\n  const renderVideoModal = () => {\n    return (\n      <Modal\n        open={Boolean(selectedVideo)}\n        onClose={closeVideoModal}\n        className={classes.videoModal}\n      >\n        <div className={classes.videoModalContent}>\n          {selectedVideo && (\n            <iframe\n              style={{ width: \"100%\", height: \"100%\", position: \"absolute\", top: 0, left: 0 }}\n              src={`https://www.youtube.com/embed/${selectedVideo}`}\n              title=\"YouTube video player\"\n              frameBorder=\"0\"\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n              allowFullScreen\n            />\n          )}\n        </div>\n      </Modal>\n    );\n  };\n\n  const renderHelps = () => {\n    return (\n      <>\n        <div className={`${classes.mainPaper} ${classes.mainPaperContainer}`}>\n          {records.length ? records.map((record, key) => (\n            <Paper key={key} className={`${classes.helpPaper} ${classes.paperHover}`} onClick={() => openVideoModal(record.video)}>\n              <img\n                src={`https://img.youtube.com/vi/${record.video}/mqdefault.jpg`}\n                alt=\"Thumbnail\"\n                className={classes.videoThumbnail}\n              />\n              <Typography variant=\"button\" className={classes.videoTitle}>\n                {record.title}\n              </Typography>\n              <Typography variant=\"caption\" className={classes.videoDescription}>\n                {record.description}\n              </Typography>\n            </Paper>\n          )) : null}\n        </div>\n      </>\n    );\n  };\n\n  return (\n    <MainContainer>\n      <MainHeader>\n        <Title>{i18n.t(\"helps.title\")} ({records.length})</Title>\n        <MainHeaderButtonsWrapper></MainHeaderButtonsWrapper>\n      </MainHeader>\n      <div className={classes.mainPaper}>\n        {renderHelps()}\n      </div>\n      {renderVideoModal()}\n    </MainContainer>\n  );\n};\n\nexport default Helps;","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nconst ContactListSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst ContactListModal = ({ open, onClose, contactListId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n  };\n\n  const [contactList, setContactList] = useState(initialState);\n\n  useEffect(() => {\n    const fetchContactList = async () => {\n      if (!contactListId) return;\n      try {\n        const { data } = await api.get(`/contact-lists/${contactListId}`);\n        setContactList((prevState) => {\n          return { ...prevState, ...data };\n        });\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchContactList();\n  }, [contactListId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setContactList(initialState);\n  };\n\n  const handleSaveContactList = async (values) => {\n    const contactListData = { ...values };\n    try {\n      if (contactListId) {\n        await api.put(`/contact-lists/${contactListId}`, contactListData);\n      } else {\n        await api.post(\"/contact-lists\", contactListData);\n      }\n      toast.success(i18n.t(\"contactList.dialog\"));\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {contactListId\n            ? `${i18n.t(\"contactLists.dialog.edit\")}`\n            : `${i18n.t(\"contactLists.dialog.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={contactList}\n          enableReinitialize={true}\n          validationSchema={ContactListSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveContactList(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"contactLists.dialog.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactLists.dialog.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {contactListId\n                    ? `${i18n.t(\"contactLists.dialog.okEdit\")}`\n                    : `${i18n.t(\"contactLists.dialog.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactListModal;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport DownloadIcon from \"@material-ui/icons/GetApp\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactListDialog from \"../../components/ContactListDialog\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\n\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTLISTS\") {\n    const contactLists = action.payload;\n    const newContactLists = [];\n\n    contactLists.forEach((contactList) => {\n      const contactListIndex = state.findIndex((u) => u.id === contactList.id);\n      if (contactListIndex !== -1) {\n        state[contactListIndex] = contactList;\n      } else {\n        newContactLists.push(contactList);\n      }\n    });\n\n    return [...state, ...newContactLists];\n  }\n\n  if (action.type === \"UPDATE_CONTACTLIST\") {\n    const contactList = action.payload;\n    const contactListIndex = state.findIndex((u) => u.id === contactList.id);\n\n    if (contactListIndex !== -1) {\n      state[contactListIndex] = contactList;\n      return [...state];\n    } else {\n      return [contactList, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACTLIST\") {\n    const contactListId = action.payload;\n\n    const contactListIndex = state.findIndex((u) => u.id === contactListId);\n    if (contactListIndex !== -1) {\n      state.splice(contactListIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst ContactLists = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedContactList, setSelectedContactList] = useState(null);\n  const [deletingContactList, setDeletingContactList] = useState(null);\n  const [contactListModalOpen, setContactListModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contactLists, dispatch] = useReducer(reducer, []);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContactLists = async () => {\n        try {\n          const { data } = await api.get(\"/contact-lists/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTLISTS\", payload: data.records });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContactLists();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-ContactList`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTLIST\", payload: data.record });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACTLIST\", payload: +data.id });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager]);\n\n  const handleOpenContactListModal = () => {\n    setSelectedContactList(null);\n    setContactListModalOpen(true);\n  };\n\n  const handleCloseContactListModal = () => {\n    setSelectedContactList(null);\n    setContactListModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditContactList = (contactList) => {\n    setSelectedContactList(contactList);\n    setContactListModalOpen(true);\n  };\n\n  const handleDeleteContactList = async (contactListId) => {\n    try {\n      await api.delete(`/contact-lists/${contactListId}`);\n      toast.success(i18n.t(\"contactLists.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContactList(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const goToContacts = (id) => {\n    history.push(`/contact-lists/${id}/contacts`);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingContactList &&\n          `${i18n.t(\"contactLists.confirmationModal.deleteTitle\")} ${\n            deletingContactList.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteContactList(deletingContactList.id)}\n      >\n        {i18n.t(\"contactLists.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <ContactListDialog\n        open={contactListModalOpen}\n        onClose={handleCloseContactListModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactListId={selectedContactList && selectedContactList.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"contactLists.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={7} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={5} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleOpenContactListModal}\n                >\n                  {i18n.t(\"contactLists.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactLists.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactLists.table.contacts\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactLists.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contactLists.map((contactList) => (\n                <TableRow key={contactList.id}>\n                  <TableCell align=\"center\">{contactList.name}</TableCell>\n                  <TableCell align=\"center\">\n                    {contactList.contactsCount || 0}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <a href={planilhaExemplo} download=\"planilha.xlsx\">\n                      <IconButton size=\"small\" title=\"Baixar Planilha Exemplo\">\n                        <DownloadIcon />\n                      </IconButton>\n                    </a>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => goToContacts(contactList.id)}\n                    >\n                      <PeopleIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditContactList(contactList)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingContactList(contactList);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default ContactLists;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst ContactSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  number: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n  email: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactListItemModal = ({\n  open,\n  onClose,\n  contactId,\n  initialValues,\n  onSave,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const {\n    user: { companyId },\n  } = useContext(AuthContext);\n  const { contactListId } = useParams();\n\n  const initialState = {\n    name: \"\",\n    number: \"\",\n    email: \"\",\n  };\n\n  const [contact, setContact] = useState(initialState);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const fetchContact = async () => {\n      if (initialValues) {\n        setContact((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      if (!contactId) return;\n\n      try {\n        const { data } = await api.get(`/contact-list-items/${contactId}`);\n        if (isMounted.current) {\n          setContact(data);\n        }\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchContact();\n  }, [contactId, open, initialValues]);\n\n  const handleClose = () => {\n    onClose();\n    setContact(initialState);\n  };\n\n  const handleSaveContact = async (values) => {\n    try {\n      if (contactId) {\n        await api.put(`/contact-list-items/${contactId}`, {\n          ...values,\n          companyId,\n          contactListId,\n        });\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/contact-list-items\", {\n          ...values,\n          companyId,\n          contactListId,\n        });\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"contactModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n        <DialogTitle id=\"form-dialog-title\">\n          {contactId\n            ? `${i18n.t(\"contactModal.title.edit\")}`\n            : `${i18n.t(\"contactModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={contact}\n          enableReinitialize={true}\n          validationSchema={ContactSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveContact(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <Typography variant=\"subtitle1\" gutterBottom>\n                  {i18n.t(\"contactModal.form.mainInfo\")}\n                </Typography>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"contactModal.form.name\")}\n                  name=\"name\"\n                  autoFocus\n                  error={touched.name && Boolean(errors.name)}\n                  helperText={touched.name && errors.name}\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  className={classes.textField}\n                />\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"contactModal.form.number\")}\n                  name=\"number\"\n                  error={touched.number && Boolean(errors.number)}\n                  helperText={touched.number && errors.number}\n                  placeholder=\"5513912344321\"\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                />\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"contactModal.form.email\")}\n                    name=\"email\"\n                    error={touched.email && Boolean(errors.email)}\n                    helperText={touched.email && errors.email}\n                    placeholder=\"Email address\"\n                    fullWidth\n                    margin=\"dense\"\n                    variant=\"outlined\"\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {contactId\n                    ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactListItemModal;\n","import api from \"../../services/api\";\n\nconst useContactLists = () => {\n  const save = async (data) => {\n    const { data: responseData } = await api.request({\n      url: \"/contact-lists\",\n      method: \"POST\",\n      data,\n    });\n    return responseData;\n  };\n\n  const update = async (data) => {\n    const { data: responseData } = await api.request({\n      url: `/contact-lists/${data.id}`,\n      method: \"PUT\",\n      data,\n    });\n    return responseData;\n  };\n\n  const deleteRecord = async (id) => {\n    const { data } = await api.request({\n      url: `/contact-lists/${id}`,\n      method: \"DELETE\",\n    });\n    return data;\n  };\n\n  const findById = async (id) => {\n    const { data } = await api.request({\n      url: `/contact-lists/${id}`,\n      method: \"GET\",\n    });\n    return data;\n  };\n\n  const list = async (params) => {\n    const { data } = await api.request({\n      url: \"/contact-lists/list\",\n      method: \"GET\",\n      params,\n    });\n    return data;\n  };\n\n  return {\n    findById,\n    save,\n    update,\n    deleteRecord,\n    list,\n  };\n};\n\nexport default useContactLists;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useContext,\n  useRef,\n} from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport BlockIcon from \"@material-ui/icons/Block\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactListItemModal from \"../../components/ContactListItemModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport useContactLists from \"../../hooks/useContactLists\";\nimport { Grid } from \"@material-ui/core\";\n\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst ContactListItems = () => {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n  const { contactListId } = useParams();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactListItemModalOpen, setContactListItemModalOpen] =\n    useState(false);\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n  const [contactList, setContactList] = useState({});\n  const fileUploadRef = useRef(null);\n\n  const { findById: findContactList } = useContactLists();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    findContactList(contactListId).then((data) => {\n      setContactList(data);\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [contactListId]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(`contact-list-items`, {\n            params: { searchParam, pageNumber, contactListId },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, contactListId]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-ContactListItem`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.record });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.id });\n      }\n\n      if (data.action === \"reload\") {\n        dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\n      }\n    });\n\n    socket.on(\n      `company-${companyId}-ContactListItem-${contactListId}`,\n      (data) => {\n        if (data.action === \"reload\") {\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\n        }\n      }\n    );\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [contactListId, socketManager]);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactListItemModal = () => {\n    setSelectedContactId(null);\n    setContactListItemModalOpen(true);\n  };\n\n  const handleCloseContactListItemModal = () => {\n    setSelectedContactId(null);\n    setContactListItemModalOpen(false);\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactListItemModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contact-list-items/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleImportContacts = async () => {\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", fileUploadRef.current.files[0]);\n      await api.request({\n        url: `contact-lists/${contactListId}/upload`,\n        method: \"POST\",\n        data: formData,\n      });\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const goToContactLists = () => {\n    history.push(\"/contact-lists\");\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <ContactListItemModal\n        open={contactListItemModalOpen}\n        onClose={handleCloseContactListItemModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactListItemModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contactListItems.confirmationModal.deleteTitle\")} ${\n                deletingContact.name\n              }?`\n            : `${i18n.t(\"contactListItems.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={() =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleImportContacts()\n        }\n      >\n        {deletingContact ? (\n          `${i18n.t(\"contactListItems.confirmationModal.deleteMessage\")}`\n        ) : (\n          <>\n            {i18n.t(\"contactListItems.confirmationModal.importMessage\")}\n            <a href={planilhaExemplo} download=\"planilha.xlsx\">\n              Clique aqui para baixar planilha exemplo.\n            </a>\n          </>\n        )}\n      </ConfirmationModal>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={5} item>\n            <Title>{contactList.name}</Title>\n          </Grid>\n          <Grid xs={12} sm={7} item>\n            <Grid spacing={2} container>\n              <Grid xs={12} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"contactListItems.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={goToContactLists}\n                >\n                  {i18n.t(\"contactListItems.buttons.lists\")}\n                </Button>\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={() => {\n                    fileUploadRef.current.value = null;\n                    fileUploadRef.current.click();\n                  }}\n                >\n                  {i18n.t(\"contactListItems.buttons.import\")}\n                </Button>\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleOpenContactListItemModal}\n                >\n                  {i18n.t(\"contactListItems.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <>\n          <input\n            style={{ display: \"none\" }}\n            id=\"upload\"\n            name=\"file\"\n            type=\"file\"\n            accept=\".xls,.xlsx\"\n            onChange={() => {\n              setConfirmOpen(true);\n            }}\n            ref={fileUploadRef}\n          />\n        </>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\" style={{ width: \"0%\" }}>\n                #\n              </TableCell>\n              <TableCell>{i18n.t(\"contactListItems.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.number\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contacts.map((contact) => (\n                <TableRow key={contact.id}>\n                  <TableCell align=\"center\" style={{ width: \"0%\" }}>\n                    <IconButton>\n                      {contact.isWhatsappValid ? (\n                        <CheckCircleIcon\n                          titleAccess=\"Whatsapp Válido\"\n                          htmlColor=\"green\"\n                        />\n                      ) : (\n                        <BlockIcon\n                          titleAccess=\"Whatsapp Inválido\"\n                          htmlColor=\"grey\"\n                        />\n                      )}\n                    </IconButton>\n                  </TableCell>\n                  <TableCell>{contact.name}</TableCell>\n                  <TableCell align=\"center\">{contact.number}</TableCell>\n                  <TableCell align=\"center\">{contact.email}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => hadleEditContact(contact.id)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => {\n                            setConfirmOpen(true);\n                            setDeletingContact(contact);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default ContactListItems;\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { i18n } from \"../../translate/i18n\";\nimport { head } from \"lodash\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\n\nimport {\n    FormControl,\n    Grid,\n    InputLabel,\n    MenuItem,\n    Select,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst path = require('path');\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    multFieldLine: {\n        display: \"flex\",\n        \"& > *:not(:last-child)\": {\n            marginRight: theme.spacing(1),\n        },\n    },\n\n    btnWrapper: {\n        position: \"relative\",\n    },\n\n    buttonProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n    colorAdorment: {\n        width: 20,\n        height: 20,\n    },\n}));\n\nconst QuickeMessageSchema = Yup.object().shape({\n    shortcode: Yup.string().required(\"Obrigatório\"),\n    //   message: Yup.string().required(\"Obrigatório\"),\n});\n\nconst QuickMessageDialog = ({ open, onClose, quickemessageId, reload }) => {\n    const classes = useStyles();\n    const { user } = useContext(AuthContext);\n    const { profile } = user;\n    const messageInputRef = useRef();\n\n    const initialState = {\n        shortcode: \"\",\n        message: \"\",\n        geral: false,\n        status: true,\n    };\n\n    const [confirmationOpen, setConfirmationOpen] = useState(false);\n    const [quickemessage, setQuickemessage] = useState(initialState);\n    const [attachment, setAttachment] = useState(null);\n    const attachmentFile = useRef(null);\n\n    useEffect(() => {\n        try {\n            (async () => {\n                if (!quickemessageId) return;\n\n                const { data } = await api.get(`/quick-messages/${quickemessageId}`);\n\n                setQuickemessage((prevState) => {\n                    return { ...prevState, ...data };\n                });\n            })();\n        } catch (err) {\n            toastError(err);\n        }\n    }, [quickemessageId, open]);\n\n    const handleClose = () => {\n        setQuickemessage(initialState);\n        setAttachment(null);\n        onClose();\n    };\n\n    const handleAttachmentFile = (e) => {\n      \n        const file = head(e.target.files);\n        if (file) {\n            setAttachment(file);\n        }\n    };\n\n    const handleSaveQuickeMessage = async (values) => {\n\n        const quickemessageData = { ...values, isMedia: true, mediaPath: attachment ? String(attachment.name).replace(/ /g, \"_\") : values.mediaPath ? path.basename(values.mediaPath).replace(/ /g, \"_\") : null };\n\n        try {\n            if (quickemessageId) {\n                await api.put(`/quick-messages/${quickemessageId}`, quickemessageData);\n                if (attachment != null) {\n                    const formData = new FormData();\n                    formData.append(\"typeArch\", \"quickMessage\");\n                    formData.append(\"file\", attachment);\n                    await api.post(\n                        `/quick-messages/${quickemessageId}/media-upload`,\n                        formData\n                    );\n                }\n            } else {\n                const { data } = await api.post(\"/quick-messages\", quickemessageData);\n                if (attachment != null) {\n                    const formData = new FormData();\n                    formData.append(\"typeArch\", \"quickMessage\");\n                    formData.append(\"file\", attachment);\n                    await api.post(`/quick-messages/${data.id}/media-upload`, formData);\n                }\n            }\n            toast.success(i18n.t(\"quickMessages.toasts.success\"));\n            if (typeof reload == \"function\") {\n\n                reload();\n            }\n        } catch (err) {\n            toastError(err);\n        }\n        handleClose();\n    };\n\n    const deleteMedia = async () => {\n        if (attachment) {\n            setAttachment(null);\n            attachmentFile.current.value = null;\n        }\n\n        if (quickemessage.mediaPath) {\n            await api.delete(`/quick-messages/${quickemessage.id}/media-upload`);\n            setQuickemessage((prev) => ({\n                ...prev,\n                mediaPath: null,\n            }));\n            toast.success(i18n.t(\"quickMessages.toasts.deleted\"));\n            if (typeof reload == \"function\") {\n\n                reload();\n            }\n        }\n    };\n\n    const handleClickMsgVar = async (msgVar, setValueFunc) => {\n        const el = messageInputRef.current;\n        const firstHalfText = el.value.substring(0, el.selectionStart);\n        const secondHalfText = el.value.substring(el.selectionEnd);\n        const newCursorPos = el.selectionStart + msgVar.length;\n\n        setValueFunc(\"message\", `${firstHalfText}${msgVar}${secondHalfText}`);\n\n        await new Promise(r => setTimeout(r, 100));\n        messageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\n    };\n\n    return (\n        <div className={classes.root}>\n            <ConfirmationModal\n                title={i18n.t(\"quickMessages.confirmationModal.deleteTitle\")}\n                open={confirmationOpen}\n                onClose={() => setConfirmationOpen(false)}\n                onConfirm={deleteMedia}\n            >\n                {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\n            </ConfirmationModal>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"xs\"\n                fullWidth\n                scroll=\"paper\"\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    {quickemessageId\n                        ? `${i18n.t(\"quickMessages.dialog.edit\")}`\n                        : `${i18n.t(\"quickMessages.dialog.add\")}`}\n                </DialogTitle>\n                <div style={{ display: \"none\" }}>\n                    <input\n                        type=\"file\"\n                        ref={attachmentFile}\n                        onChange={(e) => handleAttachmentFile(e)}\n                    />\n                </div>\n                <Formik\n                    initialValues={quickemessage}\n                    enableReinitialize={true}\n                    validationSchema={QuickeMessageSchema}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            handleSaveQuickeMessage(values);\n                            actions.setSubmitting(false);\n                        }, 400);\n                    }}\n                >\n                    {({ touched, errors, isSubmitting, setFieldValue, values }) => (\n                        <Form>\n                            <DialogContent dividers>\n                                <Grid spacing={2} container>\n                                    <Grid xs={12} item>\n                                        <Field\n                                            as={TextField}\n                                            autoFocus\n                                            label={i18n.t(\"quickMessages.dialog.shortcode\")}\n                                            name=\"shortcode\"\n                                            error={touched.shortcode && Boolean(errors.shortcode)}\n                                            helperText={touched.shortcode && errors.shortcode}\n                                            variant=\"outlined\"\n                                            margin=\"dense\"\n                                            fullWidth\n                                        />\n                                    </Grid>\n\t\t\t\t\t\t\t\t\t{(profile === \"admin\") && (\n\t\t\t\t\t\t\t\t\t  <Grid xs={12} item>\n\t\t\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n\t\t\t\t\t\t\t\t\t\t  <InputLabel id=\"geral-selection-label\">\n\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"quickMessages.dialog.geral\")}\n\t\t\t\t\t\t\t\t\t\t  </InputLabel>\n\t\t\t\t\t\t\t\t\t\t  <Field\n\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"quickMessages.dialog.geral\")}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\"quickMessages.dialog.geral\")}\n\t\t\t\t\t\t\t\t\t\t\tlabelId=\"geral-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"geral\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"geral\"\n\t\t\t\t\t\t\t\t\t\t\terror={touched.geral && Boolean(errors.geral)}\n\t\t\t\t\t\t\t\t\t\t  >\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={true}>Ativo</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={false}>Inativo</MenuItem>\n\t\t\t\t\t\t\t\t\t\t  </Field>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t  </Grid>\n\t\t\t\t\t\t\t\t\t  )}\n                                    <Grid xs={12} item>\n                                        <Field\n                                            as={TextField}\n                                            label={i18n.t(\"quickMessages.dialog.message\")}\n                                            name=\"message\"\n                                            inputRef={messageInputRef}\n                                            error={touched.message && Boolean(errors.message)}\n                                            helperText={touched.message && errors.message}\n                                            variant=\"outlined\"\n                                            margin=\"dense\"\n                                            multiline={true}\n                                            rows={7}\n                                            fullWidth\n                                        // disabled={quickemessage.mediaPath || attachment ? true : false}\n                                        />\n                                    </Grid>\n                                    <Grid item>\n                                        <MessageVariablesPicker\n                                            disabled={isSubmitting}\n                                            onClick={value => handleClickMsgVar(value, setFieldValue)}\n                                        />\n                                    </Grid>\n                                    {(quickemessage.mediaPath || attachment) && (\n                                        <Grid xs={12} item>\n                                            <Button startIcon={<AttachFileIcon />}>\n                                                {attachment ? attachment.name : quickemessage.mediaName}\n                                            </Button>\n                                            <IconButton\n                                                onClick={() => setConfirmationOpen(true)}\n                                                color=\"secondary\"\n                                            >\n                                                <DeleteOutlineIcon color=\"secondary\" />\n                                            </IconButton>\n                                        </Grid>\n                                    )}\n                                </Grid>\n                            </DialogContent>\n                            <DialogActions>\n                                {!attachment && !quickemessage.mediaPath && (\n                                    <Button\n                                        color=\"primary\"\n                                        onClick={() => attachmentFile.current.click()}\n                                        disabled={isSubmitting}\n                                        variant=\"outlined\"\n                                    >\n                                        {i18n.t(\"quickMessages.buttons.attach\")}\n                                    </Button>\n                                )}\n                                <Button\n                                    onClick={handleClose}\n                                    color=\"secondary\"\n                                    disabled={isSubmitting}\n                                    variant=\"outlined\"\n                                >\n                                    {i18n.t(\"quickMessages.buttons.cancel\")}\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    variant=\"contained\"\n                                    className={classes.btnWrapper}\n                                >\n                                    {quickemessageId\n                                        ? `${i18n.t(\"quickMessages.buttons.edit\")}`\n                                        : `${i18n.t(\"quickMessages.buttons.add\")}`}\n                                    {isSubmitting && (\n                                        <CircularProgress\n                                            size={24}\n                                            className={classes.buttonProgress}\n                                        />\n                                    )}\n                                </Button>\n                            </DialogActions>\n                        </Form>\n                    )}\n                </Formik>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default QuickMessageDialog;","import React, { useState, useEffect, useReducer, useContext, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport QuickMessageDialog from \"../../components/QuickMessageDialog\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUICKMESSAGES\") {\n    //console.log(\"aqui\");\n    //console.log(action);\n    //console.log(action.payload);\n    const quickmessages = action.payload;\n    const newQuickmessages = [];\n    //console.log(newQuickmessages);\n\n    if (isArray(quickmessages)) {\n      quickmessages.forEach((quickemessage) => {\n        const quickemessageIndex = state.findIndex(\n          (u) => u.id === quickemessage.id\n        );\n        if (quickemessageIndex !== -1) {\n          state[quickemessageIndex] = quickemessage;\n        } else {\n          newQuickmessages.push(quickemessage);\n        }\n      });\n    }\n\n    return [...state, ...newQuickmessages];\n  }\n\n  if (action.type === \"UPDATE_QUICKMESSAGES\") {\n    const quickemessage = action.payload;\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessage.id);\n\n    if (quickemessageIndex !== -1) {\n      state[quickemessageIndex] = quickemessage;\n      return [...state];\n    } else {\n      return [quickemessage, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUICKMESSAGE\") {\n    const quickemessageId = action.payload;\n\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessageId);\n    if (quickemessageIndex !== -1) {\n      state.splice(quickemessageIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Quickemessages = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedQuickemessage, setSelectedQuickemessage] = useState(null);\n  const [deletingQuickemessage, setDeletingQuickemessage] = useState(null);\n  const [quickemessageModalOpen, setQuickMessageDialogOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [quickemessages, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchQuickemessages();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company${companyId}-quickemessage`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUICKMESSAGES\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUICKMESSAGE\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager, user.companyId]);\n\n  const fetchQuickemessages = async () => {\n    try {\n      const companyId = localStorage.getItem(\"companyId\");\n      //const searchParam = ({ companyId, userId: user.id });\n      const { data } = await api.get(\"/quick-messages/list\", {\n        params: { companyId, userId: user.id },\n      });\n      //console.log(data);\n      dispatch({ type: \"LOAD_QUICKMESSAGES\", payload: data });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenQuickMessageDialog = () => {\n    setSelectedQuickemessage(null);\n    setQuickMessageDialogOpen(true);\n  };\n\n  const handleCloseQuickMessageDialog = () => {\n    setSelectedQuickemessage(null);\n    setQuickMessageDialogOpen(false);\n    //window.location.reload();\n    fetchQuickemessages();\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditQuickemessage = (quickemessage) => {\n    //console.log(quickemessage);\n    setSelectedQuickemessage(quickemessage);\n    setQuickMessageDialogOpen(true);\n  };\n\n  const handleDeleteQuickemessage = async (quickemessageId) => {\n    try {\n      await api.delete(`/quick-messages/${quickemessageId}`);\n      toast.success(i18n.t(\"quickemessages.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingQuickemessage(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n    fetchQuickemessages();\n    dispatch({ type: \"RESET\" });\n\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={deletingQuickemessage && `${i18n.t(\"quickMessages.confirmationModal.deleteTitle\")} ${deletingQuickemessage.shortcode}?`}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteQuickemessage(deletingQuickemessage.id)}\n      >\n        {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QuickMessageDialog\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchQuickemessages();\n        }}\n        open={quickemessageModalOpen}\n        onClose={handleCloseQuickMessageDialog}\n        aria-labelledby=\"form-dialog-title\"\n        quickemessageId={selectedQuickemessage && selectedQuickemessage.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"quickMessages.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"quickMessages.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenQuickMessageDialog}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"quickMessages.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.shortcode\")}\n              </TableCell>\n\n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.mediaName\")}\n              </TableCell>  \n              <TableCell align=\"center\">\n              {i18n.t(\"quickMessages.table.status\")}\n              </TableCell>      \n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n          <>\n          {quickemessages.map((quickemessage) => (\n            <TableRow key={quickemessage.id}>\n              <TableCell align=\"center\">{quickemessage.shortcode}</TableCell>\n              \n              <TableCell align=\"center\">\n                {quickemessage.mediaName ?? \"Sem anexo\"}\n              </TableCell>\n              <TableCell align=\"center\">\n        {quickemessage.geral === true ? (\n          <CheckCircleIcon style={{ color: 'green' }} />\n          ) : (\n          ''\n          )}\n      </TableCell>\n              <TableCell align=\"center\">\n{(profile === \"admin\" || profile === \"supervisor\" ||\n(profile === \"user\" && !quickemessage.geral)) && (\n<IconButton\nsize=\"small\"\nonClick={() => handleEditQuickemessage(quickemessage)}\n>\n<EditIcon />\n</IconButton>\n)}\n\n{(profile === \"admin\" || profile === \"supervisor\" ||\n(profile === \"user\" && !quickemessage.geral)) && (\n<IconButton\nsize=\"small\"\nonClick={(e) => {\n  setConfirmModalOpen(true);\n  setDeletingQuickemessage(quickemessage);\n}}\n>\n<DeleteOutlineIcon />\n</IconButton>\n)}\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={5} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Quickemessages;","import React, { useState, useEffect, useReducer, useContext, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport api from \"../../services/api\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport Board from 'react-trello';\nimport { toast } from \"react-toastify\";\nimport { i18n } from \"../../translate/i18n\";\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(1),\n  },\n  button: {\n    background: \"#10a110\",\n    border: \"none\",\n    padding: \"10px\",\n    color: \"white\",\n    fontWeight: \"bold\",\n    borderRadius: \"5px\",\n  },\n  \n}));\n\nconst Kanban = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [tags, setTags] = useState([]);\n  const [reloadData, setReloadData] = useState(false);\n  const [isInitialLoadComplete, setIsInitialLoadComplete] = useState(false);\n\n\n  const fetchTags = async () => {\n    try {\n      const response = await api.get(\"/tags/kanban\");\n      const fetchedTags = response.data.lista || []; \n\n      setTags(fetchedTags);\n\n      // Fetch tickets after fetching tags\n      await fetchTickets(jsonString);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchTags();\n  }, []);\n\n  const [file, setFile] = useState({\n    lanes: []\n  });\n\n\n  const [tickets, setTickets] = useState([]);\n  const { user } = useContext(AuthContext);\n  const { profile, queues } = user;\n  const jsonString = user.queues.map(queue => queue.UserQueue.queueId);\n\n  const fetchTickets = async (jsonString) => {\n    try {\n      \n      const { data } = await api.get(\"/ticket/kanban\", {\n        params: {\n          queueIds: JSON.stringify(jsonString),\n          teste: true\n        }\n      });\n      setTickets(data.tickets);\n    } catch (err) {\n      console.log(err);\n      setTickets([]);\n    }\n  };\n\n\n  const popularCards = (jsonString) => {\n    const filteredTickets = tickets.filter(ticket => ticket.tags.length === 0);\n\n    const lanes = [\n      {\n        id: \"lane0\",\n        title: i18n.t(\"Em aberto\"),\n        label: \"0\",\n        cards: filteredTickets.map(ticket => ({\n          id: ticket.id.toString(),\n          label: \"Ticket nº \" + ticket.id.toString(),\n          description: (\n              <div>\n                <p>\n                  {ticket.contact.number}\n                  <br />\n                  {ticket.lastMessage}\n                </p>\n                <button \n                  className={classes.button} \n                  onClick={() => {\n                    handleCardClick(ticket.uuid)\n                  }}>\n                    Ver Ticket\n                </button>\n              </div>\n            ),\n          title: ticket.contact.name,\n          draggable: true,\n          href: \"/tickets/\" + ticket.uuid,\n        })),\n      },\n      ...tags.map(tag => {\n        const filteredTickets = tickets.filter(ticket => {\n          const tagIds = ticket.tags.map(tag => tag.id);\n          return tagIds.includes(tag.id);\n        });\n\n        return {\n          id: tag.id.toString(),\n          title: tag.name,\n          label: tag.id.toString(),\n          cards: filteredTickets.map(ticket => ({\n            id: ticket.id.toString(),\n            label: \"Ticket nº \" + ticket.id.toString(),\n            description: (\n              <div>\n                <p>\n                  {ticket.contact.number}\n                  <br />\n                  {ticket.lastMessage}\n                </p>\n                <button \n                  className={classes.button} \n                  onClick={() => {\n                    \n                    handleCardClick(ticket.uuid)\n                  }}>\n                    Ver Ticket\n                </button>\n              </div>\n            ),\n            title: ticket.contact.name,\n            draggable: true,\n            href: \"/tickets/\" + ticket.uuid,          \n          })),\n          style: { backgroundColor: tag.color, color: \"white\" }\n        };\n      }),\n    ];\n\n    setFile({ lanes });\n  };\n\n  const handleCardClick = (uuid) => {  \n    //console.log(\"Clicked on card with UUID:\", uuid);\n    history.push('/tickets/' + uuid);\n  };\n\n  useEffect(() => {\n    popularCards(jsonString);\n}, [tags, tickets, reloadData]);\n\n  const handleCardMove = async (cardId, sourceLaneId, targetLaneId) => {\n    try {\n        \n          await api.delete(`/ticket-tags/${targetLaneId}`);\n        toast.success('Ticket Tag Removido!');\n          await api.put(`/ticket-tags/${targetLaneId}/${sourceLaneId}`);\n        toast.success('Ticket Tag Adicionado com Sucesso!');\n\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Board \n\t\tdata={file} \n\t\tonCardMoveAcrossLanes={handleCardMove}\n\t\tstyle={{backgroundColor: 'rgba(252, 252, 252, 0.03)'}}\n    />\n    </div>\n  );\n};\n\n\nexport default Kanban;\n","import React, { useContext } from \"react\";\nimport { Route as RouterRoute, Redirect } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\n\nconst Route = ({ component: Component, isPrivate = false, ...rest }) => {\n\tconst { isAuth, loading } = useContext(AuthContext);\n\n\tif (!isAuth && isPrivate) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{loading && <BackdropLoading />}\n\t\t\t\t<Redirect to={{ pathname: \"/login\", state: { from: rest.location } }} />\n\t\t\t</>\n\t\t);\n\t}\n\n\tif (isAuth && !isPrivate) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{loading && <BackdropLoading />}\n\t\t\t\t<Redirect to={{ pathname: \"/\", state: { from: rest.location } }} />;\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <BackdropLoading />}\n\t\t\t<RouterRoute {...rest} component={Component} />\n\t\t</>\n\t);\n};\n\nexport default Route;\n","import React, { useState, useEffect, useReducer, useCallback, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport ScheduleModal from \"../../components/ScheduleModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport moment from \"moment\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport \"moment/locale/pt-br\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport \"./Schedules.css\"; // Importe o arquivo CSS\n\n// Defina a função getUrlParam antes de usá-la\nfunction getUrlParam(paramName) {\n  const searchParams = new URLSearchParams(window.location.search);\n  return searchParams.get(paramName);\n}\n\nconst eventTitleStyle = {\n  fontSize: \"14px\", // Defina um tamanho de fonte menor\n  overflow: \"hidden\", // Oculte qualquer conteúdo excedente\n  whiteSpace: \"nowrap\", // Evite a quebra de linha do texto\n  textOverflow: \"ellipsis\", // Exiba \"...\" se o texto for muito longo\n};\n\nconst localizer = momentLocalizer(moment);\nvar defaultMessages = {\n  date: \"Data\",\n  time: \"Hora\",\n  event: \"Evento\",\n  allDay: \"Dia Todo\",\n  week: \"Semana\",\n  work_week: \"Agendamentos\",\n  day: \"Dia\",\n  month: \"Mês\",\n  previous: \"Anterior\",\n  next: \"Próximo\",\n  yesterday: \"Ontem\",\n  tomorrow: \"Amanhã\",\n  today: \"Hoje\",\n  agenda: \"Agenda\",\n  noEventsInRange: \"Não há agendamentos no período.\",\n  showMore: function showMore(total) {\n    return \"+\" + total + \" mais\";\n  }\n};\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_SCHEDULES\") {\n    return [...state, ...action.payload];\n  }\n\n  if (action.type === \"UPDATE_SCHEDULES\") {\n    const schedule = action.payload;\n    const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n\n    if (scheduleIndex !== -1) {\n      state[scheduleIndex] = schedule;\n      return [...state];\n    } else {\n      return [schedule, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_SCHEDULE\") {\n    const scheduleId = action.payload;\n    return state.filter((s) => s.id !== scheduleId);\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n\n  return state;\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Schedules = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedSchedule, setSelectedSchedule] = useState(null);\n  const [deletingSchedule, setDeletingSchedule] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [schedules, dispatch] = useReducer(reducer, []);\n  const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n  const [contactId, setContactId] = useState(+getUrlParam(\"contactId\"));\n\n\n  const fetchSchedules = useCallback(async () => {\n    try {\n      const { data } = await api.get(\"/schedules/\", {\n        params: { searchParam, pageNumber },\n      });\n\n      dispatch({ type: \"LOAD_SCHEDULES\", payload: data.schedules });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  const handleOpenScheduleModalFromContactId = useCallback(() => {\n    if (contactId) {\n      handleOpenScheduleModal();\n    }\n  }, [contactId]);\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchSchedules();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [\n    searchParam,\n    pageNumber,\n    contactId,\n    fetchSchedules,\n    handleOpenScheduleModalFromContactId,\n  ]);\n\n  useEffect(() => {\n    handleOpenScheduleModalFromContactId();\n    const socket = socketManager.getSocket(user.companyId);\n\n    socket.on(`company${user.companyId}-schedule`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_SCHEDULES\", payload: data.schedule });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_SCHEDULE\", payload: +data.scheduleId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [handleOpenScheduleModalFromContactId, socketManager, user]);\n\n  const cleanContact = () => {\n    setContactId(\"\");\n  };\n\n  const handleOpenScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(true);\n  };\n\n  const handleCloseScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditSchedule = (schedule) => {\n    setSelectedSchedule(schedule);\n    setScheduleModalOpen(true);\n  };\n\n  const handleDeleteSchedule = async (scheduleId) => {\n    try {\n      await api.delete(`/schedules/${scheduleId}`);\n      toast.success(i18n.t(\"schedules.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingSchedule(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchSchedules();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const truncate = (str, len) => {\n    if (str.length > len) {\n      return str.substring(0, len) + \"...\";\n    }\n    return str;\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingSchedule &&\n          `${i18n.t(\"schedules.confirmationModal.deleteTitle\")}`\n        }\n        open={confirmModalOpen}\n        onClose={() => setConfirmModalOpen(false)}\n        onConfirm={() => handleDeleteSchedule(deletingSchedule.id)}\n      >\n        {i18n.t(\"schedules.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <ScheduleModal\n        open={scheduleModalOpen}\n        onClose={handleCloseScheduleModal}\n        reload={fetchSchedules}\n        aria-labelledby=\"form-dialog-title\"\n        scheduleId={selectedSchedule && selectedSchedule.id}\n        contactId={contactId}\n        cleanContact={cleanContact}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"schedules.title\")} ({schedules.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenScheduleModal}\n          >\n            {i18n.t(\"schedules.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\" onScroll={handleScroll}>\n        <Calendar\n          messages={defaultMessages}\n          formats={{\n          agendaDateFormat: \"DD/MM ddd\",\n          weekdayFormat: \"dddd\"\n      }}\n          localizer={localizer}\n          events={schedules.map((schedule) => ({\n            title: (\n              <div className=\"event-container\">\n                <div style={eventTitleStyle}>{schedule.contact.name}</div>\n                <DeleteOutlineIcon\n                  onClick={() => handleDeleteSchedule(schedule.id)}\n                  className=\"delete-icon\"\n                />\n                <EditIcon\n                  onClick={() => {\n                    handleEditSchedule(schedule);\n                    setScheduleModalOpen(true);\n                  }}\n                  className=\"edit-icon\"\n                />\n              </div>\n            ),\n            start: new Date(schedule.sendAt),\n            end: new Date(schedule.sendAt),\n          }))}\n          startAccessor=\"start\"\n          endAccessor=\"end\"\n          style={{ height: 500 }}\n        />\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Schedules;","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport { Field, Form, Formik } from \"formik\";\nimport { head } from \"lodash\";\nimport { toast } from \"react-toastify\";\nimport * as Yup from \"yup\";\n\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { green } from \"@material-ui/core/colors\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\n\nimport moment from \"moment\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport {\n  Box,\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n  Tab,\n  Tabs,\n} from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    backgroundColor: \"#fff\"\n  },\n\n  tabmsg: {\n    backgroundColor: theme.palette.campaigntab,\n  },\n\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst CampaignSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst CampaignModal = ({\n  open,\n  onClose,\n  campaignId,\n  initialValues,\n  onSave,\n  resetPagination,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n  const { user } = useContext(AuthContext);\n  const { companyId } = user;\n  const [file, setFile] = useState(null);\n\n  const initialState = {\n    name: \"\",\n    message1: \"\",\n    message2: \"\",\n    message3: \"\",\n    message4: \"\",\n    message5: \"\",\n    confirmationMessage1: \"\",\n    confirmationMessage2: \"\",\n    confirmationMessage3: \"\",\n    confirmationMessage4: \"\",\n    confirmationMessage5: \"\",\n    status: \"INATIVA\", // INATIVA, PROGRAMADA, EM_ANDAMENTO, CANCELADA, FINALIZADA,\n    confirmation: false,\n    scheduledAt: \"\",\n    whatsappId: \"\",\n    contactListId: \"\",\n    tagListId: \"Nenhuma\",\n    companyId,\n  };\n\n  const [campaign, setCampaign] = useState(initialState);\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [contactLists, setContactLists] = useState([]);\n  const [messageTab, setMessageTab] = useState(0);\n  const [attachment, setAttachment] = useState(null);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [campaignEditable, setCampaignEditable] = useState(true);\n  const attachmentFile = useRef(null);\n  const [tagLists, setTagLists] = useState([]);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/files/\", {\n          params: { companyId }\n        });\n\n        setFile(data.files);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      if (initialValues) {\n        setCampaign((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      api\n        .get(`/contact-lists/list`, { params: { companyId } })\n        .then(({ data }) => setContactLists(data));\n\n      api\n        .get(`/whatsapp`, { params: { companyId, session: 0 } })\n        .then(({ data }) => setWhatsapps(data));\n\n      api.get(`/tags`, { params: { companyId } })\n        .then(({ data }) => {\n          const fetchedTags = data.tags;\n          // Perform any necessary data transformation here\n          const formattedTagLists = fetchedTags.map((tag) => ({\n            id: tag.id,\n            name: tag.name,\n          }));\n          setTagLists(formattedTagLists);\n        })\n        .catch((error) => {\n          console.error(\"Error retrieving tags:\", error);\n        });\n        \n      if (!campaignId) return;\n\n      api.get(`/campaigns/${campaignId}`).then(({ data }) => {\n        setCampaign((prev) => {\n          let prevCampaignData = Object.assign({}, prev);\n\n          Object.entries(data).forEach(([key, value]) => {\n            if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\n              prevCampaignData[key] = moment(value).format(\"YYYY-MM-DDTHH:mm\");\n            } else {\n              prevCampaignData[key] = value === null ? \"\" : value;\n            }\n          });\n\n          return prevCampaignData;\n        });\n      });\n    }\n  }, [campaignId, open, initialValues, companyId]);\n\n  useEffect(() => {\n    const now = moment();\n    const scheduledAt = moment(campaign.scheduledAt);\n    const moreThenAnHour =\n      !Number.isNaN(scheduledAt.diff(now)) && scheduledAt.diff(now, \"hour\") > 1;\n    const isEditable =\n      campaign.status === \"INATIVA\" ||\n      (campaign.status === \"PROGRAMADA\" && moreThenAnHour);\n\n    setCampaignEditable(isEditable);\n  }, [campaign.status, campaign.scheduledAt]);\n\n  const handleClose = () => {\n    onClose();\n    setCampaign(initialState);\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const handleSaveCampaign = async (values) => {\n    try {\n      const dataValues = {};\n      Object.entries(values).forEach(([key, value]) => {\n        if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\n          dataValues[key] = moment(value).format(\"YYYY-MM-DD HH:mm:ss\");\n        } else {\n          dataValues[key] = value === \"\" ? null : value;\n        }\n      });\n\n      if (campaignId) {\n        await api.put(`/campaigns/${campaignId}`, dataValues);\n\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/campaigns/${campaignId}/media-upload`, formData);\n        }\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/campaigns\", dataValues);\n\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/campaigns/${data.id}/media-upload`, formData);\n        }\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"campaigns.toasts.success\"));\n    } catch (err) {\n      console.log(err);\n      toastError(err);\n    }\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (campaign.mediaPath) {\n      await api.delete(`/campaigns/${campaign.id}/media-upload`);\n      setCampaign((prev) => ({ ...prev, mediaPath: null, mediaName: null }));\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\n    }\n  };\n\n  const renderMessageField = (identifier) => {\n    return (\n      <Field\n        as={TextField}\n        id={identifier}\n        name={identifier}\n        fullWidth\n        rows={5}\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\n        multiline={true}\n        variant=\"outlined\"\n        helperText=\"Utilize variáveis como {nome}, {numero}, {email} ou defina variáveis personalziadas.\"\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\n      />\n    );\n  };\n\n  const renderConfirmationMessageField = (identifier) => {\n    return (\n      <Field\n        as={TextField}\n        id={identifier}\n        name={identifier}\n        fullWidth\n        rows={5}\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\n        multiline={true}\n        variant=\"outlined\"\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\n      />\n    );\n  };\n\n  const cancelCampaign = async () => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/cancel`);\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\n      setCampaign((prev) => ({ ...prev, status: \"CANCELADA\" }));\n      resetPagination();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const restartCampaign = async () => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/restart`);\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\n      setCampaign((prev) => ({ ...prev, status: \"EM_ANDAMENTO\" }));\n      resetPagination();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        fullWidth\n        maxWidth=\"md\"\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {campaignEditable ? (\n            <>\n              {campaignId\n                ? `${i18n.t(\"campaigns.dialog.update\")}`\n                : `${i18n.t(\"campaigns.dialog.new\")}`}\n            </>\n          ) : (\n            <>{`${i18n.t(\"campaigns.dialog.readonly\")}`}</>\n          )}\n        </DialogTitle>\n        <div style={{ display: \"none\" }}>\n          <input\n            type=\"file\"\n            ref={attachmentFile}\n            onChange={(e) => handleAttachmentFile(e)}\n          />\n        </div>\n        <Formik\n          initialValues={campaign}\n          enableReinitialize={true}\n          validationSchema={CampaignSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveCampaign(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <Grid spacing={2} container>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"campaigns.dialog.form.name\")}\n                      name=\"name\"\n                      error={touched.name && Boolean(errors.name)}\n                      helperText={touched.name && errors.name}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.textField}\n                      disabled={!campaignEditable}\n                    />\n                  </Grid>\n                  {/* <Grid xs={12} md={3} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"confirmation-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.confirmation\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.confirmation\")}\n                        placeholder={i18n.t(\n                          \"campaigns.dialog.form.confirmation\"\n                        )}\n                        labelId=\"confirmation-selection-label\"\n                        id=\"confirmation\"\n                        name=\"confirmation\"\n                        error={\n                          touched.confirmation && Boolean(errors.confirmation)\n                        }\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value={false}>Desabilitada</MenuItem>\n                        <MenuItem value={true}>Habilitada</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid> */}\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"contactList-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.contactList\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.contactList\")}\n                        placeholder={i18n.t(\n                          \"campaigns.dialog.form.contactList\"\n                        )}\n                        labelId=\"contactList-selection-label\"\n                        id=\"contactListId\"\n                        name=\"contactListId\"\n                        error={\n                          touched.contactListId && Boolean(errors.contactListId)\n                        }\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {contactLists &&\n                          contactLists.map((contactList) => (\n                            <MenuItem\n                              key={contactList.id}\n                              value={contactList.id}\n                            >\n                              {contactList.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"tagList-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.tagList\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.tagList\")}\n                        placeholder={i18n.t(\"campaigns.dialog.form.tagList\")}\n                        labelId=\"tagList-selection-label\"\n                        id=\"tagListId\"\n                        name=\"tagListId\"\n                        error={touched.tagListId && Boolean(errors.tagListId)}\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {Array.isArray(tagLists) &&\n                          tagLists.map((tagList) => (\n                            <MenuItem key={tagList.id} value={tagList.id}>\n                              {tagList.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"whatsapp-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                        placeholder={i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                        labelId=\"whatsapp-selection-label\"\n                        id=\"whatsappId\"\n                        name=\"whatsappId\"\n                        error={touched.whatsappId && Boolean(errors.whatsappId)}\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {whatsapps &&\n                          whatsapps.map((whatsapp) => (\n                            <MenuItem key={whatsapp.id} value={whatsapp.id}>\n                              {whatsapp.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"campaigns.dialog.form.scheduledAt\")}\n                      name=\"scheduledAt\"\n                      error={touched.scheduledAt && Boolean(errors.scheduledAt)}\n                      helperText={touched.scheduledAt && errors.scheduledAt}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      type=\"datetime-local\"\n                      InputLabelProps={{\n                        shrink: true,\n                      }}\n                      fullWidth\n                      className={classes.textField}\n                      disabled={!campaignEditable}\n                    />\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                  <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.FormControl}\n                      fullWidth\n                    >\n                      <InputLabel id=\"fileListId-selection-label\">{i18n.t(\"campaigns.dialog.form.fileList\")}</InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.fileList\")}\n                        name=\"fileListId\"\n                        id=\"fileListId\"\n                        placeholder={i18n.t(\"campaigns.dialog.form.fileList\")}\n                        labelId=\"fileListId-selection-label\"\n                        value={values.fileListId || \"\"}\n                      >\n                        <MenuItem value={\"\"} >{\"Nenhum\"}</MenuItem>\n                        {file.map(f => (\n                          <MenuItem key={f.id} value={f.id}>\n                            {f.name}\n                          </MenuItem>\n                        ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} item>\n                    <Tabs\n                      value={messageTab}\n                      indicatorColor=\"primary\"\n                      textColor=\"primary\"\n                      className={classes.tabmsg}\n                      onChange={(e, v) => setMessageTab(v)}\n                      variant=\"fullWidth\"\n                      centered\n                      style={{\n                        borderRadius: 2,\n                      }}\n                    >\n                      <Tab label=\"Msg. 1\" index={0} />\n                      <Tab label=\"Msg. 2\" index={1} />\n                      <Tab label=\"Msg. 3\" index={2} />\n                      <Tab label=\"Msg. 4\" index={3} />\n                      <Tab label=\"Msg. 5\" index={4} />\n                    </Tabs>\n                    <Box style={{ paddingTop: 20, border: \"none\" }}>\n                      {messageTab === 0 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message1\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage1\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message1\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 1 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message2\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage2\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message2\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 2 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message3\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage3\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message3\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 3 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message4\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage4\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message4\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 4 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message5\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage5\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message5\")}</>\n                          )}\n                        </>\n                      )}\n                    </Box>\n                  </Grid>\n                  {(campaign.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFileIcon />}>\n                        {attachment != null\n                          ? attachment.name\n                          : campaign.mediaName}\n                      </Button>\n                      {campaignEditable && (\n                        <IconButton\n                          onClick={() => setConfirmationOpen(true)}\n                          color=\"secondary\"\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    </Grid>\n                  )}\n                </Grid>\n              </DialogContent>\n              <DialogActions>\n                {campaign.status === \"CANCELADA\" && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => restartCampaign()}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.restart\")}\n                  </Button>\n                )}\n                {campaign.status === \"EM_ANDAMENTO\" && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => cancelCampaign()}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.cancel\")}\n                  </Button>\n                )}\n                {!attachment && !campaign.mediaPath && campaignEditable && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => attachmentFile.current.click()}\n                    disabled={isSubmitting}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.attach\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"campaigns.dialog.buttons.close\")}\n                </Button>\n                {(campaignEditable || campaign.status === \"CANCELADA\") && (\n                  <Button\n                    type=\"submit\"\n                    color=\"primary\"\n                    disabled={isSubmitting}\n                    variant=\"contained\"\n                    className={classes.btnWrapper}\n                  >\n                    {campaignId\n                      ? `${i18n.t(\"campaigns.dialog.buttons.edit\")}`\n                      : `${i18n.t(\"campaigns.dialog.buttons.add\")}`}\n                    {isSubmitting && (\n                      <CircularProgress\n                        size={24}\n                        className={classes.buttonProgress}\n                      />\n                    )}\n                  </Button>\n                )}\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default CampaignModal;\n","/* eslint-disable no-unused-vars */\n\nimport React, { useContext, useEffect, useReducer, useState } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport CampaignModal from \"../../components/CampaignModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport toastError from \"../../errors/toastError\";\nimport { useDate } from \"../../hooks/useDate\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CAMPAIGNS\") {\n    const campaigns = action.payload;\n    const newCampaigns = [];\n\n    if (isArray(campaigns)) {\n      campaigns.forEach((campaign) => {\n        const campaignIndex = state.findIndex((u) => u.id === campaign.id);\n        if (campaignIndex !== -1) {\n          state[campaignIndex] = campaign;\n        } else {\n          newCampaigns.push(campaign);\n        }\n      });\n    }\n\n    return [...state, ...newCampaigns];\n  }\n\n  if (action.type === \"UPDATE_CAMPAIGNS\") {\n    const campaign = action.payload;\n    const campaignIndex = state.findIndex((u) => u.id === campaign.id);\n\n    if (campaignIndex !== -1) {\n      state[campaignIndex] = campaign;\n      return [...state];\n    } else {\n      return [campaign, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CAMPAIGN\") {\n    const campaignId = action.payload;\n\n    const campaignIndex = state.findIndex((u) => u.id === campaignId);\n    if (campaignIndex !== -1) {\n      state.splice(campaignIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Campaigns = () => {\n  const classes = useStyles();\n\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\n  const [deletingCampaign, setDeletingCampaign] = useState(null);\n  const [campaignModalOpen, setCampaignModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [campaigns, dispatch] = useReducer(reducer, []);\n\n  const { datetimeToClient } = useDate();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchCampaigns();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-campaign`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CAMPAIGNS\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CAMPAIGN\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager]);\n\n  const fetchCampaigns = async () => {\n    try {\n      const { data } = await api.get(\"/campaigns/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CAMPAIGNS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(true);\n  };\n\n  const handleCloseCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditCampaign = (campaign) => {\n    setSelectedCampaign(campaign);\n    setCampaignModalOpen(true);\n  };\n\n  const handleDeleteCampaign = async (campaignId) => {\n    try {\n      await api.delete(`/campaigns/${campaignId}`);\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingCampaign(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const formatStatus = (val) => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n\n  const cancelCampaign = async (campaign) => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/cancel`);\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const restartCampaign = async (campaign) => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/restart`);\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingCampaign &&\n          `${i18n.t(\"campaigns.confirmationModal.deleteTitle\")} ${\n            deletingCampaign.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteCampaign(deletingCampaign.id)}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <CampaignModal\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchCampaigns();\n        }}\n        open={campaignModalOpen}\n        onClose={handleCloseCampaignModal}\n        aria-labelledby=\"form-dialog-title\"\n        campaignId={selectedCampaign && selectedCampaign.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"campaigns.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"campaigns.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenCampaignModal}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"campaigns.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.contactList\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.scheduledAt\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.completedAt\")}\n              </TableCell>\n              {/* <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.confirmation\")}\n              </TableCell> */}\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {campaigns.map((campaign) => (\n                <TableRow key={campaign.id}>\n                  <TableCell align=\"center\">{campaign.name}</TableCell>\n                  <TableCell align=\"center\">\n                    {formatStatus(campaign.status)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.contactListId\n                      ? campaign.contactList.name\n                      : \"Não definida\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.whatsappId\n                      ? campaign.whatsapp.name\n                      : \"Não definido\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.scheduledAt\n                      ? datetimeToClient(campaign.scheduledAt)\n                      : \"Sem agendamento\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.completedAt\n                      ? datetimeToClient(campaign.completedAt)\n                      : \"Não concluída\"}\n                  </TableCell>\n                  {/* <TableCell align=\"center\">\n                    {campaign.confirmation ? \"Habilitada\" : \"Desabilitada\"}\n                  </TableCell> */}\n                  <TableCell align=\"center\">\n                    {campaign.status === \"EM_ANDAMENTO\" && (\n                      <IconButton\n                        onClick={() => cancelCampaign(campaign)}\n                        title=\"Parar Campanha\"\n                        size=\"small\"\n                      >\n                        <PauseCircleOutlineIcon />\n                      </IconButton>\n                    )}\n                    {campaign.status === \"CANCELADA\" && (\n                      <IconButton\n                        onClick={() => restartCampaign(campaign)}\n                        title=\"Parar Campanha\"\n                        size=\"small\"\n                      >\n                        <PlayCircleOutlineIcon />\n                      </IconButton>\n                    )}\n                    <IconButton\n                      onClick={() =>\n                        history.push(`/campaign/${campaign.id}/report`)\n                      }\n                      size=\"small\"\n                    >\n                      <DescriptionIcon />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditCampaign(campaign)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingCampaign(campaign);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={8} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Campaigns;\n","import React, { useEffect, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { toast } from \"react-toastify\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport api from \"../../services/api\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport {\n  Box,\n  Button,\n  FormControl,\n  Grid,\n  IconButton,\n  InputLabel,\n  MenuItem,\n  Select,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  tabPanelsContainer: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst initialSettings = {\n  messageInterval: 20,\n  longerIntervalAfter: 20,\n  greaterInterval: 60,\n  variables: [],\n};\n\nconst CampaignsConfig = () => {\n  const classes = useStyles();\n\n  const [settings, setSettings] = useState(initialSettings);\n  const [showVariablesForm, setShowVariablesForm] = useState(false);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [selectedKey, setSelectedKey] = useState(null);\n  const [variable, setVariable] = useState({ key: \"\", value: \"\" });\n\n  useEffect(() => {\n    api.get(\"/campaign-settings\").then(({ data }) => {\n      const settingsList = [];\n      if (Array.isArray(data) && data.length > 0) {\n        data.forEach((item) => {\n          settingsList.push([item.key, JSON.parse(item.value)]);\n        });\n        setSettings(Object.fromEntries(settingsList));\n      }\n    });\n  }, []);\n\n  const handleOnChangeVariable = (e) => {\n    if (e.target.value !== null) {\n      const changedProp = {};\n      changedProp[e.target.name] = e.target.value;\n      setVariable((prev) => ({ ...prev, ...changedProp }));\n    }\n  };\n\n  const handleOnChangeSettings = (e) => {\n    const changedProp = {};\n    changedProp[e.target.name] = e.target.value;\n    setSettings((prev) => ({ ...prev, ...changedProp }));\n  };\n\n  const addVariable = () => {\n    setSettings((prev) => {\n      const variablesExists = settings.variables.filter(\n        (v) => v.key === variable.key\n      );\n      const variables = prev.variables;\n      if (variablesExists.length === 0) {\n        variables.push(Object.assign({}, variable));\n        setVariable({ key: \"\", value: \"\" });\n      }\n      return { ...prev, variables };\n    });\n  };\n\n  const removeVariable = () => {\n    const newList = settings.variables.filter((v) => v.key !== selectedKey);\n    setSettings((prev) => ({ ...prev, variables: newList }));\n    setSelectedKey(null);\n  };\n\n  const saveSettings = async () => {\n    await api.post(\"/campaign-settings\", { settings });\n    toast.success(\"Configurações salvas\");\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={removeVariable}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} item>\n            <Title>{i18n.t(\"campaignsConfig.title\")}</Title>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Box className={classes.tabPanelsContainer}>\n          <Grid spacing={2} container>\n            <Grid xs={12} item>\n              <Typography component={\"h3\"}>Intervalos</Typography>\n            </Grid>\n            <Grid xs={12} md={4} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"messageInterval-label\">\n                  Intervalo Randômico de Disparo\n                </InputLabel>\n                <Select\n                  name=\"messageInterval\"\n                  id=\"messageInterval\"\n                  labelId=\"messageInterval-label\"\n                  label=\"Intervalo Randômico de Disparo\"\n                  value={settings.messageInterval}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\n                  <MenuItem value={5}>5 segundos</MenuItem>\n                  <MenuItem value={10}>10 segundos</MenuItem>\n                  <MenuItem value={15}>15 segundos</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={4} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"longerIntervalAfter-label\">\n                  Intervalo Maior Após\n                </InputLabel>\n                <Select\n                  name=\"longerIntervalAfter\"\n                  id=\"longerIntervalAfter\"\n                  labelId=\"longerIntervalAfter-label\"\n                  label=\"Intervalo Maior Após\"\n                  value={settings.longerIntervalAfter}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Não definido</MenuItem>\n                  <MenuItem value={1}>1 segundo</MenuItem>\n                  <MenuItem value={5}>5 segundos</MenuItem>\n                  <MenuItem value={10}>10 segundos</MenuItem>\n                  <MenuItem value={15}>15 segundos</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                  <MenuItem value={30}>30 segundos</MenuItem>\n                  <MenuItem value={40}>40 segundos</MenuItem>\n                  <MenuItem value={60}>60 segundos</MenuItem>\n                  <MenuItem value={80}>80 segundos</MenuItem>\n                  <MenuItem value={100}>100 segundos</MenuItem>\n                  <MenuItem value={120}>120 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={4} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"greaterInterval-label\">\n                  Intervalo de Disparo Maior\n                </InputLabel>\n                <Select\n                  name=\"greaterInterval\"\n                  id=\"greaterInterval\"\n                  labelId=\"greaterInterval-label\"\n                  label=\"Intervalo de Disparo Maior\"\n                  value={settings.greaterInterval}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\n                  <MenuItem value={1}>1 segundo</MenuItem>\n                  <MenuItem value={5}>5 segundos</MenuItem>\n                  <MenuItem value={10}>10 segundos</MenuItem>\n                  <MenuItem value={15}>15 segundos</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                  <MenuItem value={30}>30 segundos</MenuItem>\n                  <MenuItem value={40}>40 segundos</MenuItem>\n                  <MenuItem value={60}>60 segundos</MenuItem>\n                  <MenuItem value={80}>80 segundos</MenuItem>\n                  <MenuItem value={100}>100 segundos</MenuItem>\n                  <MenuItem value={120}>120 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} className={classes.textRight} item>\n              <Button\n                onClick={() => setShowVariablesForm(!showVariablesForm)}\n                color=\"primary\"\n                style={{ marginRight: 10 }}\n              >\n                Adicionar Variável\n              </Button>\n              <Button\n                onClick={saveSettings}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Salvar Configurações\n              </Button>\n            </Grid>\n            {showVariablesForm && (\n              <>\n                <Grid xs={12} md={6} item>\n                  <TextField\n                    label=\"Atalho\"\n                    variant=\"outlined\"\n                    value={variable.key}\n                    name=\"key\"\n                    onChange={handleOnChangeVariable}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid xs={12} md={6} item>\n                  <TextField\n                    label=\"Conteúdo\"\n                    variant=\"outlined\"\n                    value={variable.value}\n                    name=\"value\"\n                    onChange={handleOnChangeVariable}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid xs={12} className={classes.textRight} item>\n                  <Button\n                    onClick={() => setShowVariablesForm(!showVariablesForm)}\n                    color=\"primary\"\n                    style={{ marginRight: 10 }}\n                  >\n                    Fechar\n                  </Button>\n                  <Button\n                    onClick={addVariable}\n                    color=\"primary\"\n                    variant=\"contained\"\n                  >\n                    Adicionar\n                  </Button>\n                </Grid>\n              </>\n            )}\n            {settings.variables.length > 0 && (\n              <Grid xs={12} className={classes.textRight} item>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell style={{ width: \"1%\" }}></TableCell>\n                      <TableCell>Atalho</TableCell>\n                      <TableCell>Conteúdo</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {Array.isArray(settings.variables) &&\n                      settings.variables.map((v, k) => (\n                        <TableRow key={k}>\n                          <TableCell>\n                            <IconButton\n                              size=\"small\"\n                              onClick={() => {\n                                setSelectedKey(v.key);\n                                setConfirmationOpen(true);\n                              }}\n                            >\n                              <DeleteOutlineIcon />\n                            </IconButton>\n                          </TableCell>\n                          <TableCell>{\"{\" + v.key + \"}\"}</TableCell>\n                          <TableCell>{v.value}</TableCell>\n                        </TableRow>\n                      ))}\n                  </TableBody>\n                </Table>\n              </Grid>\n            )}\n          </Grid>\n        </Box>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default CampaignsConfig;\n","import React, { useEffect, useRef, useState, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport { Grid, LinearProgress, Typography } from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { has, get, isNull } from \"lodash\";\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport ListAltIcon from \"@material-ui/icons/ListAlt\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  tabPanelsContainer: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst CampaignReport = () => {\n  const classes = useStyles();\n\n  const { campaignId } = useParams();\n\n  const [campaign, setCampaign] = useState({});\n  const [validContacts, setValidContacts] = useState(0);\n  const [delivered, setDelivered] = useState(0);\n  const [confirmationRequested, setConfirmationRequested] = useState(0);\n  const [confirmed, setConfirmed] = useState(0);\n  const [percent, setPercent] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const mounted = useRef(true);\n\n  const { datetimeToClient } = useDate();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    if (mounted.current) {\n      findCampaign();\n    }\n\n    return () => {\n      mounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (mounted.current && has(campaign, \"shipping\")) {\n      if (has(campaign, \"contactList\")) {\n        const contactList = get(campaign, \"contactList\");\n        const valids = contactList.contacts.filter((c) => c.isWhatsappValid);\n        setValidContacts(valids.length);\n      }\n\n      if (has(campaign, \"shipping\")) {\n        const contacts = get(campaign, \"shipping\");\n        const delivered = contacts.filter((c) => !isNull(c.deliveredAt));\n        const confirmationRequested = contacts.filter(\n          (c) => !isNull(c.confirmationRequestedAt)\n        );\n        const confirmed = contacts.filter(\n          (c) => !isNull(c.deliveredAt) && !isNull(c.confirmationRequestedAt)\n        );\n        setDelivered(delivered.length);\n        setConfirmationRequested(confirmationRequested.length);\n        setConfirmed(confirmed.length);\n        setDelivered(delivered.length);\n      }\n    }\n  }, [campaign]);\n\n  useEffect(() => {\n    setPercent((delivered / validContacts) * 100);\n  }, [delivered, validContacts]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-campaign`, (data) => {\n     \n      if (data.record.id === +campaignId) {\n        setCampaign(data.record);\n\n        if (data.record.status === \"FINALIZADA\") {\n          setTimeout(() => {\n            findCampaign();\n          }, 5000);\n        }\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [campaignId, socketManager]);\n\n  const findCampaign = async () => {\n    setLoading(true);\n    const { data } = await api.get(`/campaigns/${campaignId}`);\n    setCampaign(data);\n    setLoading(false);\n  };\n\n  const formatStatus = (val) => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n\n  return (\n    <MainContainer>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} item>\n            <Title>Relatório da {campaign.name || \"Campanha\"}</Title>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Typography variant=\"h6\" component=\"h2\">\n          Status: {formatStatus(campaign.status)} {delivered} de {validContacts}\n        </Typography>\n        <Grid spacing={2} container>\n          <Grid xs={12} item>\n            <LinearProgress\n              variant=\"determinate\"\n              style={{ height: 15, borderRadius: 3, margin: \"20px 0\" }}\n              value={percent}\n            />\n          </Grid>\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<GroupIcon fontSize=\"inherit\" />}\n              title=\"Contatos Válidos\"\n              value={validContacts}\n              loading={loading}\n            />\n          </Grid>\n          {campaign.confirmation && (\n            <>\n              <Grid xs={12} md={4} item>\n                <CardCounter\n                  icon={<DoneIcon fontSize=\"inherit\" />}\n                  title=\"Confirmações Solicitadas\"\n                  value={confirmationRequested}\n                  loading={loading}\n                />\n              </Grid>\n              <Grid xs={12} md={4} item>\n                <CardCounter\n                  icon={<DoneAllIcon fontSize=\"inherit\" />}\n                  title=\"Confirmações\"\n                  value={confirmed}\n                  loading={loading}\n                />\n              </Grid>\n            </>\n          )}\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<CheckCircleIcon fontSize=\"inherit\" />}\n              title=\"Entregues\"\n              value={delivered}\n              loading={loading}\n            />\n          </Grid>\n          {campaign.whatsappId && (\n            <Grid xs={12} md={4} item>\n              <CardCounter\n                icon={<WhatsAppIcon fontSize=\"inherit\" />}\n                title=\"Conexão\"\n                value={campaign.whatsapp.name}\n                loading={loading}\n              />\n            </Grid>\n          )}\n          {campaign.contactListId && (\n            <Grid xs={12} md={4} item>\n              <CardCounter\n                icon={<ListAltIcon fontSize=\"inherit\" />}\n                title=\"Lista de Contatos\"\n                value={campaign.contactList.name}\n                loading={loading}\n              />\n            </Grid>\n          )}\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<ScheduleIcon fontSize=\"inherit\" />}\n              title=\"Agendamento\"\n              value={datetimeToClient(campaign.scheduledAt)}\n              loading={loading}\n            />\n          </Grid>\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<EventAvailableIcon fontSize=\"inherit\" />}\n              title=\"Conclusão\"\n              value={datetimeToClient(campaign.completedAt)}\n              loading={loading}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default CampaignReport;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { head } from \"lodash\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst AnnouncementSchema = Yup.object().shape({\n  title: Yup.string().required(\"Obrigatório\"),\n  text: Yup.string().required(\"Obrigatório\"),\n});\n\nconst AnnouncementModal = ({ open, onClose, announcementId, reload }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    title: \"\",\n    text: \"\",\n    priority: 3,\n    status: true,\n  };\n\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [announcement, setAnnouncement] = useState(initialState);\n  const [attachment, setAttachment] = useState(null);\n  const attachmentFile = useRef(null);\n\n  useEffect(() => {\n    try {\n      (async () => {\n        if (!announcementId) return;\n\n        const { data } = await api.get(`/announcements/${announcementId}`);\n        setAnnouncement((prevState) => {\n          return { ...prevState, ...data };\n        });\n      })();\n    } catch (err) {\n      toastError(err);\n    }\n  }, [announcementId, open]);\n\n  const handleClose = () => {\n    setAnnouncement(initialState);\n    setAttachment(null);\n    onClose();\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const handleSaveAnnouncement = async (values) => {\n    const announcementData = { ...values };\n    try {\n      if (announcementId) {\n        await api.put(`/announcements/${announcementId}`, announcementData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(\n            `/announcements/${announcementId}/media-upload`,\n            formData\n          );\n        }\n      } else {\n        const { data } = await api.post(\"/announcements\", announcementData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/announcements/${data.id}/media-upload`, formData);\n        }\n      }\n      toast.success(i18n.t(\"announcements.toasts.success\"));\n      if (typeof reload == \"function\") {\n        reload();\n      }\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (announcement.mediaPath) {\n      await api.delete(`/announcements/${announcement.id}/media-upload`);\n      setAnnouncement((prev) => ({\n        ...prev,\n        mediaPath: null,\n      }));\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\n      if (typeof reload == \"function\") {\n        reload();\n      }\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={i18n.t(\"announcements.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {announcementId\n            ? `${i18n.t(\"announcements.dialog.edit\")}`\n            : `${i18n.t(\"announcements.dialog.add\")}`}\n        </DialogTitle>\n        <div style={{ display: \"none\" }}>\n          <input\n            type=\"file\"\n            accept=\".png,.jpg,.jpeg\"\n            ref={attachmentFile}\n            onChange={(e) => handleAttachmentFile(e)}\n          />\n        </div>\n        <Formik\n          initialValues={announcement}\n          enableReinitialize={true}\n          validationSchema={AnnouncementSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveAnnouncement(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting, values }) => (\n            <Form>\n              <DialogContent dividers>\n                <Grid spacing={2} container>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"announcements.dialog.form.title\")}\n                      name=\"title\"\n                      error={touched.title && Boolean(errors.title)}\n                      helperText={touched.title && errors.title}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"announcements.dialog.form.text\")}\n                      name=\"text\"\n                      error={touched.text && Boolean(errors.text)}\n                      helperText={touched.text && errors.text}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      multiline={true}\n                      rows={7}\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n                      <InputLabel id=\"status-selection-label\">\n                        {i18n.t(\"announcements.dialog.form.status\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"announcements.dialog.form.status\")}\n                        placeholder={i18n.t(\"announcements.dialog.form.status\")}\n                        labelId=\"status-selection-label\"\n                        id=\"status\"\n                        name=\"status\"\n                        error={touched.status && Boolean(errors.status)}\n                      >\n                        <MenuItem value={true}>Ativo</MenuItem>\n                        <MenuItem value={false}>Inativo</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} item>\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n                      <InputLabel id=\"priority-selection-label\">\n                        {i18n.t(\"announcements.dialog.form.priority\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"announcements.dialog.form.priority\")}\n                        placeholder={i18n.t(\n                          \"announcements.dialog.form.priority\"\n                        )}\n                        labelId=\"priority-selection-label\"\n                        id=\"priority\"\n                        name=\"priority\"\n                        error={touched.priority && Boolean(errors.priority)}\n                      >\n                        <MenuItem value={1}>Alta</MenuItem>\n                        <MenuItem value={2}>Média</MenuItem>\n                        <MenuItem value={3}>Baixa</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  {(announcement.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFileIcon />}>\n                        {attachment ? attachment.name : announcement.mediaName}\n                      </Button>\n                      <IconButton\n                        onClick={() => setConfirmationOpen(true)}\n                        color=\"secondary\"\n                      >\n                        <DeleteOutlineIcon />\n                      </IconButton>\n                    </Grid>\n                  )}\n                </Grid>\n              </DialogContent>\n              <DialogActions>\n                {!attachment && !announcement.mediaPath && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => attachmentFile.current.click()}\n                    disabled={isSubmitting}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"announcements.dialog.buttons.attach\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"announcements.dialog.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {announcementId\n                    ? `${i18n.t(\"announcements.dialog.buttons.add\")}`\n                    : `${i18n.t(\"announcements.dialog.buttons.edit\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default AnnouncementModal;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport AnnouncementModal from \"../../components/AnnouncementModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\n    const announcements = action.payload;\n    const newAnnouncements = [];\n\n    if (isArray(announcements)) {\n      announcements.forEach((announcement) => {\n        const announcementIndex = state.findIndex(\n          (u) => u.id === announcement.id\n        );\n        if (announcementIndex !== -1) {\n          state[announcementIndex] = announcement;\n        } else {\n          newAnnouncements.push(announcement);\n        }\n      });\n    }\n\n    return [...state, ...newAnnouncements];\n  }\n\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\n    const announcement = action.payload;\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\n\n    if (announcementIndex !== -1) {\n      state[announcementIndex] = announcement;\n      return [...state];\n    } else {\n      return [announcement, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\n    const announcementId = action.payload;\n\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\n    if (announcementIndex !== -1) {\n      state.splice(announcementIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Announcements = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedAnnouncement, setSelectedAnnouncement] = useState(null);\n  const [deletingAnnouncement, setDeletingAnnouncement] = useState(null);\n  const [announcementModalOpen, setAnnouncementModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [announcements, dispatch] = useReducer(reducer, []);\n\n  const socketManager = useContext(SocketContext);\n\n  // trava para nao acessar pagina que não pode  \n  useEffect(() => {\n    async function fetchData() {\n      if (!user.super) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchAnnouncements();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-announcement`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager, user.companyId]);\n\n  const fetchAnnouncements = async () => {\n    try {\n      const { data } = await api.get(\"/announcements/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(true);\n  };\n\n  const handleCloseAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditAnnouncement = (announcement) => {\n    setSelectedAnnouncement(announcement);\n    setAnnouncementModalOpen(true);\n  };\n\n  const handleDeleteAnnouncement = async (announcement) => {\n    try {\n      if (announcement.mediaName)\n      await api.delete(`/announcements/${announcement.id}/media-upload`);\n\n      await api.delete(`/announcements/${announcement.id}`);\n      \n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingAnnouncement(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const translatePriority = (val) => {\n    if (val === 1) {\n      return \"Alta\";\n    }\n    if (val === 2) {\n      return \"Média\";\n    }\n    if (val === 3) {\n      return \"Baixa\";\n    }\n  };\n\n  return (\n    <MainContainer >\n      <ConfirmationModal\n        title={\n          deletingAnnouncement &&\n          `${i18n.t(\"announcements.confirmationModal.deleteTitle\")} ${deletingAnnouncement.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteAnnouncement(deletingAnnouncement)}\n      >\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <AnnouncementModal\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchAnnouncements();\n        }}\n        open={announcementModalOpen}\n        onClose={handleCloseAnnouncementModal}\n        aria-labelledby=\"form-dialog-title\"\n        announcementId={selectedAnnouncement && selectedAnnouncement.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"announcements.title\")} ({announcements.length})</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"announcements.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenAnnouncementModal}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"announcements.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.title\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.priority\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.mediaName\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {announcements.map((announcement) => (\n                <TableRow key={announcement.id}>\n                  <TableCell align=\"center\">{announcement.title}</TableCell>\n                  <TableCell align=\"center\">\n                    {translatePriority(announcement.priority)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {announcement.mediaName ?? i18n.t(\"quickMessages.noAttachment\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {announcement.status ? i18n.t(\"announcements.active\") : i18n.t(\"announcements.inactive\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditAnnouncement(announcement)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingAnnouncement(announcement);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={5} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer >\n  )\n};\n\nexport default Announcements;","import React, { useContext, useState } from \"react\";\nimport {\n  Chip,\n  IconButton,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  makeStyles,\n} from \"@material-ui/core\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    height: \"calc(100% - 58px)\",\n    overflow: \"hidden\",\n    borderRadius: 0,\n    backgroundColor: theme.palette.boxlist, //DARK MODE PLW DESIGN//\n  },\n  chatList: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  listItem: {\n    cursor: \"pointer\",\n  },\n}));\n\nexport default function ChatList({\n  chats,\n  handleSelectChat,\n  handleDeleteChat,\n  handleEditChat,\n  pageInfo,\n  loading,\n}) {\n  const classes = useStyles();\n  const history = useHistory();\n  const { user } = useContext(AuthContext);\n  const { datetimeToClient } = useDate();\n\n  const [confirmationModal, setConfirmModalOpen] = useState(false);\n  const [selectedChat, setSelectedChat] = useState({});\n\n  const { id } = useParams();\n\n  const goToMessages = async (chat) => {\n    if (unreadMessages(chat) > 0) {\n      try {\n        await api.post(`/chats/${chat.id}/read`, { userId: user.id });\n      } catch (err) {}\n    }\n\n    if (id !== chat.uuid) {\n      history.push(`/chats/${chat.uuid}`);\n      handleSelectChat(chat);\n    }\n  };\n\n  const handleDelete = () => {\n    handleDeleteChat(selectedChat);\n  };\n\n  const unreadMessages = (chat) => {\n    const currentUser = chat.users.find((u) => u.userId === user.id);\n    return currentUser.unreads;\n  };\n\n  const getPrimaryText = (chat) => {\n    const mainText = chat.title;\n    const unreads = unreadMessages(chat);\n    return (\n      <>\n        {mainText}\n        {unreads > 0 && (\n          <Chip\n            size=\"small\"\n            style={{ marginLeft: 5 }}\n            label={unreads}\n            color=\"secondary\"\n          />\n        )}\n      </>\n    );\n  };\n\n  const getSecondaryText = (chat) => {\n    return chat.lastMessage !== \"\"\n      ? `${datetimeToClient(chat.updatedAt)}: ${chat.lastMessage}`\n      : \"\";\n  };\n\n  const getItemStyle = (chat) => {\n    return {\n      borderLeft: chat.uuid === id ? \"6px solid #002d6e\" : null,\n      backgroundColor: chat.uuid === id ? \"theme.palette.chatlist\" : null,\n    };\n  };\n\n  return (\n    <>\n      <ConfirmationModal\n        title={\"Excluir Conversa\"}\n        open={confirmationModal}\n        onClose={setConfirmModalOpen}\n        onConfirm={handleDelete}\n      >\n        Esta ação não pode ser revertida, confirmar?\n      </ConfirmationModal>\n      <div className={classes.mainContainer}>\n        <div className={classes.chatList}>\n          <List>\n            {Array.isArray(chats) &&\n              chats.length > 0 &&\n              chats.map((chat, key) => (\n                <ListItem\n                  onClick={() => goToMessages(chat)}\n                  key={key}\n                  className={classes.listItem}\n                  style={getItemStyle(chat)}\n                  button\n                >\n                  <ListItemText\n                    primary={getPrimaryText(chat)}\n                    secondary={getSecondaryText(chat)}\n                  />\n                  {chat.ownerId === user.id && (\n                    <ListItemSecondaryAction>\n                      <IconButton\n                        onClick={() => {\n                          goToMessages(chat).then(() => {\n                            handleEditChat(chat);\n                          });\n                        }}\n                        edge=\"end\"\n                        aria-label=\"delete\"\n                        size=\"small\"\n                        style={{ marginRight: 5 }}\n                      >\n                        <EditIcon />\n                      </IconButton>\n                      <IconButton\n                        onClick={() => {\n                          setSelectedChat(chat);\n                          setConfirmModalOpen(true);\n                        }}\n                        edge=\"end\"\n                        aria-label=\"delete\"\n                        size=\"small\"\n                      >\n                        <DeleteIcon />\n                      </IconButton>\n                    </ListItemSecondaryAction>\n                  )}\n                </ListItem>\n              ))}\n          </List>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport {\n  Box,\n  FormControl,\n  IconButton,\n  Input,\n  InputAdornment,\n  makeStyles,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport SendIcon from \"@material-ui/icons/Send\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useDate } from \"../../hooks/useDate\";\nimport api from \"../../services/api\";\nimport { green } from \"@material-ui/core/colors\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    overflow: \"hidden\",\n    borderRadius: 0,\n    height: \"100%\",\n    borderLeft: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  messageList: {\n    position: \"relative\",\n    overflowY: \"auto\",\n    height: \"100%\",\n    ...theme.scrollbarStyles,\n    backgroundColor: theme.palette.chatlist, //DARK MODE PLW DESIGN//\n  },\n  inputArea: {\n    position: \"relative\",\n    height: \"auto\",\n  },\n  input: {\n    padding: \"20px\",\n  },\n  buttonSend: {\n    margin: theme.spacing(1),\n  },\n  boxLeft: {\n    padding: \"10px 10px 5px\",\n    margin: \"10px\",\n    position: \"relative\",\n    backgroundColor: \"blue\",\n    maxWidth: 300,\n    borderRadius: 10,\n    borderBottomLeftRadius: 0,\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  boxRight: {\n    padding: \"10px 10px 5px\",\n    margin: \"10px 10px 10px auto\",\n    position: \"relative\",\n    backgroundColor: \"green\", //DARK MODE PLW DESIGN//\n    textAlign: \"right\",\n    maxWidth: 300,\n    borderRadius: 10,\n    borderBottomRightRadius: 0,\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n}));\n\nexport default function ChatMessages({\n  chat,\n  messages,\n  handleSendMessage,\n  handleLoadMore,\n  scrollToBottomRef,\n  pageInfo,\n  loading,\n}) {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n  const { datetimeToClient } = useDate();\n  const baseRef = useRef();\n\n  const [contentMessage, setContentMessage] = useState(\"\");\n\n  const scrollToBottom = () => {\n    if (baseRef.current) {\n      baseRef.current.scrollIntoView({});\n    }\n  };\n\n  const unreadMessages = (chat) => {\n    if (chat !== undefined) {\n      const currentUser = chat.users.find((u) => u.userId === user.id);\n      return currentUser.unreads > 0;\n    }\n    return 0;\n  };\n\n  useEffect(() => {\n    if (unreadMessages(chat) > 0) {\n      try {\n        api.post(`/chats/${chat.id}/read`, { userId: user.id });\n      } catch (err) {}\n    }\n    scrollToBottomRef.current = scrollToBottom;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleScroll = (e) => {\n    const { scrollTop } = e.currentTarget;\n    if (!pageInfo.hasMore || loading) return;\n    if (scrollTop < 600) {\n      handleLoadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.mainContainer}>\n      <div onScroll={handleScroll} className={classes.messageList}>\n        {Array.isArray(messages) &&\n          messages.map((item, key) => {\n            if (item.senderId === user.id) {\n              return (\n                <Box key={key} className={classes.boxRight}>\n                  <Typography variant=\"subtitle2\">\n                    {item.sender.name}\n                  </Typography>\n                  {item.message}\n                  <Typography variant=\"caption\" display=\"block\">\n                    {datetimeToClient(item.createdAt)}\n                  </Typography>\n                </Box>\n              );\n            } else {\n              return (\n                <Box key={key} className={classes.boxLeft}>\n                  <Typography variant=\"subtitle2\">\n                    {item.sender.name}\n                  </Typography>\n                  {item.message}\n                  <Typography variant=\"caption\" display=\"block\">\n                    {datetimeToClient(item.createdAt)}\n                  </Typography>\n                </Box>\n              );\n            }\n          })}\n        <div ref={baseRef}></div>\n      </div>\n      <div className={classes.inputArea}>\n        <FormControl variant=\"outlined\" fullWidth>\n          <Input\n            multiline\n            value={contentMessage}\n            onKeyUp={(e) => {\n              if (e.key === \"Enter\" && contentMessage.trim() !== \"\") {\n                handleSendMessage(contentMessage);\n                setContentMessage(\"\");\n              }\n            }}\n            onChange={(e) => setContentMessage(e.target.value)}\n            className={classes.input}\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  onClick={() => {\n                    if (contentMessage.trim() !== \"\") {\n                      handleSendMessage(contentMessage);\n                      setContentMessage(\"\");\n                    }\n                  }}\n                  className={classes.buttonSend}\n                >\n                  <SendIcon />\n                </IconButton>\n              </InputAdornment>\n            }\n          />\n        </FormControl>\n      </div>\n    </Paper>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  makeStyles,\n  Paper,\n  Tab,\n  Tabs,\n  TextField,\n} from \"@material-ui/core\";\nimport ChatList from \"./ChatList\";\nimport ChatMessages from \"./ChatMessages\";\nimport { UsersFilter } from \"../../components/UsersFilter\";\nimport api from \"../../services/api\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nimport { has, isObject } from \"lodash\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    padding: theme.spacing(2),\n    height: `calc(100% - 48px)`,\n    overflowY: \"hidden\",\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  gridContainer: {\n    flex: 1,\n    height: \"100%\",\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n    backgroundColor: theme.palette.dark,\n  },\n  gridItem: {\n    height: \"100%\",\n  },\n  gridItemTab: {\n    height: \"92%\",\n    width: \"100%\",\n  },\n  btnContainer: {\n    textAlign: \"right\",\n    padding: 10,\n  },\n}));\n\nexport function ChatModal({\n  open,\n  chat,\n  type,\n  handleClose,\n  handleLoadNewChat,\n}) {\n  const [users, setUsers] = useState([]);\n  const [title, setTitle] = useState(\"\");\n\n  useEffect(() => {\n    setTitle(\"\");\n    setUsers([]);\n    if (type === \"edit\") {\n      const userList = chat.users.map((u) => ({\n        id: u.user.id,\n        name: u.user.name,\n      }));\n      setUsers(userList);\n      setTitle(chat.title);\n    }\n  }, [chat, open, type]);\n\n  const handleSave = async () => {\n    try {\n      if (!title) {\n        alert(\"Por favor, preencha o título da conversa.\");\n        return;\n      }\n\n      if (!users || users.length === 0) {\n        alert(\"Por favor, selecione pelo menos um usuário.\");\n        return;\n      }\n\n      if (type === \"edit\") {\n        await api.put(`/chats/${chat.id}`, {\n          users,\n          title,\n        });\n      } else {\n        const { data } = await api.post(\"/chats\", {\n          users,\n          title,\n        });\n        handleLoadNewChat(data);\n      }\n      handleClose();\n    } catch (err) {}\n  };  \n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">Conversa</DialogTitle>\n      <DialogContent>\n        <Grid spacing={2} container>\n          <Grid xs={12} style={{ padding: 18 }} item>\n            <TextField\n              label=\"Título\"\n              placeholder=\"Título\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n            />\n          </Grid>\n          <Grid xs={12} item>\n            <UsersFilter\n              onFiltered={(users) => setUsers(users)}\n              initialUsers={users}\n            />\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Fechar\n        </Button>\n        <Button onClick={handleSave} color=\"primary\" variant=\"contained\">\n          Salvar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nfunction Chat(props) {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n  const history = useHistory();\n\n  const [showDialog, setShowDialog] = useState(false);\n  const [dialogType, setDialogType] = useState(\"new\");\n  const [currentChat, setCurrentChat] = useState({});\n  const [chats, setChats] = useState([]);\n  const [chatsPageInfo, setChatsPageInfo] = useState({ hasMore: false });\n  const [messages, setMessages] = useState([]);\n  const [messagesPageInfo, setMessagesPageInfo] = useState({ hasMore: false });\n  const [messagesPage, setMessagesPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [tab, setTab] = useState(0);\n  const isMounted = useRef(true);\n  const scrollToBottomRef = useRef();\n  const { id } = useParams();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      findChats().then((data) => {\n        const { records } = data;\n        if (records.length > 0) {\n          setChats(records);\n          setChatsPageInfo(data);\n\n          if (id && records.length) {\n            const chat = records.find((r) => r.uuid === id);\n            selectChat(chat);\n          }\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\n      findMessages(currentChat.id).then(() => {\n        if (typeof scrollToBottomRef.current === \"function\") {\n          setTimeout(() => {\n            scrollToBottomRef.current();\n          }, 300);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentChat]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-chat-user-${user.id}`, (data) => {\n      if (data.action === \"create\") {\n        setChats((prev) => [data.record, ...prev]);\n      }\n      if (data.action === \"update\") {\n        const changedChats = chats.map((chat) => {\n          if (chat.id === data.record.id) {\n            setCurrentChat(data.record);\n            return {\n              ...data.record,\n            };\n          }\n          return chat;\n        });\n        setChats(changedChats);\n      }\n    });\n\n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"delete\") {\n        const filteredChats = chats.filter((c) => c.id !== +data.id);\n        setChats(filteredChats);\n        setMessages([]);\n        setMessagesPage(1);\n        setMessagesPageInfo({ hasMore: false });\n        setCurrentChat({});\n        history.push(\"/chats\");\n      }\n    });\n\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\n      socket.on(`company-${companyId}-chat-${currentChat.id}`, (data) => {\n        if (data.action === \"new-message\") {\n          setMessages((prev) => [...prev, data.newMessage]);\n          const changedChats = chats.map((chat) => {\n            if (chat.id === data.newMessage.chatId) {\n              return {\n                ...data.chat,\n              };\n            }\n            return chat;\n          });\n          setChats(changedChats);\n          scrollToBottomRef.current();\n        }\n\n        if (data.action === \"update\") {\n          const changedChats = chats.map((chat) => {\n            if (chat.id === data.chat.id) {\n              return {\n                ...data.chat,\n              };\n            }\n            return chat;\n          });\n          setChats(changedChats);\n          scrollToBottomRef.current();\n        }\n      });\n    }\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentChat, socketManager]);\n\n  const selectChat = (chat) => {\n    try {\n      setMessages([]);\n      setMessagesPage(1);\n      setCurrentChat(chat);\n      setTab(1);\n    } catch (err) {}\n  };\n\n  const sendMessage = async (contentMessage) => {\n    setLoading(true);\n    try {\n      await api.post(`/chats/${currentChat.id}/messages`, {\n        message: contentMessage,\n      });\n    } catch (err) {}\n    setLoading(false);\n  };\n\n  const deleteChat = async (chat) => {\n    try {\n      await api.delete(`/chats/${chat.id}`);\n    } catch (err) {}\n  };\n\n  const findMessages = async (chatId) => {\n    setLoading(true);\n    try {\n      const { data } = await api.get(\n        `/chats/${chatId}/messages?pageNumber=${messagesPage}`\n      );\n      setMessagesPage((prev) => prev + 1);\n      setMessagesPageInfo(data);\n      setMessages((prev) => [...data.records, ...prev]);\n    } catch (err) {}\n    setLoading(false);\n  };\n\n  const loadMoreMessages = async () => {\n    if (!loading) {\n      findMessages(currentChat.id);\n    }\n  };\n\n  const findChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats\");\n      return data;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const renderGrid = () => {\n    return (\n      <Grid className={classes.gridContainer} container>\n        <Grid className={classes.gridItem} md={3} item>\n          \n            <div className={classes.btnContainer}>\n              <Button\n                onClick={() => {\n                  setDialogType(\"new\");\n                  setShowDialog(true);\n                }}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Nova\n              </Button>\n            </div>\n          \n          <ChatList\n            chats={chats}\n            pageInfo={chatsPageInfo}\n            loading={loading}\n            handleSelectChat={(chat) => selectChat(chat)}\n            handleDeleteChat={(chat) => deleteChat(chat)}\n            handleEditChat={() => {\n              setDialogType(\"edit\");\n              setShowDialog(true);\n            }}\n          />\n        </Grid>\n        <Grid className={classes.gridItem} md={9} item>\n          {isObject(currentChat) && has(currentChat, \"id\") && (\n            <ChatMessages\n              chat={currentChat}\n              scrollToBottomRef={scrollToBottomRef}\n              pageInfo={messagesPageInfo}\n              messages={messages}\n              loading={loading}\n              handleSendMessage={sendMessage}\n              handleLoadMore={loadMoreMessages}\n            />\n          )}\n        </Grid>\n      </Grid>\n    );\n  };\n\n  const renderTab = () => {\n    return (\n      <Grid className={classes.gridContainer} container>\n        <Grid md={12} item>\n          <Tabs\n            value={tab}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            onChange={(e, v) => setTab(v)}\n            aria-label=\"disabled tabs example\"\n          >\n            <Tab label=\"Chats\" />\n            <Tab label=\"Mensagens\" />\n          </Tabs>\n        </Grid>\n        {tab === 0 && (\n          <Grid className={classes.gridItemTab} md={12} item>\n            <div className={classes.btnContainer}>\n              <Button\n                onClick={() => setShowDialog(true)}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Novo\n              </Button>\n            </div>\n            <ChatList\n              chats={chats}\n              pageInfo={chatsPageInfo}\n              loading={loading}\n              handleSelectChat={(chat) => selectChat(chat)}\n              handleDeleteChat={(chat) => deleteChat(chat)}\n            />\n          </Grid>\n        )}\n        {tab === 1 && (\n          <Grid className={classes.gridItemTab} md={12} item>\n            {isObject(currentChat) && has(currentChat, \"id\") && (\n              <ChatMessages\n                scrollToBottomRef={scrollToBottomRef}\n                pageInfo={messagesPageInfo}\n                messages={messages}\n                loading={loading}\n                handleSendMessage={sendMessage}\n                handleLoadMore={loadMoreMessages}\n              />\n            )}\n          </Grid>\n        )}\n      </Grid>\n    );\n  };\n\n  return (\n    <>\n      <ChatModal\n        type={dialogType}\n        open={showDialog}\n        chat={currentChat}\n        handleLoadNewChat={(data) => {\n          setMessages([]);\n          setMessagesPage(1);\n          setCurrentChat(data);\n          setTab(1);\n          history.push(`/chats/${data.uuid}`);\n        }}\n        handleClose={() => setShowDialog(false)}\n      />\n      <Paper className={classes.mainContainer}>\n        {isWidthUp(\"md\", props.width) ? renderGrid() : renderTab()}\n      </Paper>\n    </>\n  );\n}\n\nexport default withWidth()(Chat);\n","import React, { useState, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\n\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainContainer from \"../../components/MainContainer\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst _formatDate = (date) => {\n  const now = new Date();\n  const past = new Date(date);\n  const diff = Math.abs(now.getTime() - past.getTime());\n  const days = Math.ceil(diff / (1000 * 60 * 60 * 24));\n\n  return days;\n}\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n\n  const [loading,] = useState(false);\n  const [, setPageNumber] = useState(1);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [hasMore,] = useState(false);\n\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <SubscriptionModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></SubscriptionModal>\n\n      <MainHeader>\n        <Title>Assinatura</Title>\n      </MainHeader>\n      <Grid item xs={12} sm={4}>\n        <Paper\n          className={classes.mainPaper}\n          variant=\"outlined\"\n          onScroll={handleScroll}\n        >\n\n          <div>\n            <TextField\n              id=\"outlined-full-width\"\n              label=\"Período de teste\"\n              defaultValue={`Seu período de teste termina em ${_formatDate(user?.company?.trialExpiration)} dias!`}\n              fullWidth\n              margin=\"normal\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n              InputProps={{\n                readOnly: true,\n              }}\n              variant=\"outlined\"\n            />\n\n          </div>\n\n          <div>\n            <TextField\n              id=\"outlined-full-width\"\n              label=\"Email de cobrança\"\n              defaultValue={user?.company?.email}\n              fullWidth\n              margin=\"normal\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n              InputProps={{\n                readOnly: true,\n              }}\n              variant=\"outlined\"\n            />\n\n          </div>\n\n          <div>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleOpenContactModal}\n              fullWidth\n            >\n              Assine Agora!\n            </Button>\n          </div>\n\n        </Paper>\n      </Grid>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport {\n    Formik,\n    Form,\n    Field,\n    FieldArray\n} from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n    Box,\n    Button,\n    CircularProgress,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Divider,\n    Grid,\n    makeStyles,\n    TextField\n} from \"@material-ui/core\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\n\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        gap: 4\n    },\n    multFieldLine: {\n        display: \"flex\",\n        \"& > *:not(:last-child)\": {\n            marginRight: theme.spacing(1),\n        },\n    },\n    textField: {\n        marginRight: theme.spacing(1),\n        flex: 1,\n    },\n\n    extraAttr: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n\n    btnWrapper: {\n        position: \"relative\",\n    },\n\n    buttonProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 2000,\n    },\n    colorAdorment: {\n        width: 20,\n        height: 20,\n    },\n}));\n\nconst FileListSchema = Yup.object().shape({\n    name: Yup.string()\n        .min(3, \"nome muito curto\")\n        .required(\"Obrigatório\"),\n    message: Yup.string()\n        .required(\"Obrigatório\")\n});\n\nconst FilesModal = ({ open, onClose, fileListId, reload }) => {\n    const classes = useStyles();\n    const { user } = useContext(AuthContext);\n    const [ files, setFiles ] = useState([]);\n    const [selectedFileNames, setSelectedFileNames] = useState([]);\n\n\n    const initialState = {\n        name: \"\",\n        message: \"\",\n        options: [{ name: \"\", path:\"\", mediaType:\"\" }],\n    };\n\n    const [fileList, setFileList] = useState(initialState);\n\n    useEffect(() => {\n        try {\n            (async () => {\n                if (!fileListId) return;\n\n                const { data } = await api.get(`/files/${fileListId}`);\n                setFileList(data);\n            })()\n        } catch (err) {\n            toastError(err);\n        }\n    }, [fileListId, open]);\n\n    const handleClose = () => {\n        setFileList(initialState);\n        setFiles([]);\n        onClose();\n    };\n\n    const handleSaveFileList = async (values) => {\n\n        const uploadFiles = async (options, filesOptions, id) => {\n                const formData = new FormData();\n                formData.append(\"fileId\", id);\n                formData.append(\"typeArch\", \"fileList\")\n                filesOptions.forEach((fileOption, index) => {\n                    if (fileOption.file) {\n                        formData.append(\"files\", fileOption.file);\n                        formData.append(\"mediaType\", fileOption.file.type)\n                        formData.append(\"name\", options[index].name);\n                        formData.append(\"id\", options[index].id);\n                    }\n                });\n      \n              try {\n                const { data } = await api.post(`/files/uploadList/${id}`, formData);\n                setFiles([]);\n                return data;\n              } catch (err) {\n                toastError(err);\n              }\n            return null;\n        }\n\n        const fileData = { ...values, userId: user.id };\n        \n        try {\n            if (fileListId) {\n                const { data } = await api.put(`/files/${fileListId}`, fileData)\n                if (data.options.length > 0)\n\n                    uploadFiles(data.options, values.options, fileListId)\n            } else {\n                const { data } = await api.post(\"/files\", fileData);\n                if (data.options.length > 0)\n                    uploadFiles(data.options, values.options, data.id)\n            }\n            toast.success(i18n.t(\"fileModal.success\"));\n            if (typeof reload == 'function') {\n                reload();\n            }            \n        } catch (err) {\n            toastError(err);\n        }\n        handleClose();\n    };\n\n    return (\n        <div className={classes.root}>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"md\"\n                fullWidth\n                scroll=\"paper\">\n                <DialogTitle id=\"form-dialog-title\">\n                    {(fileListId ? `${i18n.t(\"fileModal.title.edit\")}` : `${i18n.t(\"fileModal.title.add\")}`)}\n                </DialogTitle>\n                <Formik\n                    initialValues={fileList}\n                    enableReinitialize={true}\n                    validationSchema={FileListSchema}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            handleSaveFileList(values);\n                            actions.setSubmitting(false);\n                        }, 400);\n                    }}\n                >\n                    {({ touched, errors, isSubmitting, values }) => (\n                        <Form>\n                            <DialogContent dividers>\n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"fileModal.form.name\")}\n                                        name=\"name\"\n                                        error={touched.name && Boolean(errors.name)}\n                                        helperText={touched.name && errors.name}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                </div>\n                                <br />\n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"fileModal.form.message\")}\n                                        type=\"message\"\n                                        multiline\n                                        minRows={5}\n                                        fullWidth\n                                        name=\"message\"\n                                        error={\n                                            touched.message && Boolean(errors.message)\n                                        }\n                                        helperText={\n                                            touched.message && errors.message\n                                        }\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                    />\n                                </div>\n                                <Typography\n                                    style={{ marginBottom: 8, marginTop: 12 }}\n                                    variant=\"subtitle1\"\n                                >\n                                    {i18n.t(\"fileModal.form.fileOptions\")}\n                                </Typography>\n\n                                <FieldArray name=\"options\">\n                                    {({ push, remove }) => (\n                                        <>\n                                            {values.options &&\n                                                values.options.length > 0 &&\n                                                values.options.map((info, index) => (    \n                                                    <div\n                                                        className={classes.extraAttr}\n                                                        key={`${index}-info`}\n                                                    >\n                                                        <Grid container  spacing={0}>\n                                                            <Grid xs={6} md={10} item> \n                                                                <Field\n                                                                    as={TextField}\n                                                                    label={i18n.t(\"fileModal.form.extraName\")}\n                                                                    name={`options[${index}].name`}\n                                                                    variant=\"outlined\"\n                                                                    margin=\"dense\"\n                                                                    multiline\n                                                                    fullWidth\n                                                                    minRows={2}\n                                                                    className={classes.textField}\n                                                                />\n                                                            </Grid>     \n                                                            <Grid xs={2} md={2} item style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end' }}>\n                                                                <input\n                                                                    type=\"file\"\n                                                                    onChange={(e) => {\n                                                                        const selectedFile = e.target.files[0];\n                                                                        const updatedOptions = [...values.options];                                                                \n                                                                        updatedOptions[index].file = selectedFile;\n                                                                       \n                                                                        setFiles('options', updatedOptions);\n\n                                                                        // Atualize a lista selectedFileNames para o campo específico\n                                                                        const updatedFileNames = [...selectedFileNames];\n                                                                        updatedFileNames[index] = selectedFile ? selectedFile.name : '';\n                                                                        setSelectedFileNames(updatedFileNames);\n                                                                    }}\n                                                                    style={{ display: 'none' }}\n                                                                    name={`options[${index}].file`}\n                                                                    id={`file-upload-${index}`}\n                                                                />\n                                                                <label htmlFor={`file-upload-${index}`}>\n                                                                    <IconButton component=\"span\">\n                                                                        <AttachFileIcon />\n                                                                    </IconButton>\n                                                                </label>\n                                                                <IconButton\n                                                                    size=\"small\"\n                                                                    onClick={() => remove(index)}\n                                                                >\n                                                                    <DeleteOutlineIcon />\n                                                                </IconButton>    \n                                                            </Grid>\n                                                            <Grid xs={12} md={12} item>\n                                                                {info.path? info.path : selectedFileNames[index]}                               \n                                                            </Grid> \n                                                        </Grid>                                                    \n                                                </div>                     \n                                                                                           \n                                                ))}\n                                            <div className={classes.extraAttr}>\n                                                <Button\n                                                    style={{ flex: 1, marginTop: 8 }}\n                                                    variant=\"outlined\"\n                                                    color=\"primary\"\n                                                    onClick={() => {push({ name: \"\", path: \"\"});\n                                                    setSelectedFileNames([...selectedFileNames, \"\"]);\n                                                }}\n                                                >\n                                                    {`+ ${i18n.t(\"fileModal.buttons.fileOptions\")}`}\n                                                </Button>\n                                            </div>\n                                        </>\n                                    )}\n                                </FieldArray>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button\n                                    onClick={handleClose}\n                                    color=\"secondary\"\n                                    disabled={isSubmitting}\n                                    variant=\"outlined\"\n                                >\n                                    {i18n.t(\"fileModal.buttons.cancel\")}\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    variant=\"contained\"\n                                    className={classes.btnWrapper}\n                                >\n                                    {fileListId\n                                        ? `${i18n.t(\"fileModal.buttons.okEdit\")}`\n                                        : `${i18n.t(\"fileModal.buttons.okAdd\")}`}\n                                    {isSubmitting && (\n                                        <CircularProgress\n                                            size={24}\n                                            className={classes.buttonProgress}\n                                        />\n                                    )}\n                                </Button>\n                            </DialogActions>\n                        </Form>\n                    )}\n                </Formik>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default FilesModal;","import React, {\n    useState,\n    useEffect,\n    useReducer,\n    useCallback,\n    useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport FileModal from \"../../components/FileModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n    if (action.type === \"LOAD_FILES\") {\n        const files = action.payload;\n        const newFiles = [];\n\n        files.forEach((fileList) => {\n            const fileListIndex = state.findIndex((s) => s.id === fileList.id);\n            if (fileListIndex !== -1) {\n                state[fileListIndex] = fileList;\n            } else {\n                newFiles.push(fileList);\n            }\n        });\n\n        return [...state, ...newFiles];\n    }\n\n    if (action.type === \"UPDATE_FILES\") {\n        const fileList = action.payload;\n        const fileListIndex = state.findIndex((s) => s.id === fileList.id);\n\n        if (fileListIndex !== -1) {\n            state[fileListIndex] = fileList;\n            return [...state];\n        } else {\n            return [fileList, ...state];\n        }\n    }\n\n    if (action.type === \"DELETE_TAG\") {\n        const fileListId = action.payload;\n\n        const fileListIndex = state.findIndex((s) => s.id === fileListId);\n        if (fileListIndex !== -1) {\n            state.splice(fileListIndex, 1);\n        }\n        return [...state];\n    }\n\n    if (action.type === \"RESET\") {\n        return [];\n    }\n};\n\nconst useStyles = makeStyles((theme) => ({\n    mainPaper: {\n        flex: 1,\n        padding: theme.spacing(1),\n        overflowY: \"scroll\",\n        ...theme.scrollbarStyles,\n    },\n}));\n\nconst FileLists = () => {\n    const classes = useStyles();\n\n    const { user } = useContext(AuthContext);\n\n    const [loading, setLoading] = useState(false);\n    const [pageNumber, setPageNumber] = useState(1);\n    const [hasMore, setHasMore] = useState(false);\n    const [selectedFileList, setSelectedFileList] = useState(null);\n    const [deletingFileList, setDeletingFileList] = useState(null);\n    const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n    const [searchParam, setSearchParam] = useState(\"\");\n    const [files, dispatch] = useReducer(reducer, []);\n    const [fileListModalOpen, setFileListModalOpen] = useState(false);\n\n    const fetchFileLists = useCallback(async () => {\n        try {\n            const { data } = await api.get(\"/files/\", {\n                params: { searchParam, pageNumber },\n            });\n            dispatch({ type: \"LOAD_FILES\", payload: data.files });\n            setHasMore(data.hasMore);\n            setLoading(false);\n        } catch (err) {\n            toastError(err);\n        }\n    }, [searchParam, pageNumber]);\n\n    const socketManager = useContext(SocketContext);\n\n    useEffect(() => {\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n    }, [searchParam]);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            fetchFileLists();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchParam, pageNumber, fetchFileLists]);\n\n    useEffect(() => {\n        const socket = socketManager.getSocket(user.companyId);\n\n        socket.on(`company-${user.companyId}-file`, (data) => {\n            if (data.action === \"update\" || data.action === \"create\") {\n                dispatch({ type: \"UPDATE_FILES\", payload: data.files });\n            }\n\n            if (data.action === \"delete\") {\n                dispatch({ type: \"DELETE_USER\", payload: +data.fileId });\n            }\n        });\n\n        return () => {\n            socket.disconnect();\n        };\n    }, [socketManager, user]);\n\n    const handleOpenFileListModal = () => {\n        setSelectedFileList(null);\n        setFileListModalOpen(true);\n    };\n\n    const handleCloseFileListModal = () => {\n        setSelectedFileList(null);\n        setFileListModalOpen(false);\n    };\n\n    const handleSearch = (event) => {\n        setSearchParam(event.target.value.toLowerCase());\n    };\n\n    const handleEditFileList = (fileList) => {\n        setSelectedFileList(fileList);\n        setFileListModalOpen(true);\n    };\n\n    const handleDeleteFileList = async (fileListId) => {\n        try {\n            await api.delete(`/files/${fileListId}`);\n            toast.success(i18n.t(\"files.toasts.deleted\"));\n        } catch (err) {\n            toastError(err);\n        }\n        setDeletingFileList(null);\n        setSearchParam(\"\");\n        setPageNumber(1);\n\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n        await fetchFileLists();\n    };\n\n    const loadMore = () => {\n        setPageNumber((prevState) => prevState + 1);\n    };\n\n    const handleScroll = (e) => {\n        if (!hasMore || loading) return;\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\n            loadMore();\n        }\n    };\n\n    return (\n        <MainContainer>\n            <ConfirmationModal\n                title={deletingFileList && `${i18n.t(\"files.confirmationModal.deleteTitle\")}`}\n                open={confirmModalOpen}\n                onClose={setConfirmModalOpen}\n                onConfirm={() => handleDeleteFileList(deletingFileList.id)}\n            >\n                {i18n.t(\"files.confirmationModal.deleteMessage\")}\n            </ConfirmationModal>\n            <FileModal\n                open={fileListModalOpen}\n                onClose={handleCloseFileListModal}\n                reload={fetchFileLists}\n                aria-labelledby=\"form-dialog-title\"\n                fileListId={selectedFileList && selectedFileList.id}\n            />\n            <MainHeader>\n                <Title>{i18n.t(\"files.title\")} ({files.length})</Title>\n                <MainHeaderButtonsWrapper>\n                    <TextField\n                        placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                        type=\"search\"\n                        value={searchParam}\n                        onChange={handleSearch}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <SearchIcon style={{ color: \"gray\" }} />\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleOpenFileListModal}\n                    >\n                        {i18n.t(\"files.buttons.add\")}\n                    </Button>\n                </MainHeaderButtonsWrapper>\n            </MainHeader>\n            <Paper\n                className={classes.mainPaper}\n                variant=\"outlined\"\n                onScroll={handleScroll}\n            >\n                <Table size=\"small\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell align=\"center\">{i18n.t(\"files.table.name\")}</TableCell>\n                            <TableCell align=\"center\">\n                                {i18n.t(\"files.table.actions\")}\n                            </TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        <>\n                            {files.map((fileList) => (\n                                <TableRow key={fileList.id}>\n                                    <TableCell align=\"center\">\n                                        {fileList.name}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        <IconButton size=\"small\" onClick={() => handleEditFileList(fileList)}>\n                                            <EditIcon />\n                                        </IconButton>\n\n                                        <IconButton\n                                            size=\"small\"\n                                            onClick={(e) => {\n                                                setConfirmModalOpen(true);\n                                                setDeletingFileList(fileList);\n                                            }}\n                                        >\n                                            <DeleteOutlineIcon />\n                                        </IconButton>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                            {loading && <TableRowSkeleton columns={4} />}\n                        </>\n                    </TableBody>\n                </Table>\n            </Paper>\n        </MainContainer>\n    );\n};\n\nexport default FileLists;\n","import React, { useEffect, useState } from \"react\";\nimport { Field } from \"formik\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst useStyles = makeStyles(theme => ({\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n}));\n\nconst QueueSelectSingle = () => {\n    const classes = useStyles();\n    const [queues, setQueues] = useState([]);\n\n    useEffect(() => {\n        (async () => {\n            try {\n                const { data } = await api.get(\"/queue\");\n                setQueues(data);\n            } catch (err) {\n                toastError(`QUEUESELETSINGLE >>> ${err}`);\n            }\n        })();\n    }, []);\n\n    return (\n        <div style={{ marginTop: 6 }}>\n            <FormControl\n                variant=\"outlined\"\n                className={classes.FormControl}\n                margin=\"dense\"\n                fullWidth\n            >\n                <div>\n                    <Typography>\n                        {i18n.t(\"queueSelect.inputLabel\")}\n                    </Typography>\n                    <Field\n                        as={Select}\n                        label={i18n.t(\"queueSelect.inputLabel\")}\n                        name=\"queueId\"\n                        labelId=\"queue-selection-label\"\n                        id=\"queue-selection\"\n                        fullWidth\n                    >\n                        {queues.map(queue => (\n                            <MenuItem key={queue.id} value={queue.id}>\n                                {queue.name}\n                            </MenuItem>\n                        ))}\n                    </Field>\n                </div>\n            </FormControl>\n        </div>\n    );\n};\n\nexport default QueueSelectSingle;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { i18n } from \"../../translate/i18n\";\nimport { MenuItem, FormControl, InputLabel, Select } from \"@material-ui/core\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { InputAdornment, IconButton } from \"@material-ui/core\";\nimport QueueSelectSingle from \"../../components/QueueSelectSingle\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    multFieldLine: {\n        display: \"flex\",\n        \"& > *:not(:last-child)\": {\n            marginRight: theme.spacing(1),\n        },\n    },\n\n    btnWrapper: {\n        position: \"relative\",\n    },\n\n    buttonProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n    colorAdorment: {\n        width: 20,\n        height: 20,\n    },\n}));\n\nconst PromptSchema = Yup.object().shape({\n    name: Yup.string().min(5, \"Muito curto!\").max(100, \"Muito longo!\").required(\"Obrigatório\"),\n    prompt: Yup.string().min(50, \"Muito curto!\").required(\"Descreva o treinamento para Inteligência Artificial\"),\n    voice: Yup.string().required(\"Informe o modo para Voz\"),\n    max_tokens: Yup.number().required(\"Informe o número máximo de tokens\"),\n    temperature: Yup.number().required(\"Informe a temperatura\"),\n    apikey: Yup.string().required(\"Informe a API Key\"),\n    queueId: Yup.number().required(\"Informe a fila\"),\n    max_messages: Yup.number().required(\"Informe o número máximo de mensagens\")\n});\n\nconst PromptModal = ({ open, onClose, promptId }) => {\n    const classes = useStyles();\n    const [selectedVoice, setSelectedVoice] = useState(\"texto\");\n    const [showApiKey, setShowApiKey] = useState(false);\n\n    const handleToggleApiKey = () => {\n        setShowApiKey(!showApiKey);\n    };\n\n    const initialState = {\n        name: \"\",\n        prompt: \"\",\n        voice: \"texto\",\n        voiceKey: \"\",\n        voiceRegion: \"\",\n        maxTokens: 100,\n        temperature: 1,\n        apiKey: \"\",\n        queueId: null,\n        maxMessages: 10\n    };\n\n    const [prompt, setPrompt] = useState(initialState);\n\n    useEffect(() => {\n        const fetchPrompt = async () => {\n            if (!promptId) {\n                setPrompt(initialState);\n                return;\n            }\n            try {\n                const { data } = await api.get(`/prompt/${promptId}`);\n                setPrompt(prevState => {\n                    return { ...prevState, ...data };\n                });\n                setSelectedVoice(data.voice);\n            } catch (err) {\n                toastError(err);\n            }\n        };\n\n        fetchPrompt();\n    }, [promptId, open]);\n\n    const handleClose = () => {\n        setPrompt(initialState);\n        setSelectedVoice(\"texto\");\n        onClose();\n    };\n\n    const handleChangeVoice = (e) => {\n        setSelectedVoice(e.target.value);\n    };\n\n    const handleSavePrompt = async values => {\n        const promptData = { ...values, voice: selectedVoice };\n        if (!values.queueId) {\n            toastError(\"Informe o setor\");\n            return;\n        }\n        try {\n            if (promptId) {\n                await api.put(`/prompt/${promptId}`, promptData);\n            } else {\n                await api.post(\"/prompt\", promptData);\n            }\n            toast.success(i18n.t(\"promptModal.success\"));\n        } catch (err) {\n            toastError(err);\n        }\n        handleClose();\n    };\n\n    return (\n        <div className={classes.root}>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"md\"\n                scroll=\"paper\"\n                fullWidth\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    {promptId\n                        ? `${i18n.t(\"promptModal.title.edit\")}`\n                        : `${i18n.t(\"promptModal.title.add\")}`}\n                </DialogTitle>\n                <Formik\n                    initialValues={prompt}\n                    enableReinitialize={true}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            handleSavePrompt(values);\n                            actions.setSubmitting(false);\n                        }, 400);\n                    }}\n                >\n                    {({ touched, errors, isSubmitting, values }) => (\n                        <Form style={{ width: \"100%\" }}>\n                            <DialogContent dividers>\n                                <Field\n                                    as={TextField}\n                                    label={i18n.t(\"promptModal.form.name\")}\n                                    name=\"name\"\n                                    error={touched.name && Boolean(errors.name)}\n                                    helperText={touched.name && errors.name}\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    fullWidth\n                                />\n                                <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.apikey\")}\n                                        name=\"apiKey\"\n                                        type={showApiKey ? 'text' : 'password'}\n                                        error={touched.apiKey && Boolean(errors.apiKey)}\n                                        helperText={touched.apiKey && errors.apiKey}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                        InputProps={{\n                                            endAdornment: (\n                                                <InputAdornment position=\"end\">\n                                                    <IconButton onClick={handleToggleApiKey}>\n                                                        {showApiKey ? <VisibilityOff /> : <Visibility />}\n                                                    </IconButton>\n                                                </InputAdornment>\n                                            ),\n                                        }}\n                                    />\n                                </FormControl>\n                                <Field\n                                    as={TextField}\n                                    label={i18n.t(\"promptModal.form.prompt\")}\n                                    name=\"prompt\"\n                                    error={touched.prompt && Boolean(errors.prompt)}\n                                    helperText={touched.prompt && errors.prompt}\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    fullWidth\n                                    rows={10}\n                                    multiline={true}\n                                />\n                                <QueueSelectSingle />\n                                <div className={classes.multFieldLine}>\n                                    <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n                                    <InputLabel>{i18n.t(\"promptModal.form.voice\")}</InputLabel>\n                                        <Select\n                                            id=\"type-select\"\n                                            labelWidth={60}\n                                            name=\"voice\"\n                                            value={selectedVoice}\n                                            onChange={handleChangeVoice}\n                                            multiple={false}\n                                        >\n                                            <MenuItem key={\"texto\"} value={\"texto\"}>\n                                                Texto\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-FranciscaNeural\"} value={\"pt-BR-FranciscaNeural\"}>\n                                                Francisa\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-AntonioNeural\"} value={\"pt-BR-AntonioNeural\"}>\n                                                Antônio\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-BrendaNeural\"} value={\"pt-BR-BrendaNeural\"}>\n                                                Brenda\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-DonatoNeural\"} value={\"pt-BR-DonatoNeural\"}>\n                                                Donato\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-ElzaNeural\"} value={\"pt-BR-ElzaNeural\"}>\n                                                Elza\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-FabioNeural\"} value={\"pt-BR-FabioNeural\"}>\n                                                Fábio\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-GiovannaNeural\"} value={\"pt-BR-GiovannaNeural\"}>\n                                                Giovanna\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-HumbertoNeural\"} value={\"pt-BR-HumbertoNeural\"}>\n                                                Humberto\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-JulioNeural\"} value={\"pt-BR-JulioNeural\"}>\n                                                Julio\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-LeilaNeural\"} value={\"pt-BR-LeilaNeural\"}>\n                                                Leila\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-LeticiaNeural\"} value={\"pt-BR-LeticiaNeural\"}>\n                                                Letícia\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-ManuelaNeural\"} value={\"pt-BR-ManuelaNeural\"}>\n                                                Manuela\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-NicolauNeural\"} value={\"pt-BR-NicolauNeural\"}>\n                                                Nicolau\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-ValerioNeural\"} value={\"pt-BR-ValerioNeural\"}>\n                                                Valério\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-YaraNeural\"} value={\"pt-BR-YaraNeural\"}>\n                                                Yara\n                                            </MenuItem>\n                                        </Select>\n                                    </FormControl>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.voiceKey\")}\n                                        name=\"voiceKey\"\n                                        error={touched.voiceKey && Boolean(errors.voiceKey)}\n                                        helperText={touched.voiceKey && errors.voiceKey}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.voiceRegion\")}\n                                        name=\"voiceRegion\"\n                                        error={touched.voiceRegion && Boolean(errors.voiceRegion)}\n                                        helperText={touched.voiceRegion && errors.voiceRegion}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                </div>\n                                \n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.temperature\")}\n                                        name=\"temperature\"\n                                        error={touched.temperature && Boolean(errors.temperature)}\n                                        helperText={touched.temperature && errors.temperature}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.max_tokens\")}\n                                        name=\"maxTokens\"\n                                        error={touched.maxTokens && Boolean(errors.maxTokens)}\n                                        helperText={touched.maxTokens && errors.maxTokens}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.max_messages\")}\n                                        name=\"maxMessages\"\n                                        error={touched.maxMessages && Boolean(errors.maxMessages)}\n                                        helperText={touched.maxMessages && errors.maxMessages}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                </div>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button\n                                    onClick={handleClose}\n                                    color=\"secondary\"\n                                    disabled={isSubmitting}\n                                    variant=\"outlined\"\n                                >\n                                    {i18n.t(\"promptModal.buttons.cancel\")}\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    variant=\"contained\"\n                                    className={classes.btnWrapper}\n                                >\n                                    {promptId\n                                        ? `${i18n.t(\"promptModal.buttons.okEdit\")}`\n                                        : `${i18n.t(\"promptModal.buttons.okAdd\")}`}\n                                    {isSubmitting && (\n                                        <CircularProgress\n                                            size={24}\n                                            className={classes.buttonProgress}\n                                        />\n                                    )}\n                                </Button>\n                            </DialogActions>\n                        </Form>\n                    )}\n                </Formik>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default PromptModal;","import React, { useContext, useEffect, useReducer, useState } from \"react\";\n\nimport {\n  Button,\n  IconButton,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography // Importar Typography do Material-UI\n} from \"@material-ui/core\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport PromptModal from \"../../components/PromptModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  // Adicione um estilo para a box vermelha\n  redBox: {\n    backgroundColor: \"#ffcccc\", // Definindo a cor de fundo vermelha\n    padding: theme.spacing(2), // Adicionando um espaçamento interno\n    marginBottom: theme.spacing(2), // Adicionando margem inferior para separar do conteúdo abaixo\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_PROMPTS\") {\n    const prompts = action.payload;\n    const newPrompts = [];\n\n    prompts.forEach((prompt) => {\n      const promptIndex = state.findIndex((p) => p.id === prompt.id);\n      if (promptIndex !== -1) {\n        state[promptIndex] = prompt;\n      } else {\n        newPrompts.push(prompt);\n      }\n    });\n\n    return [...state, ...newPrompts];\n  }\n\n  if (action.type === \"UPDATE_PROMPTS\") {\n    const prompt = action.payload;\n    const promptIndex = state.findIndex((p) => p.id === prompt.id);\n\n    if (promptIndex !== -1) {\n      state[promptIndex] = prompt;\n      return [...state];\n    } else {\n      return [prompt, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_PROMPT\") {\n    const promptId = action.payload;\n    const promptIndex = state.findIndex((p) => p.id === promptId);\n    if (promptIndex !== -1) {\n      state.splice(promptIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Prompts = () => {\n  const classes = useStyles();\n\n  const [prompts, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [promptModalOpen, setPromptModalOpen] = useState(false);\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const { user } = useContext(AuthContext);\n  const { getPlanCompany } = usePlans();\n  const history = useHistory();\n  const companyId = user.companyId;\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    async function fetchData() {\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useOpenAi) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/prompt\");\n        dispatch({ type: \"LOAD_PROMPTS\", payload: data.prompts });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-prompt`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_PROMPTS\", payload: data.prompt });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_PROMPT\", payload: data.promptId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [companyId, socketManager]);\n\n  const handleOpenPromptModal = () => {\n    setPromptModalOpen(true);\n    setSelectedPrompt(null);\n  };\n\n  const handleClosePromptModal = () => {\n    setPromptModalOpen(false);\n    setSelectedPrompt(null);\n  };\n\n  const handleEditPrompt = (prompt) => {\n    setSelectedPrompt(prompt);\n    setPromptModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedPrompt(null);\n  };\n\n  const handleDeletePrompt = async (promptId) => {\n    try {\n      const { data } = await api.delete(`/prompt/${promptId}`);\n      toast.info(i18n.t(data.message));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedPrompt(null);\n  };\n\n  return (\n    <MainContainer>\n      {/* Box vermelha com o aviso */}\n      <Paper className={classes.redBox} variant=\"outlined\">\n        <Typography variant=\"body1\">\n          <strong>Aviso Importante:</strong> Para todos os usuários do Whaticket que notaram uma interrupção no funcionamento do OpenAI, gostaríamos de esclarecer que isso não se trata de um erro do sistema. O OpenAI oferece um crédito gratuito de $5 USD para novos cadastros, porém, este benefício também está sujeito a um limite de tempo, geralmente em torno de três meses. Quando o crédito disponibilizado se esgota, é necessário recarregar a conta para continuar utilizando o serviço. É importante estar ciente dessa política para garantir uma experiência contínua e sem interrupções no uso do OpenAI com o Whaticket. Se você notou que o serviço parou de funcionar, verifique se seu crédito gratuito expirou e considere a recarga da conta, se necessário. Estamos à disposição para ajudar e esclarecer quaisquer dúvidas adicionais que possam surgir. Obrigado pela compreensão e continuaremos trabalhando para oferecer o melhor serviço possível aos nossos usuários.\n        </Typography>\n        {/* Links úteis */}\n        <Typography variant=\"body1\">\n          <strong>Links Úteis:</strong>\n          <br />\n          Uso: <a href=\"https://platform.openai.com/usage\">https://platform.openai.com/usage</a>\n          <br />\n          Fatura: <a href=\"https://platform.openai.com/account/billing/overview\">https://platform.openai.com/account/billing/overview</a>\n          <br />\n          API: <a href=\"https://platform.openai.com/api-keys\">https://platform.openai.com/api-keys</a>\n        </Typography>\n      </Paper>\n      {/* Fim da box vermelha */}\n\n      <ConfirmationModal\n        title={\n          selectedPrompt &&\n          `${i18n.t(\"prompts.confirmationModal.deleteTitle\")} ${selectedPrompt.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeletePrompt(selectedPrompt.id)}\n      >\n        {i18n.t(\"prompts.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <PromptModal\n        open={promptModalOpen}\n        onClose={handleClosePromptModal}\n        promptId={selectedPrompt?.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"prompts.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenPromptModal}\n          >\n            {i18n.t(\"prompts.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"left\">\n                {i18n.t(\"prompts.table.name\")}\n              </TableCell>\n              <TableCell align=\"left\">\n                {i18n.t(\"prompts.table.queue\")}\n              </TableCell>\n              <TableCell align=\"left\">\n                {i18n.t(\"prompts.table.max_tokens\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"prompts.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {prompts.map((prompt) => (\n                <TableRow key={prompt.id}>\n                  <TableCell align=\"left\">{prompt.name}</TableCell>\n                  <TableCell align=\"left\">{prompt.queue.name}</TableCell>\n                  <TableCell align=\"left\">{prompt.maxTokens}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditPrompt(prompt)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setSelectedPrompt(prompt);\n                        setConfirmModalOpen(true);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Prompts;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  CircularProgress,\n  Select,\n  InputLabel,\n  MenuItem,\n  FormControl,\n  TextField,\n  Grid,\n  Paper,\n} from \"@material-ui/core\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    gap: 4\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  btnLeft: {\n    display: \"flex\",\n    marginRight: \"auto\",\n    marginLeft: 12,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst DialogflowSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  // projectName: Yup.string()\n  //   .min(3, \"Too Short!\")\n  //   .max(100, \"Too Long!\")\n  //   .required(),\n  // jsonContent: Yup.string().min(3, \"Too Short!\").required(),\n  // language: Yup.string().min(2, \"Too Short!\").max(50, \"Too Long!\").required(),\n});\n\n\n\nconst QueueIntegration = ({ open, onClose, integrationId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    type: \"typebot\",\n    name: \"\",\n    projectName: \"\",\n    jsonContent: \"\",\n    language: \"\",\n    urlN8N: \"\",\n    typebotDelayMessage: 1000,\n    typebotExpires: 1,\n    typebotKeywordFinish: \"\",\n    typebotKeywordRestart: \"\",\n    typebotRestartMessage: \"\",\n    typebotSlug: \"\",\n    typebotUnknownMessage: \"\",\n\n  };\n\n  const [integration, setIntegration] = useState(initialState);\n\n  useEffect(() => {\n    (async () => {\n      if (!integrationId) return;\n      try {\n        const { data } = await api.get(`/queueIntegration/${integrationId}`);\n        setIntegration((prevState) => {\n          return { ...prevState, ...data };\n        });\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n\n    return () => {\n      setIntegration({\n        type: \"dialogflow\",\n        name: \"\",\n        projectName: \"\",\n        jsonContent: \"\",\n        language: \"\",\n        urlN8N: \"\",\n        typebotDelayMessage: 1000\n      });\n    };\n\n  }, [integrationId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setIntegration(initialState);\n  };\n\n  const handleTestSession = async (event, values) => {\n    try {\n      const { projectName, jsonContent, language } = values;\n\n      await api.post(`/queueIntegration/testSession`, {\n        projectName,\n        jsonContent,\n        language,\n      });\n\n      toast.success(i18n.t(\"queueIntegrationModal.messages.testSuccess\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleSaveDialogflow = async (values) => {\n    try {\n      if (values.type === 'n8n' || values.type === 'webhook' || values.type === 'typebot') values.projectName = values.name\n      if (integrationId) {\n        await api.put(`/queueIntegration/${integrationId}`, values);\n        toast.success(i18n.t(\"queueIntegrationModal.messages.editSuccess\"));\n      } else {\n        await api.post(\"/queueIntegration\", values);\n        toast.success(i18n.t(\"queueIntegrationModal.messages.addSuccess\"));\n      }\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"md\" scroll=\"paper\">\n        <DialogTitle>\n          {integrationId\n            ? `${i18n.t(\"queueIntegrationModal.title.edit\")}`\n            : `${i18n.t(\"queueIntegrationModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={integration}\n          enableReinitialize={true}\n          validationSchema={DialogflowSchema}\n          onSubmit={(values, actions, event) => {\n            setTimeout(() => {\n              handleSaveDialogflow(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting, values }) => (\n            <Form>\n              <Paper square className={classes.mainPaper} elevation={1}>\n                <DialogContent dividers>\n                  <Grid container spacing={1}>\n                    <Grid item xs={12} md={6} xl={6}>\n                      <FormControl\n                        variant=\"outlined\"\n                        className={classes.formControl}\n                        margin=\"dense\"\n                        fullWidth\n                      >\n                        <InputLabel id=\"type-selection-input-label\">\n                          {i18n.t(\"queueIntegrationModal.form.type\")}\n                        </InputLabel>\n\n                        <Field\n                          as={Select}\n                          label={i18n.t(\"queueIntegrationModal.form.type\")}\n                          name=\"type\"\n                          labelId=\"profile-selection-label\"\n                          error={touched.type && Boolean(errors.type)}\n                          helpertext={touched.type && errors.type}\n                          id=\"type\"\n                          required\n                        >\n                          <MenuItem value=\"dialogflow\">DialogFlow</MenuItem>\n                          <MenuItem value=\"n8n\">N8N</MenuItem>\n                          <MenuItem value=\"webhook\">WebHooks</MenuItem>\n                          <MenuItem value=\"typebot\">Typebot</MenuItem>\n                        </Field>\n                      </FormControl>\n                    </Grid>\n                    {values.type === \"dialogflow\" && (\n                      <>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\n                            autoFocus\n                            name=\"name\"\n                            fullWidth\n                            error={touched.name && Boolean(errors.name)}\n                            helpertext={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <FormControl\n                            variant=\"outlined\"\n                            className={classes.formControl}\n                            margin=\"dense\"\n                            fullWidth\n                          >\n                            <InputLabel id=\"language-selection-input-label\">\n                              {i18n.t(\"queueIntegrationModal.form.language\")}\n                            </InputLabel>\n\n                            <Field\n                              as={Select}\n                              label={i18n.t(\"queueIntegrationModal.form.language\")}\n                              name=\"language\"\n                              labelId=\"profile-selection-label\"\n                              fullWidth\n                              error={touched.language && Boolean(errors.language)}\n                              helpertext={touched.language && errors.language}\n                              id=\"language-selection\"\n                              required\n                            >\n                              <MenuItem value=\"pt-BR\">Portugues</MenuItem>\n                              <MenuItem value=\"en\">Inglês</MenuItem>\n                              <MenuItem value=\"es\">Español</MenuItem>\n                            </Field>\n                          </FormControl>\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.projectName\")}\n                            name=\"projectName\"\n                            error={touched.projectName && Boolean(errors.projectName)}\n                            helpertext={touched.projectName && errors.projectName}\n                            fullWidth\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.jsonContent\")}\n                            type=\"jsonContent\"\n                            multiline\n                            //inputRef={greetingRef}\n                            maxRows={5}\n                            minRows={5}\n                            fullWidth\n                            name=\"jsonContent\"\n                            error={touched.jsonContent && Boolean(errors.jsonContent)}\n                            helpertext={touched.jsonContent && errors.jsonContent}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                          />\n                        </Grid>\n                      </>\n                    )}\n\n                    {(values.type === \"n8n\" || values.type === \"webhook\") && (\n                      <>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\n                            autoFocus\n                            required\n                            name=\"name\"\n                            error={touched.name && Boolean(errors.name)}\n                            helpertext={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\n                            name=\"urlN8N\"\n                            error={touched.urlN8N && Boolean(errors.urlN8N)}\n                            helpertext={touched.urlN8N && errors.urlN8N}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            required\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                      </>\n                    )}\n                    {(values.type === \"typebot\") && (\n                      <>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\n                            autoFocus\n                            name=\"name\"\n                            error={touched.name && Boolean(errors.name)}\n                            helpertext={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            required\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\n                            name=\"urlN8N\"\n                            error={touched.urlN8N && Boolean(errors.urlN8N)}\n                            helpertext={touched.urlN8N && errors.urlN8N}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            required\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotSlug\")}\n                            name=\"typebotSlug\"\n                            error={touched.typebotSlug && Boolean(errors.typebotSlug)}\n                            helpertext={touched.typebotSlug && errors.typebotSlug}\n                            required\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotExpires\")}\n                            name=\"typebotExpires\"\n                            error={touched.typebotExpires && Boolean(errors.typebotExpires)}\n                            helpertext={touched.typebotExpires && errors.typebotExpires}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotDelayMessage\")}\n                            name=\"typebotDelayMessage\"\n                            error={touched.typebotDelayMessage && Boolean(errors.typebotDelayMessage)}\n                            helpertext={touched.typebotDelayMessage && errors.typebotDelayMessage}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotKeywordFinish\")}\n                            name=\"typebotKeywordFinish\"\n                            error={touched.typebotKeywordFinish && Boolean(errors.typebotKeywordFinish)}\n                            helpertext={touched.typebotKeywordFinish && errors.typebotKeywordFinish}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotKeywordRestart\")}\n                            name=\"typebotKeywordRestart\"\n                            error={touched.typebotKeywordRestart && Boolean(errors.typebotKeywordRestart)}\n                            helpertext={touched.typebotKeywordRestart && errors.typebotKeywordRestart}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotUnknownMessage\")}\n                            name=\"typebotUnknownMessage\"\n                            error={touched.typebotUnknownMessage && Boolean(errors.typebotUnknownMessage)}\n                            helpertext={touched.typebotUnknownMessage && errors.typebotUnknownMessage}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotRestartMessage\")}\n                            name=\"typebotRestartMessage\"\n                            error={touched.typebotRestartMessage && Boolean(errors.typebotRestartMessage)}\n                            helpertext={touched.typebotRestartMessage && errors.typebotRestartMessage}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        \n                      </>\n                    )}\n                  </Grid>\n                </DialogContent>\n              </Paper>\n\n              <DialogActions>\n                {values.type === \"dialogflow\" && (\n                  <Button\n                    //type=\"submit\"\n                    onClick={(e) => handleTestSession(e, values)}\n                    color=\"inherit\"\n                    disabled={isSubmitting}\n                    name=\"testSession\"\n                    variant=\"outlined\"\n                    className={classes.btnLeft}\n                  >\n                    {i18n.t(\"queueIntegrationModal.buttons.test\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"queueIntegrationModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {integrationId\n                    ? `${i18n.t(\"queueIntegrationModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"queueIntegrationModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div >\n  );\n};\n\nexport default QueueIntegration;","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport n8n from \"../../assets/n8n.png\";\nimport dialogflow from \"../../assets/dialogflow.png\";\nimport webhooks from \"../../assets/webhook.png\";\nimport typebot from \"../../assets/typebot.jpg\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport {\n  Avatar,\n  Button,\n  IconButton,\n  InputAdornment,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  Tooltip\n} from \"@material-ui/core\";\n\nimport {\n  DeleteOutline,\n  Edit\n} from \"@material-ui/icons\";\n\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport IntegrationModal from \"../../components/QueueIntegrationModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_INTEGRATIONS\") {\n    const queueIntegration = action.payload;\n    const newIntegrations = [];\n\n    queueIntegration.forEach((integration) => {\n      const integrationIndex = state.findIndex((u) => u.id === integration.id);\n      if (integrationIndex !== -1) {\n        state[integrationIndex] = integration;\n      } else {\n        newIntegrations.push(integration);\n      }\n    });\n\n    return [...state, ...newIntegrations];\n  }\n\n  if (action.type === \"UPDATE_INTEGRATIONS\") {\n    const queueIntegration = action.payload;\n    const integrationIndex = state.findIndex((u) => u.id === queueIntegration.id);\n\n    if (integrationIndex !== -1) {\n      state[integrationIndex] = queueIntegration;\n      return [...state];\n    } else {\n      return [queueIntegration, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_INTEGRATION\") {\n    const integrationId = action.payload;\n\n    const integrationIndex = state.findIndex((u) => u.id === integrationId);\n    if (integrationIndex !== -1) {\n      state.splice(integrationIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    margin: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  avatar: {\n    width: \"140px\",\n    height: \"40px\",\n    borderRadius: 4\n  },\n}));\n\nconst QueueIntegration = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedIntegration, setSelectedIntegration] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [queueIntegration, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n  const { getPlanCompany } = usePlans();\n  const companyId = user.companyId;\n  const history = useHistory();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    async function fetchData() {\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useIntegrations) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchIntegrations = async () => {\n        try {\n          const { data } = await api.get(\"/queueIntegration/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_INTEGRATIONS\", payload: data.queueIntegrations });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchIntegrations();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-queueIntegration`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_INTEGRATIONS\", payload: data.queueIntegration });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_INTEGRATION\", payload: +data.integrationId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [socketManager]);\n\n  const handleOpenUserModal = () => {\n    setSelectedIntegration(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseIntegrationModal = () => {\n    setSelectedIntegration(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditIntegration = (queueIntegration) => {\n    setSelectedIntegration(queueIntegration);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteIntegration = async (integrationId) => {\n    try {\n      await api.delete(`/queueIntegration/${integrationId}`);\n      toast.success(i18n.t(\"queueIntegration.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"queueIntegration.confirmationModal.deleteTitle\")} ${deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteIntegration(deletingUser.id)}\n      >\n        {i18n.t(\"queueIntegration.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <IntegrationModal\n        open={userModalOpen}\n        onClose={handleCloseIntegrationModal}\n        aria-labelledby=\"form-dialog-title\"\n        integrationId={selectedIntegration && selectedIntegration.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"queueIntegration.title\")} ({queueIntegration.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"queueIntegration.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon color=\"secondary\" />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenUserModal}\n          >\n            {i18n.t(\"queueIntegration.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\"></TableCell>\n              <TableCell align=\"center\">{i18n.t(\"queueIntegration.table.id\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"queueIntegration.table.name\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {queueIntegration.map((integration) => (\n                <TableRow key={integration.id}>\n                  <TableCell >\n                    {integration.type === \"dialogflow\" && (<Avatar \n                      src={dialogflow} className={classes.avatar} />)}\n                    {integration.type === \"n8n\" && (<Avatar\n                      src={n8n} className={classes.avatar} />)}\n                    {integration.type === \"webhook\" && (<Avatar\n                      src={webhooks} className={classes.avatar} />)}\n                    {integration.type === \"typebot\" && (<Avatar\n                      src={typebot} className={classes.avatar} />)}\n                  </TableCell>\n\n                  <TableCell align=\"center\">{integration.id}</TableCell>\n                  <TableCell align=\"center\">{integration.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditIntegration(integration)}\n                    >\n                      <Edit color=\"secondary\" />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingUser(integration);\n                      }}\n                    >\n                      <DeleteOutline color=\"secondary\" />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={7} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default QueueIntegration;","import React, { useState } from \"react\";\nimport qs from \"query-string\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { Formik, Form, Field } from \"formik\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport moment from \"moment\";\nimport { toast } from 'react-toastify'; \nimport toastError from '../../errors/toastError';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\n\nconst logo = `${process.env.REACT_APP_BACKEND_URL}/public/logotipos/login.png`;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100vw\",\n    height: \"100vh\",\n    background: \"black\", //Cor de fundo\n    backgroundRepeat: \"no-repeat\",\n    backgroundSize: \"100% 100%\",\n    backgroundPosition: \"center\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n  },\n  paper: {\n    backgroundColor: \"white\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: \"55px 30px\",\n    borderRadius: \"12.5px\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  powered: {\n    color: \"white\",\n  },\n}));\n\nconst passwordRegex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;\n\nconst ForgetPassword = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  let companyId = null;\n  const [showAdditionalFields, setShowAdditionalFields] = useState(false);\n  const [showResetPasswordButton, setShowResetPasswordButton] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [error, setError] = useState(\"\"); // Estado para mensagens de erro\n\n  const togglePasswordVisibility = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const toggleConfirmPasswordVisibility = () => {\n    setShowConfirmPassword(!showConfirmPassword);\n  };\n\n  const toggleAdditionalFields = () => {\n    setShowAdditionalFields(!showAdditionalFields);\n    if (showAdditionalFields) {\n      setShowResetPasswordButton(false);\n    } else {\n      setShowResetPasswordButton(true);\n    }\n  };\n\n  const params = qs.parse(window.location.search);\n  if (params.companyId !== undefined) {\n    companyId = params.companyId;\n  }\n\n  const initialState = { email: \"\" };\n\n  const [user] = useState(initialState);\n  const dueDate = moment().add(3, \"day\").format();\n\nconst handleSendEmail = async (values) => {\n  const email = values.email;\n  try {\n    const response = await api.post(\n      `${process.env.REACT_APP_BACKEND_URL}/forgetpassword/${email}`\n    );\n    console.log(\"API Response:\", response.data);\n\n    if (response.data.status === 404) {\n      toast.error(\"Email não encontrado\");\n    } else {\n      toast.success(i18n.t(\"Email enviado com sucesso!\"));\n    }\n  } catch (err) {\n    console.log(\"API Error:\", err);\n    toastError(err);\n  }\n};\n\n  const handleResetPassword = async (values) => {\n    const email = values.email;\n    const token = values.token;\n    const newPassword = values.newPassword;\n    const confirmPassword = values.confirmPassword;\n\n    if (newPassword === confirmPassword) {\n      try {\n        await api.post(\n          `${process.env.REACT_APP_BACKEND_URL}/resetpasswords/${email}/${token}/${newPassword}`\n        );\n        setError(\"\"); // Limpe o erro se não houver erro\n        toast.success(i18n.t(\"Senha redefinida com sucesso.\"));\n        history.push(\"/login\");\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  const isResetPasswordButtonClicked = showResetPasswordButton;\n  const UserSchema = Yup.object().shape({\n    email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n    newPassword: isResetPasswordButtonClicked\n      ? Yup.string()\n          .required(\"Campo obrigatório\")\n          .matches(\n            passwordRegex,\n            \"Sua senha precisa ter no mínimo 8 caracteres, sendo uma letra maiúscula, uma minúscula e um número.\"\n          )\n      : Yup.string(), // Sem validação se não for redefinição de senha\n    confirmPassword: Yup.string().when(\"newPassword\", {\n      is: (newPassword) => isResetPasswordButtonClicked && newPassword,\n      then: Yup.string()\n        .oneOf([Yup.ref(\"newPassword\"), null], \"As senhas não correspondem\")\n        .required(\"Campo obrigatório\"),\n      otherwise: Yup.string(), // Sem validação se não for redefinição de senha\n    }),\n  });\n\n  return (\n    <div className={classes.root}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <div>\n            <img\n              style={{ margin: \"0 auto\", height: \"80px\", width: \"100%\" }}\n              src={logo}\n              alt=\"Whats\"\n            />\n          </div>\n          <Typography component=\"h1\" variant=\"h5\">\n            {i18n.t(\"Redefinir senha\")}\n          </Typography>\n          <Formik\n            initialValues={{\n              email: \"\",\n              token: \"\",\n              newPassword: \"\",\n              confirmPassword: \"\",\n            }}\n            enableReinitialize={true}\n            validationSchema={UserSchema}\n            onSubmit={(values, actions) => {\n              setTimeout(() => {\n                if (showResetPasswordButton) {\n                  handleResetPassword(values);\n                } else {\n                  handleSendEmail(values);\n                }\n                actions.setSubmitting(false);\n                toggleAdditionalFields();\n              }, 400);\n            }}\n          >\n            {({ touched, errors, isSubmitting }) => (\n              <Form className={classes.form}>\n                <Grid container spacing={2}>\n                  <Grid item xs={12}>\n                    <Field\n                      as={TextField}\n                      variant=\"outlined\"\n                      fullWidth\n                      id=\"email\"\n                      label={i18n.t(\"signup.form.email\")}\n                      name=\"email\"\n                      error={touched.email && Boolean(errors.email)}\n                      helperText={touched.email && errors.email}\n                      autoComplete=\"email\"\n                      required\n                    />\n                  </Grid>\n                  {showAdditionalFields && (\n                    <>\n                      <Grid item xs={12}>\n                        <Field\n                          as={TextField}\n                          variant=\"outlined\"\n                          fullWidth\n                          id=\"token\"\n                          label=\"Código de Verificação\"\n                          name=\"token\"\n                          error={touched.token && Boolean(errors.token)}\n                          helperText={touched.token && errors.token}\n                          autoComplete=\"off\"\n                          required\n                        />\n                      </Grid>\n                      <Grid item xs={12}>\n                        <Field\n                          as={TextField}\n                          variant=\"outlined\"\n                          fullWidth\n                          type={showPassword ? \"text\" : \"password\"}\n                          id=\"newPassword\"\n                          label=\"Nova senha\"\n                          name=\"newPassword\"\n                          error={\n                            touched.newPassword &&\n                            Boolean(errors.newPassword)\n                          }\n                          helperText={\n                            touched.newPassword && errors.newPassword\n                          }\n                          autoComplete=\"off\"\n                          required\n                          InputProps={{\n                            endAdornment: (\n                              <InputAdornment position=\"end\">\n                                <IconButton\n                                  onClick={togglePasswordVisibility}\n                                >\n                                  {showPassword ? (\n                                    <VisibilityIcon />\n                                  ) : (\n                                    <VisibilityOffIcon />\n                                  )}\n                                </IconButton>\n                              </InputAdornment>\n                            ),\n                          }}\n                        />\n                      </Grid>\n                      <Grid item xs={12}>\n                        <Field\n                          as={TextField}\n                          variant=\"outlined\"\n                          fullWidth\n                          type={showConfirmPassword ? \"text\" : \"password\"}\n                          id=\"confirmPassword\"\n                          label=\"Confirme a senha\"\n                          name=\"confirmPassword\"\n                          error={\n                            touched.confirmPassword &&\n                            Boolean(errors.confirmPassword)\n                          }\n                          helperText={\n                            touched.confirmPassword &&\n                            errors.confirmPassword\n                          }\n                          autoComplete=\"off\"\n                          required\n                          InputProps={{\n                            endAdornment: (\n                              <InputAdornment position=\"end\">\n                                <IconButton\n                                  onClick={toggleConfirmPasswordVisibility}\n                                >\n                                  {showConfirmPassword ? (\n                                    <VisibilityIcon />\n                                  ) : (\n                                    <VisibilityOffIcon />\n                                  )}\n                                </IconButton>\n                              </InputAdornment>\n                            ),\n                          }}\n                        />\n                      </Grid>\n                    </>\n                  )}\n                </Grid>\n                {showResetPasswordButton ? (\n                  <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                  >\n                    Redefinir Senha\n                  </Button>\n                ) : (\n                  <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                  >\n                    Enviar Email\n                  </Button>\n                )}\n                <Grid container justifyContent=\"flex-end\">\n                  <Grid item>\n                    <Link\n                      href=\"#\"\n                      variant=\"body2\"\n                      component={RouterLink}\n                      to=\"/signup\"\n                    >\n                      {i18n.t(\"Não tem uma conta? Cadastre-se!\")}\n                    </Link>\n                  </Grid>\n                </Grid>\n                {error && (\n                  <Typography variant=\"body2\" color=\"error\">\n                    {error}\n                  </Typography>\n                )}\n              </Form>\n            )}\n          </Formik>\n        </div>\n        <Box mt={5} />\n      </Container>\n    </div>\n  );\n};\n\nexport default ForgetPassword;\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter, Switch } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport LoggedInLayout from \"../layout\";\nimport Dashboard from \"../pages/Dashboard/\";\nimport TicketResponsiveContainer from \"../pages/TicketResponsiveContainer\";\nimport Signup from \"../pages/Signup/\";\nimport Login from \"../pages/Login/\";\nimport Connections from \"../pages/Connections/\";\nimport SettingsCustom from \"../pages/SettingsCustom/\";\nimport Financeiro from \"../pages/Financeiro/\";\nimport Users from \"../pages/Users\";\nimport Contacts from \"../pages/Contacts/\";\nimport Queues from \"../pages/Queues/\";\nimport Tags from \"../pages/Tags/\";\nimport MessagesAPI from \"../pages/MessagesAPI/\";\nimport Helps from \"../pages/Helps/\";\nimport ContactLists from \"../pages/ContactLists/\";\nimport ContactListItems from \"../pages/ContactListItems/\";\nimport { ForwardMessageProvider } from \"../context/ForwarMessage/ForwardMessageContext\";\n// import Companies from \"../pages/Companies/\";\nimport QuickMessages from \"../pages/QuickMessages/\";\nimport Kanban from \"../pages/Kanban\";\nimport { AuthProvider } from \"../context/Auth/AuthContext\";\nimport { TicketsContextProvider } from \"../context/Tickets/TicketsContext\";\nimport { WhatsAppsProvider } from \"../context/WhatsApp/WhatsAppsContext\";\nimport Route from \"./Route\";\n//import kanbanSchedules from \"../pages/kanbanSchedules/\";\nimport Schedules from \"../pages/Schedules\";\nimport Campaigns from \"../pages/Campaigns\";\nimport CampaignsConfig from \"../pages/CampaignsConfig\";\nimport CampaignReport from \"../pages/CampaignReport\";\nimport Annoucements from \"../pages/Annoucements\";\nimport Chat from \"../pages/Chat\";\nimport ToDoList from \"../pages/ToDoList/\";\nimport Subscription from \"../pages/Subscription/\";\nimport Files from \"../pages/Files/\";\nimport Prompts from \"../pages/Prompts\";\nimport QueueIntegration from \"../pages/QueueIntegration\";\nimport ForgetPassword from \"../pages/ForgetPassWord/\"; // Reset PassWd\n\nconst Routes = () => {\n  const [showCampaigns, setShowCampaigns] = useState(false);\n\n  useEffect(() => {\n    const cshow = localStorage.getItem(\"cshow\");\n    if (cshow !== undefined) {\n      setShowCampaigns(true);\n    }\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n\t  <ForwardMessageProvider>\n        <TicketsContextProvider>\n          <Switch>\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/signup\" component={Signup} />\n\t\t\t<Route exact path=\"/forgetpsw\" component={ForgetPassword} /> \n            {/* <Route exact path=\"/create-company\" component={Companies} /> */}\n            <WhatsAppsProvider>\n              <LoggedInLayout>\n                <Route exact path=\"/\" component={Dashboard} isPrivate />\n                <Route\n                  exact\n                  path=\"/tickets/:ticketId?\"\n                  component={TicketResponsiveContainer}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/connections\"\n                  component={Connections}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/quick-messages\"\n                  component={QuickMessages}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/todolist\"\n                  component={ToDoList}\n                  isPrivate\n                  />\n                <Route\n                  exact\n                  path=\"/schedules\"\n                  component={Schedules}\n                  isPrivate\n                />\n                <Route exact path=\"/tags\" component={Tags} isPrivate />\n                <Route exact path=\"/contacts\" component={Contacts} isPrivate />\n                <Route exact path=\"/helps\" component={Helps} isPrivate />\n                <Route exact path=\"/users\" component={Users} isPrivate />\n                <Route exact path=\"/files\" component={Files} isPrivate />\n                <Route exact path=\"/prompts\" component={Prompts} isPrivate />\n                <Route exact path=\"/queue-integration\" component={QueueIntegration} isPrivate />\n\t\t\t\t\t{/*<Route exact path=\"/kanban-schedules\" component={kanbanSchedules} isPrivate />*/}\n                <Route\n                  exact\n                  path=\"/messages-api\"\n                  component={MessagesAPI}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/settings\"\n                  component={SettingsCustom}\n                  isPrivate\n                />\n\t\t\t\t        <Route \n                  exact\n                  path=\"/kanban\"\n                  component={Kanban}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/financeiro\"\n                  component={Financeiro}\n                  isPrivate\n                />\n                <Route exact path=\"/queues\" component={Queues} isPrivate />\n                <Route\n                  exact\n                  path=\"/announcements\"\n                  component={Annoucements}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/subscription\"\n                  component={Subscription}\n                  isPrivate\n                />\n                <Route exact path=\"/chats/:id?\" component={Chat} isPrivate />\n                {showCampaigns && (\n                  <>\n                    <Route\n                      exact\n                      path=\"/contact-lists\"\n                      component={ContactLists}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/contact-lists/:contactListId/contacts\"\n                      component={ContactListItems}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/campaigns\"\n                      component={Campaigns}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/campaign/:campaignId/report\"\n                      component={CampaignReport}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/campaigns-config\"\n                      component={CampaignsConfig}\n                      isPrivate\n                    />\n                  </>\n                )}\n              </LoggedInLayout>\n            </WhatsAppsProvider>\n          </Switch>\n          <ToastContainer autoClose={3000} />\n        </TicketsContextProvider>\n\t\t</ForwardMessageProvider>\n      </AuthProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React, { useState, useEffect } from \"react\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\nimport lightBackground from '../src/assets/wa-background-light.png';\nimport darkBackground from '../src/assets/wa-background-dark.jpg';\nimport { ptBR } from \"@material-ui/core/locale\";\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { useMediaQuery } from \"@material-ui/core\";\nimport ColorModeContext from \"./layout/themeContext\";\nimport { SocketContext, SocketManager } from './context/Socket/SocketContext';\n\nimport Routes from \"./routes\";\n\nconst queryClient = new QueryClient();\n\nconst App = () => {\n    const [locale, setLocale] = useState();\n\n    const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\n    const preferredTheme = window.localStorage.getItem(\"preferredTheme\");\n    const [mode, setMode] = useState(preferredTheme ? preferredTheme : prefersDarkMode ? \"dark\" : \"light\");\n\n    const colorMode = React.useMemo(\n        () => ({\n            toggleColorMode: () => {\n                setMode((prevMode) => (prevMode === \"light\" ? \"dark\" : \"light\"));\n            },\n        }),\n        []\n    );\n\n    const theme = createTheme(\n        {\n            scrollbarStyles: {\n                \"&::-webkit-scrollbar\": {\n                    width: '8px',\n                    height: '8px',\n\t\t\t\t\tborderRadius: \"8px\",\n                },\n                \"&::-webkit-scrollbar-thumb\": {\n                    boxShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.3)',\n                    backgroundColor: \"#2f0549\",\n\t\t\t\t\tborderRadius: \"8px\",\n                },\n            },\n            scrollbarStylesSoft: {\n                \"&::-webkit-scrollbar\": {\n                    width: \"8px\",\n\t\t\t\t\tborderRadius: \"8px\",\n                },\n                \"&::-webkit-scrollbar-thumb\": {\n                    backgroundColor: mode === \"light\" ? \"#F3F3F3\" : \"#333333\",\n\t\t\t\t\tborderRadius: \"8px\",\n                },\n            },\n            palette: {\n                type: mode,\n                primary: { main: mode === \"light\" ? \"#2f0549\" : \"#FFFFFF\" },\n\t\t\t\tsair: { main: mode === \"light\" ? \"#2f0549\" : \"#333\" },\n\t\t\t\tvcard: { main: mode === \"light\" ? \"#2f0549\" : \"#666\" },\n                textPrimary: mode === \"light\" ? \"#2f0549\" : \"#FFFFFF\",\n                borderPrimary: mode === \"light\" ? \"#2f0549\" : \"#FFFFFF\",\n                dark: { main: mode === \"light\" ? \"#333333\" : \"#F3F3F3\" },\n                light: { main: mode === \"light\" ? \"#F3F3F3\" : \"#333333\" },\n                tabHeaderBackground: mode === \"light\" ? \"#EEE\" : \"#666\",\n                optionsBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\n\t\t\t\toptions: mode === \"light\" ? \"#fafafa\" : \"#666\",\n\t\t\t\tfontecor: mode === \"light\" ? \"#128c7e\" : \"#fff\",\n                fancyBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\n\t\t\t\tbordabox: mode === \"light\" ? \"#eee\" : \"#333\",\n\t\t\t\tnewmessagebox: mode === \"light\" ? \"#eee\" : \"#333\",\n\t\t\t\tinputdigita: mode === \"light\" ? \"#fff\" : \"#666\",\n\t\t\t\tcontactdrawer: mode === \"light\" ? \"#fff\" : \"#666\",\n\t\t\t\tannouncements: mode === \"light\" ? \"#ededed\" : \"#333\",\n\t\t\t\tlogin: mode === \"light\" ? \"#fff\" : \"#1C1C1C\",\n\t\t\t\tannouncementspopover: mode === \"light\" ? \"#fff\" : \"#666\",\n\t\t\t\tchatlist: mode === \"light\" ? \"#eee\" : \"#666\",\n\t\t\t\tboxlist: mode === \"light\" ? \"#ededed\" : \"#666\",\n\t\t\t\tboxchatlist: mode === \"light\" ? \"#ededed\" : \"#333\",\n                total: mode === \"light\" ? \"#fff\" : \"#222\",\n                messageIcons: mode === \"light\" ? \"grey\" : \"#F3F3F3\",\n                inputBackground: mode === \"light\" ? \"#FFFFFF\" : \"#333\",\n                barraSuperior: mode === \"light\" ? \"linear-gradient(to right, #2f0549, #2f0549 , #2f0549)\" : \"#666\",\n\t\t\t\tboxticket: mode === \"light\" ? \"#EEE\" : \"#666\",\n\t\t\t\tcampaigntab: mode === \"light\" ? \"#ededed\" : \"#666\",\n\t\t\t\tmediainput: mode === \"light\" ? \"#ededed\" : \"#1c1c1c\",\n            },\n            mode,\n        },\n        locale\n    );\n\n    useEffect(() => {\n        const i18nlocale = localStorage.getItem(\"i18nextLng\");\n        const browserLocale =\n            i18nlocale.substring(0, 2) + i18nlocale.substring(3, 5);\n\n        if (browserLocale === \"ptBR\") {\n            setLocale(ptBR);\n        }\n    }, []);\n\n    useEffect(() => {\n        window.localStorage.setItem(\"preferredTheme\", mode);\n    }, [mode]);\n\n\n\n    return (\n        <ColorModeContext.Provider value={{ colorMode }}>\n            <ThemeProvider theme={theme}>\n                <QueryClientProvider client={queryClient}>\n                  <SocketContext.Provider value={SocketManager}>\n                      <Routes />\n                  </SocketContext.Provider>\n                </QueryClientProvider>\n            </ThemeProvider>\n        </ColorModeContext.Provider>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport * as serviceworker from './serviceWorker'\n\nimport App from \"./App\";\n\nReactDOM.render(\n\t<CssBaseline>\n\t\t<App />\n\t</CssBaseline>,\n\tdocument.getElementById(\"root\"),\n\t() => {\n\t\twindow.finishProgress();\n\t}\n);\n\nserviceworker.register()","export function register() {\n  console.log(\"Registrando service worker\", navigator)\n  if ('serviceWorker' in navigator) {\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      navigator.serviceWorker.register(swUrl)\n        .then((registration) => {\n          console.log('Service worker registrado com sucesso!', registration);\n        })\n        .catch((error) => {\n          console.error('Erro durante o registro do service worker:', error);\n        });\n    });\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error('Erro durante o desregistro do service worker:', error);\n      });\n  }\n}\n","module.exports = __webpack_public_path__ + \"static/media/wa-background.2675a051.png\";","module.exports = __webpack_public_path__ + \"static/media/wa-background-dark.8244f042.png\";","module.exports = __webpack_public_path__ + \"static/media/planilha.549edeba.xlsx\";","module.exports = __webpack_public_path__ + \"static/media/sound.9fd5812c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/chat_notify.2529c259.mp3\";","module.exports = __webpack_public_path__ + \"static/media/n8n.5c788b8d.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/webhook.e5374d73.png\";","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/wa-background-light.adbccee0.png\";","module.exports = __webpack_public_path__ + \"static/media/wa-background-dark.2c2b95e0.jpg\";"],"sourceRoot":""}